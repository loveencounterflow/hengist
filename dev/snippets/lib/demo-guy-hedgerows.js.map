{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-guy-hedgerows.coffee"
  ],
  "names": [],
  "mappings": "AAI4G;EAAA;AAAA,MAAA,GAAA,EAAA,KAAA,EAAA,SAAA,EAAA,KAAA,EAAA,MAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,GAAA,EAAA,YAAA,EAAA,KAAA,EAAA,MAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA;;EAC5G,GAAA,GAA4B,OAAA,CAAQ,mBAAR;;EAC5B,CAAA,CAAE,KAAF,EACE,KADF,EAEE,IAFF,EAGE,IAHF,EAIE,KAJF,EAKE,MALF,EAME,IANF,EAOE,IAPF,EAQE,OARF,CAAA,GAQ4B,GAAG,CAAC,GAAG,CAAC,WAAR,CAAoB,wBAApB,CAR5B;;EASA,CAAA,CAAE,GAAF,EACE,OADF,EAEE,IAFF,EAGE,GAHF,CAAA,GAG4B,GAAG,CAAC,GAHhC;;EAIA,GAAA,GAA4B,GAAG,CAAC,GAAG,CAAC;;EACpC,KAAA,GAA4B,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAd,CAAmB,GAAG,CAAC,GAAvB;;EAC5B,CAAA,CAAE,SAAF,CAAA,GAA4B,OAAA,CAAQ,yBAAR,CAA5B;;EACA,KAAA,GAA4B,IAAI,SAAJ,CAAA;;EAC5B,CAAA,CAAE,OAAF,EACE,MADF,EAEE,GAFF,EAGE,QAHF,CAAA,GAG4B,KAH5B;;EAIA,YAAA,GAA4B,MAAM,CAAC,GAAP,CAAW,4BAAX,EAvBgF;;;EA2B5G,OAAO,CAAC,iBAAR,CACE;IAAA,OAAA,EAAc,UAAd;IACA,OAAA,EACE;MAAA,MAAA,EAAY;IAAZ;EAFF,CADF,EA3B4G;;;EAiC5G,OAAO,CAAC,iBAAR,CACE;IAAA,OAAA,EAAc,UAAd;IACA,OAAA,EACE;MAAA,MAAA,EAAY;IAAZ;EAFF,CADF,EAjC4G;;;EAuCtG,QAAN,MAAA,MAAA,CAAA;;IAGE,WAAa,CAAE,GAAF,CAAA;AACf,UAAA;MAAI,IAAC,CAAA,GAAD,GAAU,MAAM,CAAC,iBAAP,CAAyB,GAAzB;MACV,IAAC,CAAA,KAAD,GACE;QAAA,MAAA,EAAQ;MAAR;MACF,CAAA,GAAU,IAAC,CAAA,gBAAD,CAAkB,IAAlB,EAAwB,GAAG,CAAC,MAA5B;AACV,aAAO;IALI,CADf;;;IASE,gBAAkB,CAAE,MAAF,EAAU,KAAV,CAAA;AACpB,UAAA,CAAA,EAAA;MAAI,GAAA,GAEE,CAAA;;QAAA,GAAA,EAAK,CAAE,MAAF,EAAU,GAAV,CAAA,GAAA;AACX,cAAA,CAAA,EAAA,MAAA,EAAA;UAAQ,IAAyC,GAAA,KAAO,MAAM,CAAC,WAAvD;AAAA,mBAAO,CAAA,CAAA,CAAG,MAAM,CAAC,WAAW,CAAC,IAAtB,CAAA,EAAP;;UACA,IAAyC,GAAA,KAAO,aAAhD;AAAA,mBAAO,MAAM,CAAC,YAAd;;UACA,IAAyC,GAAA,KAAO,UAAhD;AAAA,mBAAO,MAAM,CAAC,SAAd;;UACA,IAAyC,GAAA,KAAO,MAAhD;AAAA,mBAAO,MAAM,CAAC,KAAd;;UACA,IAAyC,GAAA,KAAO,OAAhD;AAAA,mBAAO,MAAM,CAAC,MAAd;;UACA,IAAyC,GAAA,KAAO,MAAM,CAAC,QAAvD;AAAA,mBAAO,MAAM,CAAE,MAAM,CAAC,QAAT,EAAb;;UACA,IAAyC,GAAA,KAAO,YAAhD;AAAA,mBAAO,MAAM,CAAE,YAAF,EAAb;;UAEA,IAAyC,GAAA,KAAO,GAAhD;;AAAA,mBAAO,MAAM,CAAE,CAAF,EAAb;WARR;;UAUQ,IAAG,MAAH;YAAgB,IAAC,CAAA,KAAK,CAAC,MAAP,GAAgB,CAAE,GAAF,EAAhC;WAAA,MAAA;YACgB,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,IAAd,CAAmB,GAAnB,EADhB;;UAGA,IAAY,CAAE,CAAA,GAAI,MAAM,CAAE,GAAF,CAAZ,CAAA,KAA2B,MAAvC;;AAAA,mBAAO,EAAP;;UACA,MAAA,GAAgB,CAAE,GAAA,IAAC,CAAA,KAAK,CAAC,MAAT,EAdxB;;UAgBQ,SAAA,GAAgB,CAAA,GAAE,CAAF,CAAA,GAAA;mBAAY,IAAC,CAAA,GAAG,CAAC,MAAL,CAAY,MAAZ,EAAoB,GAAA,CAApB;UAAZ;AAChB,uCAAO,MAAM,CAAE,GAAF,IAAN,MAAM,CAAE,GAAF,IAAW,IAAC,CAAA,gBAAD,CAAkB,KAAlB,EAAyB,SAAzB;QAlBrB;MAAL,EAFN;;aAsBI,CAAA,GAAI,IAAI,KAAJ,CAAU,KAAV,EAAiB,GAAjB;IAvBY;;EAXpB,EAvC4G;;;EA6E5G,IAAG,MAAA,KAAU,OAAO,CAAC,IAArB;IAAkC,CAAA,CAAA,CAAA,GAAA;AAElC,UAAA,OAAA,EAAA,IAAA,EAAA,KAAA;;MACE,IAAA,GAAQ,QAAA,CAAE,MAAF,EAAU,CAAV,CAAA;AACV,YAAA;QAAI,IAAO,CAAE,KAAA,GAAQ,SAAS,CAAC,MAApB,CAAA,KAAgC,CAAvC;UACE,MAAM,IAAI,KAAJ,CAAU,CAAA,oCAAA,CAAA,CAAuC,KAAA,GAAQ,CAA/C,CAAA,CAAV,EADR;;QAEA,IAAA,CAAK,SAAL,EAAgB,CAAE,MAAF,EAAU,CAAV,CAAhB;AACA,eAAO;MAJD,EADV;;MAQE,OAAA,GAAW,QAAA,CAAE,MAAF,EAAU,GAAV,CAAA;AACb,YAAA,UAAA;;;;QAGI,IAAO,CAAE,UAAA,GAAa,MAAM,CAAC,MAAtB,CAAA,KAAkC,CAAzC;UACE,MAAM,IAAI,KAAJ,CAAU,CAAA,iCAAA,CAAA,CAAoC,GAAA,CAAI,MAAJ,CAApC,CAAA,CAAV,EADR;;QAEA,IAAA,CAAK,SAAL,EAAgB,CAAE,MAAF,EAAU,GAAV,CAAhB;AACA,eAAO;MAPE,EARb;;MAkBE,IAAA,CAAK,SAAL,EAAgB,GAAA,GAAU,IAAI,KAAJ,CAAU;QAAE,MAAA,EAAQ;MAAV,CAAV,CAA1B;MACA,IAAA,CAAK,SAAL,EAAgB,MAAA,GAAU,IAAI,KAAJ,CAAU;QAAE,MAAA,EAAQ;MAAV,CAAV,CAA1B,EAnBF;;MAqBE,IAAA,CAAK,UAAL;AAAiB;iBAAI,GAAA,CAAI,CAAJ,EAAJ;SAAiB,cAAA;UAAM;iBAAW,IAAA,CAAK,GAAA,CAAI,KAAK,CAAC,OAAV,CAAL,EAAjB;;UAAlC;MACA,IAAA,CAAK,UAAL;AAAiB;iBAAI,GAAA,CAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAJ;SAAiB,cAAA;UAAM;iBAAW,IAAA,CAAK,GAAA,CAAI,KAAK,CAAC,OAAV,CAAL,EAAjB;;UAAlC,EAtBF;;MAwBE,IAAA,CAAK,UAAL,EAAiB,MAAM,CAAC,GAAP,CAAW,QAAA,CAAE,CAAF,CAAA;eAAS,CAAE,CAAA,KAAK,CAAP,CAAA,IAAc,CAAE,CAAA,KAAK,GAAP;MAAvB,CAAX,CAAjB,EAxBF;;MA0BE,IAAA,CAAK,UAAL,EAAiB,GAAA,CAAI,CAAE,KAAF,CAAJ,EAAgB,CAAhB,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAG,CAAC,GAAJ,CAAQ,CAAR,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAG,CAAC,GAAG,CAAC,GAAR,CAAY,CAAZ,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAZ,CAAkB,CAAlB,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAlB,CAAuB,CAAvB,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAA,CAAI,CAAE,KAAF,EAAS,KAAT,EAAgB,OAAhB,EAAyB,MAAzB,EAAiC,MAAjC,CAAJ,EAAgD,CAAhD,CAAjB;MACA,IAAA,CAAK,UAAL,EAAiB,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAvB,CAA4B,CAA5B,CAAjB,EAhCF;;AAmCE,aAAO;IArCyB,CAAA,IAAlC;;AA7E4G",
  "sourcesContent": [
    "\n\n\n\n############################################################################################################\nGUY                       = require '../../../apps/guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'GUY/demo-guy-hedgerows'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\nrvr                       = GUY.trm.reverse\ntruth                     = GUY.trm.truth.bind GUY.trm\n{ Intertype }             = require '../../../apps/intertype'\ntypes                     = new Intertype()\n{ declare\n  create\n  isa\n  validate  }             = types\nnode_inspect              = Symbol.for 'nodejs.util.inspect.custom'\n\n\n#-----------------------------------------------------------------------------------------------------------\ndeclare.hdg_new_hedge_cfg\n  $target:      'function'\n  default:\n    target:     null\n\n#-----------------------------------------------------------------------------------------------------------\ndeclare.hdg_get_proxy_cfg\n  $target:      'function'\n  default:\n    target:     null\n\n#-----------------------------------------------------------------------------------------------------------\nclass Hedge\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    @cfg    = create.hdg_new_hedge_cfg cfg\n    @state  =\n      hedges: null\n    R       = @_get_hedge_proxy true, cfg.target\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  _get_hedge_proxy: ( is_top, owner ) ->\n    dsc =\n      #-----------------------------------------------------------------------------------------------------\n      get: ( target, key ) =>\n        return \"#{target.constructor.name}\"   if key is Symbol.toStringTag\n        return target.constructor             if key is 'constructor'\n        return target.toString                if key is 'toString'\n        return target.call                    if key is 'call'\n        return target.apply                   if key is 'apply'\n        return target[ Symbol.iterator  ]     if key is Symbol.iterator\n        return target[ node_inspect     ]     if key is node_inspect\n        ### NOTE necessitated by behavior of `node:util.inspect()`: ###\n        return target[ 0                ]     if key is '0'\n        #...................................................................................................\n        if is_top then  @state.hedges = [ key, ]\n        else            @state.hedges.push key\n        #...................................................................................................\n        return R if ( R = target[ key ] ) isnt undefined\n        hedges        = [ @state.hedges..., ]\n        #...................................................................................................\n        sub_owner     = ( P... ) => @cfg.target hedges, P...\n        return target[ key ] ?= @_get_hedge_proxy false, sub_owner\n    #.......................................................................................................\n    R = new Proxy owner, dsc\n\n\n############################################################################################################\nif module is require.main then do =>\n\n  #---------------------------------------------------------------------------------------------------------\n  _isa  = ( hedges, x ) ->\n    unless ( arity = arguments.length ) is 2\n      throw new Error \"^387^ expected single argument, got #{arity - 1}\"\n    help '^450-5^', { hedges, x, }\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  _create  = ( hedges, isa ) ->\n    # unless ( arity = arguments.length ) is 1\n    #   throw new Error \"^387^ expected no arguments, got #{arity - 1}\"\n    ### TAINT also check for hedges being a list ###\n    unless ( hedgecount = hedges.length ) is 1\n      throw new Error \"^387^ expected single hedge, got #{rpr hedges}\"\n    help '^450-5^', { hedges, isa, }\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  info '^450-6^', isa     = new Hedge { target: _isa, }\n  info '^450-6^', create  = new Hedge { target: _create, }\n  #.........................................................................................................\n  info '^450-12^', try isa 1        catch error then warn rvr error.message\n  info '^450-12^', try isa 1, 2, 3  catch error then warn rvr error.message\n  #.........................................................................................................\n  info '^450-12^', create.one ( x ) -> ( x is 1 ) or ( x is '1' )\n  #.........................................................................................................\n  info '^450-12^', isa [ 'one', ], 1\n  info '^450-12^', isa.one 1\n  info '^450-13^', isa.one.two 2\n  info '^450-14^', isa.one.two.three 3\n  info '^450-15^', isa.one.two.three.four 4\n  info '^450-16^', isa [ 'one', 'two', 'three', 'four', 'five', ], 5\n  info '^450-16^', isa.one.two.three.four.five 5\n\n  #---------------------------------------------------------------------------------------------------------\n  return null\n"
  ]
}