{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-guy-hedgerows.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n############################################################################################################\nGUY                       = require '../../../apps/guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'GUY/demo-guy-hedgerows'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\nrvr                       = GUY.trm.reverse\ntruth                     = GUY.trm.truth.bind GUY.trm\n{ Intertype }             = require '../../../apps/intertype'\ntypes                     = new Intertype()\n{ declare\n  create\n  isa\n  validate  }             = types\n\n#-----------------------------------------------------------------------------------------------------------\ndeclare.hdg_new_hedge_cfg\n  $target:      'function'\n  default:\n    target:     null\n\n#-----------------------------------------------------------------------------------------------------------\ndeclare.hdg_get_proxy_cfg\n  $target:      'function'\n  default:\n    target:     null\n\n#-----------------------------------------------------------------------------------------------------------\nclass Hedge\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    @cfg    = create.hdg_new_hedge_cfg cfg\n    @state  =\n      hedges: null\n    R       = @_get_top_proxy @cfg\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  _get_top_proxy: ( cfg ) ->\n    dsc =\n      get: ( target, key ) =>\n        @state.hedges = [ key, ]\n        return R if ( R = target[ key ] ) isnt undefined\n        hedges        = [ @state.hedges..., ]\n        sub_target    = ( P... ) => @cfg.target hedges, P...\n        return target[ key ] ?= @_get_sub_proxy { target: sub_target, }\n    R = new Proxy cfg.target, dsc\n\n  #---------------------------------------------------------------------------------------------------------\n  _get_sub_proxy: ( cfg ) ->\n    dsc =\n      get: ( target, key ) =>\n        @state.hedges.push key\n        return R if ( R = target[ key ] ) isnt undefined\n        hedges        = [ @state.hedges..., ]\n        sub_target    = ( P... ) => @cfg.target hedges, P...\n        return target[ key ] ?= @_get_sub_proxy { target: sub_target, }\n    R = new Proxy cfg.target, dsc\n\n\n\n\n############################################################################################################\nif module is require.main then do =>\n\n  #---------------------------------------------------------------------------------------------------------\n  isa  = ( hedges, x ) ->\n    unless ( arity = arguments.length ) is 2\n      throw new Error \"^387^ expected 2 arguments, got #{arity}\"\n    help '^450-5^', { hedges, x, }\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  info '^450-6^', h = new Hedge { target: isa, }\n  #.........................................................................................................\n  info '^450-12^', try h 1        catch error then warn rvr error.message\n  info '^450-12^', try h 1, 2, 3  catch error then warn rvr error.message\n  #.........................................................................................................\n  info '^450-12^', h [ 'one', ], 1\n  info '^450-12^', h.one 1\n  info '^450-13^', h.one.two 2\n  info '^450-14^', h.one.two.three 3\n  info '^450-14^', h.one.two.three 3\n  info '^450-15^', h.one.two.three.four 4\n  info '^450-16^', h [ 'one', 'two', 'three', 'four', 'five', ], 5\n  info '^450-16^', h.one.two.three.four.five 5\n\n  #---------------------------------------------------------------------------------------------------------\n  return null\n"
  ]
}