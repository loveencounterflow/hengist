{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-cozo-graph-db.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'DEMO-COZO'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n#...........................................................................................................\ntest                      = require '../../../apps/guy-test'\nPATH                      = require 'path'\n# FS                        = require 'fs'\ntypes                     = new ( require 'intertype' ).Intertype\n{ isa\n  equals\n  type_of\n  validate\n  validate_list_of }      = types.export()\nH                         = require '../../../lib/helpers'\nFS                        = require 'node:fs'\n{ CozoDb }                = require 'cozo-node'\n\n\n\n# debug '^32748^', require '/tmp/cozo-demo/node_modules/.pnpm/cozo-node'\ndebug '^32748^', require 'cozo-node'\n\n\n#-----------------------------------------------------------------------------------------------------------\n@demo = ->\n  db = new CozoDb()\n  #.........................................................................................................\n  show = ( title, query, params ) ->\n    try\n      data = await db.run query, params\n    catch error\n      echo error.display ? error.message\n      return null\n    whisper '^34-1^', rpr data\n    table = []\n    for row in data.rows\n      r = {}\n      table.push r\n      for value, idx in row\n        r[ data.headers[ idx ] ] = value\n    H.tabulate title, table\n    return null\n  #.........................................................................................................\n  await show '#1', \"?[] <- [['hello', 'world!']]\"\n  await show '#2', \"?[] <- [['hello', 'world', $name]]\", {\"name\": \"JavaScript\"}\n  await show '#3', \"?[a] <- [[1, 2]]\"\n  await show '#4', \"\"\"\n    parent[] <- [\n      ['a4', 'a3'],\n      ['a3', 'a2'],\n      ['a2', 'a1'],\n      ['joseph', 'jakob'],\n      ['jakob', 'issac'],\n      ['issac', 'abraham'] ]\n    grandparent[  _grandchild,                    _grandparent                    ] :=\n                  parent[ _grandchild, _parent ], parent[ _parent, _grandparent ]\n    # ?[grandson, who] := 'abraham', grandparent[who, 'abraham' ]\n    # ?[ who ] := grandparent[who, 'issac']\n    ?[ who ] := parent[ 'jakob', who ]\n    ?[ who ] := grandparent[ 'jakob', who ]\n    # ?[who] := grandparent[who, 'a2']\n    # ?[who] := grandparent[who, 'a1']\n    \"\"\"\n  await show '#5', \"\"\"?[] <- [ [ 1, 2, 3, ], ['hello', 'world', 'Cozo!']]\"\"\"\n  await show '#5', \"\"\"::relations\"\"\"\n  await db.backup '/tmp/foo.cozo'\n  return null\n\n\n############################################################################################################\nif module is require.main then do =>\n  @demo()\n  return null\n\n\n\n\n\n"
  ]
}