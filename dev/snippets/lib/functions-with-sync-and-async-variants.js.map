{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/functions-with-sync-and-async-variants.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr.bind CND\nbadge                     = 'CUPOFJOE'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\n#...........................................................................................................\n@types                    = new ( require 'intertype' ).Intertype()\n{ isa\n  validate\n  type_of }               = @types.export()\ndefer                     = setImmediate\nafter                     = ( dts, f ) -> setTimeout f, dts * 1000\nsleep                     = ( dts ) -> new Promise ( done ) -> after dts, done\n\n\n###\n\n* You have a function `f()` that may work snychronously or asynchronously, depending on runtime\n  factors.\n* As such, making it the consumer's responsibility to choose bewteen `f_sync ...` or `await f_async ...` is\n  not the problem;\n* but the implementations for `f_sync()` and `f_async()` would be almost identical save for one or a few\n  conditional branches\n\n###\n\n#===========================================================================================================\nclass Exp1\n\n  #---------------------------------------------------------------------------------------------------------\n  expand_sync: ( list ) ->\n    for element, idx in list\n      debug 'expand_sync', { idx, element, }\n      switch type = type_of element\n        when 'function'       then list[ idx ] = element()\n        when 'asyncfunction'  then throw new Error \"unable to resolve asny function snychronously\"\n    return list\n\n  #---------------------------------------------------------------------------------------------------------\n  expand_async: ( list ) ->\n    for element, idx in list\n      debug 'expand_async', { idx, element, }\n      switch type = type_of element\n        when 'function'       then list[ idx ] = value =        element()\n        when 'asyncfunction'  then list[ idx ] = value = await  element()\n      # if type_of value is 'promise' then list[ idx ] = await value\n      if isa.thenable value then list[ idx ] = await value\n    return list\n\n  #---------------------------------------------------------------------------------------------------------\n  demo: ->\n    info @expand_sync [ 4, ( -> 42 ), 8, ]\n    f = -> new Promise ( done ) ->\n      await sleep 0\n      done 'async!'\n    debug f()\n    debug await f()\n    info await @expand_async [ ( -> 'sync' ), f, 8, ]\n    return null\n\n\n############################################################################################################\nif module is require.main then do =>\n  exp1 = new Exp1()\n  await exp1.demo()\n\n\n\n"
  ]
}