{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/construction.tests.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DBAY/TESTS/CONSTRUCTION'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\ntest                      = require '../../../apps/guy-test'\nPATH                      = require 'path'\nH                         = require './helpers'\ntypes                     = new ( require 'intertype' ).Intertype\n{ isa\n  type_of\n  validate\n  validate_list_of }      = types.export()\nSQL                       = String.raw\nguy                       = require '../../../apps/guy'\n\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"DBAY constructor arguments 1\" ] = ( T, done ) ->\n  { Dbay }           = require H.dbay_path\n  class Dbay2 extends Dbay\n    @_rnd_int_cfg: true\n  #.........................................................................................................\n  { work_path: db_path, } = await H.procure_db { size: 'small', ref: 'ctor-1', }\n  info '^3443^', { db_path, }\n  #.........................................................................................................\n  probes_and_matchers = [\n    #-------------------------------------------------------------------------------------------------------\n    [ { ram: false,  path: null,      dbnick: null,     }, null, \"missing argument `path`\",              ] ### 5  ###\n    [ { ram: false,  path: null,      dbnick: 'dbnick', }, null, \"missing argument `path`\",              ] ### 6  ###\n    [ { ram: null,   path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 4  ###\n    [ { ram: false,  path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 8  ###\n    #.......................................................................................................\n    [ { ram: null,   path: null,      dbnick: null,     }, { ram: true,                   dbnick: '_6200294332',  url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 1  ###\n    [ { ram: null,   path: null,      dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',       url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 2  ###\n    [ { ram: null,   path: db_path,   dbnick: null      }, { ram: false, path: db_path,                                          }, null, ] ### 3  ###\n    [ { ram: false,  path: db_path,   dbnick: null,     }, { ram: false, path: db_path,                                          }, null, ] ### 7  ###\n    [ { ram: true,   path: null,      dbnick: null,     }, { ram: true,                   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 9  ###\n    [ { ram: true,   path: null,      dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 10 ###\n    [ { ram: true,   path: db_path,   dbnick: null,     }, { ram: true,  path: db_path,   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 11 ###\n    [ { ram: true,   path: db_path,   dbnick: 'dbnick', }, { ram: true,  path: db_path,   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 12 ###\n    #-------------------------------------------------------------------------------------------------------\n    null\n    [ { ram: false,     path: undefined, dbnick: undefined,}, null, \"missing argument `path`\",              ] ### 5  ###\n    [ { ram: false,     path: undefined, dbnick: 'dbnick', }, null, \"missing argument `path`\",              ] ### 6  ###\n    [ { ram: undefined, path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 4  ###\n    [ { ram: false,     path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 8  ###\n    #.......................................................................................................\n    [ { ram: undefined, path: undefined, dbnick: undefined,}, { ram: true,                   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 1  ###\n    [ { ram: undefined, path: undefined, dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 2  ###\n    [ { ram: undefined, path: db_path,   dbnick: undefined }, { ram: false, path: db_path,                                          }, null, ] ### 3  ###\n    [ { ram: false,     path: db_path,   dbnick: undefined,}, { ram: false, path: db_path,                                          }, null, ] ### 7  ###\n    [ { ram: true,      path: undefined, dbnick: undefined,}, { ram: true,                   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 9  ###\n    [ { ram: true,      path: undefined, dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 10 ###\n    [ { ram: true,      path: db_path,   dbnick: undefined,}, { ram: true,  path: db_path,   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 11 ###\n    [ { ram: true,      path: db_path,   dbnick: 'dbnick', }, { ram: true,  path: db_path,   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 12 ###\n    #-------------------------------------------------------------------------------------------------------\n    null\n    [ { ram: false,                                        }, null, \"missing argument `path`\",              ] ### 5  ###\n    [ { ram: false,                      dbnick: 'dbnick', }, null, \"missing argument `path`\",              ] ### 6  ###\n    [ {                 path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 4  ###\n    [ { ram: false,     path: db_path,   dbnick: 'dbnick', }, null, \"only RAM DB can have both `path` and `dbnick`\", ] ### 8  ###\n    #.......................................................................................................\n    [ null,                                                   { ram: true,                   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 1  ###\n    [ {                                  dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 2  ###\n    [ {                 path: db_path,                     }, { ram: false, path: db_path,                                          }, null, ] ### 3  ###\n    [ { ram: false,     path: db_path,                     }, { ram: false, path: db_path,                                          }, null, ] ### 7  ###\n    [ { ram: true,                                         }, { ram: true,                   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 9  ###\n    [ { ram: true,                       dbnick: 'dbnick', }, { ram: true,                   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 10 ###\n    [ { ram: true,      path: db_path,                     }, { ram: true,  path: db_path,   dbnick: '_6200294332', url: 'file:_6200294332?mode=memory&cache=shared', }, null, ] ### 11 ###\n    [ { ram: true,      path: db_path,   dbnick: 'dbnick', }, { ram: true,  path: db_path,   dbnick: 'dbnick',      url: 'file:dbnick?mode=memory&cache=shared', }, null, ] ### 12 ###\n    ]\n  #.........................................................................................................\n  for x in probes_and_matchers\n    if x is null\n      whisper '-'.repeat 108\n      continue\n    [ probe, matcher, error, ] = x\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      do =>\n        result = { ( new Dbay2 probe ).cfg..., }\n        for k of result\n          delete result[ k ] unless k in [ 'ram', 'path', 'dbnick', 'url', ]\n        # resolve result\n        resolve result\n      return null\n  #.........................................................................................................\n  done?()\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"DBAY: _get_connection_url()\" ] = ( T, done ) ->\n  # T?.halt_on_error()\n  { Dbay }               = require H.dbay_path\n  #.........................................................................................................\n  class Dbay2 extends Dbay\n    @_rnd_int_cfg: true\n  #.........................................................................................................\n  db = new Dbay2 { ram: null, }\n  T?.eq db._get_connection_url(), { url: 'file:_4260041910?mode=memory&cache=shared', dbnick: '_4260041910' }\n  T?.eq db._get_connection_url(), { url: 'file:_9982321802?mode=memory&cache=shared', dbnick: '_9982321802' }\n  T?.eq db._get_connection_url(), { url: 'file:_2420402559?mode=memory&cache=shared', dbnick: '_2420402559' }\n  T?.eq db._get_connection_url(), { url: 'file:_1965667491?mode=memory&cache=shared', dbnick: '_1965667491' }\n  T?.eq db._get_connection_url(), { url: 'file:_7714686943?mode=memory&cache=shared', dbnick: '_7714686943' }\n  T?.eq ( db._get_connection_url 'yournamehere' ), { url: 'file:yournamehere?mode=memory&cache=shared', dbnick: 'yournamehere' }\n  #.........................................................................................................\n  info db._get_connection_url()\n  info db._get_connection_url 'yournamehere'\n  done?()\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"DBAY instance has two connections\" ] = ( T, done ) ->\n  { Dbay }        = require H.dbay_path\n  Sqlt            = require PATH.join H.dbay_path, 'node_modules/better-sqlite3'\n  bsqlite_class   = Sqlt().constructor\n  db              = new Dbay()\n  # debug '^332^', db\n  # debug '^332^', db.cfg\n  T?.eq db.sqlt1.name, db.sqlt2.name\n  T?.ok db.sqlt1.constructor is bsqlite_class\n  T?.ok db.sqlt2.constructor is bsqlite_class\n  T?.ok db.sqlt2.constructor is db.sqlt1.constructor\n  T?.ok db.sqlt2 isnt db.sqlt1\n  done?()\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"DBAY instance non-enumerable properties\" ] = ( T, done ) ->\n  { Dbay }        = require H.dbay_path\n  Sqlt            = require PATH.join H.dbay_path, 'node_modules/better-sqlite3'\n  db              = new Dbay()\n  debug '^332^', db\n  T?.eq ( Object.getOwnPropertyDescriptor db, 'sqlt1'     ).enumerable, false\n  T?.eq ( Object.getOwnPropertyDescriptor db, 'sqlt2'     ).enumerable, false\n  T?.eq ( Object.getOwnPropertyDescriptor db, '_rnd_int'  ).enumerable, false\n  # debug '^332^', db.cfg\n  done?()\n\n\n\n\n\n############################################################################################################\nif require.main is module then do =>\n  test @\n  # test @[ \"DBAY attach memory connections\" ]\n  # @[ \"DBAY attach memory connections\" ]()\n  # test @[ \"DBAY constructor arguments 1\" ]\n  # test @[ \"DBAY instance non-enumerable properties\" ]\n  # test @[ \"DBAY: _get_connection_url()\" ]\n  # test @[ \"DBAY instance has two connections\" ]\n\n\n"
  ]
}