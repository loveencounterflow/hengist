{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/htmlish.tests.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n# coffeelint: disable=max_line_length\n\n############################################################################################################\nCND                       = require 'cnd'\nbadge                     = 'PARAGATE/INTERIM-TESTS'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n{ jr, }                   = CND\n#...........................................................................................................\ntest                      = require 'guy-test'\nINTERTEXT                 = require 'intertext'\n{ rpr }                   = INTERTEXT.export()\n{ isa\n  type_of }               = INTERTEXT.types\n{ lets }                  = ( require 'datom' ).export()\nH                         = require './test-helpers'\nGUY                       = require '../../../apps/guy'\n\n\n#===========================================================================================================\n# TESTS\n#-----------------------------------------------------------------------------------------------------------\n# @[ \"API\" ] = ( T, done ) ->\n#   grammar       = require './grammar'\n#   grammar  = require './../paragate/lib/htmlish.grammar'\n#   debug '^34334^', rpr ( k for k of grammar )\n#   debug '^34334^', rpr ( k for k of grammar )\n#   # urge grammar.parse \"\"\"<title>Helo Worlds</title>\"\"\"\n#   return done()\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML: parse (1)\" ] = ( T, done ) ->\n  HTML = require '../../../apps/paragate/lib/htmlish.grammar'\n  probes_and_matchers = [\n    [ '<!DOCTYPE html>',    [ { '$key': '<document', start: 0, stop: 0, source: '<!DOCTYPE html>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '^doctype', start: 0, stop: 15, text: '<!DOCTYPE html>', '$vnr': [ 1, 1 ] }, { '$key': '>document', start: 15, stop: 15, '$vnr': [ Infinity ] } ], null ]\n    [ '<!DOCTYPE obvious>', [ { '$key': '<document', start: 0, stop: 0, source: '<!DOCTYPE obvious>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '^doctype', start: 0, stop: 18, text: '<!DOCTYPE obvious>', '$vnr': [ 1, 1 ] }, { '$key': '>document', start: 18, stop: 18, '$vnr': [ Infinity ] } ], null ]\n    [ '<title>Helo Worlds</title>', [ { '$key': '<document', start: 0, stop: 0, source: '<title>Helo Worlds</title>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'title', type: 'otag', text: '<title>', start: 0, stop: 7, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 7, stop: 18, text: 'Helo Worlds', '$vnr': [ 1, 8 ] }, { '$key': '>tag', name: 'title', type: 'ctag', text: '</title>', start: 18, stop: 26, '$vnr': [ 1, 19 ] }, { '$key': '>document', start: 26, stop: 26, '$vnr': [ Infinity ] } ], null ]\n    [ '<img width=200>', [ { '$key': '<document', start: 0, stop: 0, source: '<img width=200>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'img', type: 'otag', text: '<img width=200>', start: 0, stop: 15, atrs: { width: '200' }, '$vnr': [ 1, 1 ] }, { '$key': '>document', start: 15, stop: 15, '$vnr': [ Infinity ] } ], null ]\n    [ '<foo/>', [ { '$key': '<document', start: 0, stop: 0, source: '<foo/>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '^tag', name: 'foo', type: 'stag', text: '<foo/>', start: 0, stop: 6, '$vnr': [ 1, 1 ] }, { '$key': '>document', start: 6, stop: 6, '$vnr': [ Infinity ] } ], null ]\n    [ '<foo></foo>', [ { '$key': '<document', start: 0, stop: 0, source: '<foo></foo>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'foo', type: 'otag', text: '<foo>', start: 0, stop: 5, '$vnr': [ 1, 1 ] }, { '$key': '>tag', name: 'foo', type: 'ctag', text: '</foo>', start: 5, stop: 11, '$vnr': [ 1, 6 ] }, { '$key': '>document', start: 11, stop: 11, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>here and<br></br>there</p>', [ { '$key': '<document', start: 0, stop: 0, source: '<p>here and<br></br>there</p>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '>tag', name: 'br', type: 'ctag', text: '</br>', start: 15, stop: 20, '$vnr': [ 1, 16 ] }, { '$key': '^text', start: 20, stop: 25, text: 'there', '$vnr': [ 1, 21 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 25, stop: 29, '$vnr': [ 1, 26 ] }, { '$key': '>document', start: 29, stop: 29, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>here and<br>there', [ { '$key': '<document', start: 0, stop: 0, source: '<p>here and<br>there', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 15, stop: 20, text: 'there', '$vnr': [ 1, 16 ] }, { '$key': '>document', start: 20, stop: 20, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>here and<br>there</p>', [ { '$key': '<document', start: 0, stop: 0, source: '<p>here and<br>there</p>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 15, stop: 20, text: 'there', '$vnr': [ 1, 16 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 20, stop: 24, '$vnr': [ 1, 21 ] }, { '$key': '>document', start: 24, stop: 24, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>here and<br x=42/>there</p>', [ { '$key': '<document', start: 0, stop: 0, source: '<p>here and<br x=42/>there</p>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '^tag', name: 'br', type: 'stag', text: '<br x=42/>', start: 11, stop: 21, atrs: { x: '42' }, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 21, stop: 26, text: 'there', '$vnr': [ 1, 22 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 26, stop: 30, '$vnr': [ 1, 27 ] }, { '$key': '>document', start: 30, stop: 30, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>here and<br/>there</p>', [ { '$key': '<document', start: 0, stop: 0, source: '<p>here and<br/>there</p>', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '^tag', name: 'br', type: 'stag', text: '<br/>', start: 11, stop: 16, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 16, stop: 21, text: 'there', '$vnr': [ 1, 17 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 21, stop: 25, '$vnr': [ 1, 22 ] }, { '$key': '>document', start: 25, stop: 25, '$vnr': [ Infinity ] } ], null ]\n    [ 'just some plain text', [ { '$key': '<document', start: 0, stop: 0, source: 'just some plain text', errors: [], '$vnr': [ -Infinity ] }, { '$key': '^text', start: 0, stop: 20, text: 'just some plain text', '$vnr': [ 1, 1 ] }, { '$key': '>document', start: 20, stop: 20, '$vnr': [ Infinity ] } ], null ]\n    [ '<p>one<p>two', [ { '$key': '<document', start: 0, stop: 0, source: '<p>one<p>two', errors: [], '$vnr': [ -Infinity ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 6, text: 'one', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 6, stop: 9, '$vnr': [ 1, 7 ] }, { '$key': '^text', start: 9, stop: 12, text: 'two', '$vnr': [ 1, 10 ] }, { '$key': '>document', start: 12, stop: 12, '$vnr': [ Infinity ] } ], null ]\n    ]\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n      resolve H.delete_refs HTML.grammar.parse probe\n  #.........................................................................................................\n  done()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML: parse (1a)\" ] = ( T, done ) ->\n  HTML = require '../../../apps/paragate/lib/htmlish.grammar'\n  probes_and_matchers = [\n    [ '<!DOCTYPE html>', \"$key='^doctype',$vnr=[ 1, 1 ],start=0,stop=15,text='<!DOCTYPE html>'\", null ]\n    [ '<!DOCTYPE obvious>', \"$key='^doctype',$vnr=[ 1, 1 ],start=0,stop=18,text='<!DOCTYPE obvious>'\", null ]\n    [ '<title>Helo Worlds</title>', \"$key='<tag',$vnr=[ 1, 1 ],name='title',start=0,stop=7,text='<title>',type='otag'#$key='^text',$vnr=[ 1, 8 ],start=7,stop=18,text='Helo Worlds'#$key='>tag',$vnr=[ 1, 19 ],name='title',start=18,stop=26,text='</title>',type='ctag'\", null ]\n    [ '<img width=200>', \"$key='<tag',$vnr=[ 1, 1 ],atrs={ width: '200' },name='img',start=0,stop=15,text='<img width=200>',type='otag'\", null ]\n    [ '<foo/>', \"$key='^tag',$vnr=[ 1, 1 ],name='foo',start=0,stop=6,text='<foo/>',type='stag'\", null ]\n    [ '<foo></foo>', \"$key='<tag',$vnr=[ 1, 1 ],name='foo',start=0,stop=5,text='<foo>',type='otag'#$key='>tag',$vnr=[ 1, 6 ],name='foo',start=5,stop=11,text='</foo>',type='ctag'\", null ]\n    [ '<p>here and<br></br>there</p>', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=11,text='here and'#$key='<tag',$vnr=[ 1, 12 ],name='br',start=11,stop=15,text='<br>',type='otag'#$key='>tag',$vnr=[ 1, 16 ],name='br',start=15,stop=20,text='</br>',type='ctag'#$key='^text',$vnr=[ 1, 21 ],start=20,stop=25,text='there'#$key='>tag',$vnr=[ 1, 26 ],name='p',start=25,stop=29,text='</p>',type='ctag'\", null ]\n    [ '<p>here and<br>there', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=11,text='here and'#$key='<tag',$vnr=[ 1, 12 ],name='br',start=11,stop=15,text='<br>',type='otag'#$key='^text',$vnr=[ 1, 16 ],start=15,stop=20,text='there'\", null ]\n    [ '<p>here and<br>there</p>', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=11,text='here and'#$key='<tag',$vnr=[ 1, 12 ],name='br',start=11,stop=15,text='<br>',type='otag'#$key='^text',$vnr=[ 1, 16 ],start=15,stop=20,text='there'#$key='>tag',$vnr=[ 1, 21 ],name='p',start=20,stop=24,text='</p>',type='ctag'\", null ]\n    [ '<p>here and<br x=42/>there</p>', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=11,text='here and'#$key='^tag',$vnr=[ 1, 12 ],atrs={ x: '42' },name='br',start=11,stop=21,text='<br x=42/>',type='stag'#$key='^text',$vnr=[ 1, 22 ],start=21,stop=26,text='there'#$key='>tag',$vnr=[ 1, 27 ],name='p',start=26,stop=30,text='</p>',type='ctag'\", null ]\n    [ '<p>here and<br/>there</p>', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=11,text='here and'#$key='^tag',$vnr=[ 1, 12 ],name='br',start=11,stop=16,text='<br/>',type='stag'#$key='^text',$vnr=[ 1, 17 ],start=16,stop=21,text='there'#$key='>tag',$vnr=[ 1, 22 ],name='p',start=21,stop=25,text='</p>',type='ctag'\", null ]\n    [ 'just some plain text', \"$key='^text',$vnr=[ 1, 1 ],start=0,stop=20,text='just some plain text'\", null ]\n    [ '<p>one<p>two', \"$key='<tag',$vnr=[ 1, 1 ],name='p',start=0,stop=3,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 4 ],start=3,stop=6,text='one'#$key='<tag',$vnr=[ 1, 7 ],name='p',start=6,stop=9,text='<p>',type='otag'#$key='^text',$vnr=[ 1, 10 ],start=9,stop=12,text='two'\", null ]\n    ]\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n      resolve H.condense_tokens HTML.grammar.parse probe\n  #.........................................................................................................\n  done()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML: parse bare\" ] = ( T, done ) ->\n  HTML = require '../../../apps/paragate/lib/htmlish.grammar'\n  probes_and_matchers = [\n    [ '<!DOCTYPE html>', [ { '$key': '^doctype', start: 0, stop: 15, text: '<!DOCTYPE html>', '$vnr': [ 1, 1 ] } ], null ]\n    [ '<!DOCTYPE obvious>', [ { '$key': '^doctype', start: 0, stop: 18, text: '<!DOCTYPE obvious>', '$vnr': [ 1, 1 ] } ], null ]\n    [ '<title>Helo Worlds</title>', [ { '$key': '<tag', name: 'title', type: 'otag', text: '<title>', start: 0, stop: 7, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 7, stop: 18, text: 'Helo Worlds', '$vnr': [ 1, 8 ] }, { '$key': '>tag', name: 'title', type: 'ctag', text: '</title>', start: 18, stop: 26, '$vnr': [ 1, 19 ] } ], null ]\n    [ '<img width=200>', [ { '$key': '<tag', name: 'img', type: 'otag', text: '<img width=200>', start: 0, stop: 15, atrs: { width: '200' }, '$vnr': [ 1, 1 ] } ], null ]\n    [ '<foo/>', [ { '$key': '^tag', name: 'foo', type: 'stag', text: '<foo/>', start: 0, stop: 6, '$vnr': [ 1, 1 ] } ], null ]\n    [ '<foo></foo>', [ { '$key': '<tag', name: 'foo', type: 'otag', text: '<foo>', start: 0, stop: 5, '$vnr': [ 1, 1 ] }, { '$key': '>tag', name: 'foo', type: 'ctag', text: '</foo>', start: 5, stop: 11, '$vnr': [ 1, 6 ] } ], null ]\n    [ '<p>here and<br></br>there</p>', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '>tag', name: 'br', type: 'ctag', text: '</br>', start: 15, stop: 20, '$vnr': [ 1, 16 ] }, { '$key': '^text', start: 20, stop: 25, text: 'there', '$vnr': [ 1, 21 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 25, stop: 29, '$vnr': [ 1, 26 ] } ], null ]\n    [ '<p>here and<br>there', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 15, stop: 20, text: 'there', '$vnr': [ 1, 16 ] } ], null ]\n    [ '<p>here and<br>there</p>', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'br', type: 'otag', text: '<br>', start: 11, stop: 15, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 15, stop: 20, text: 'there', '$vnr': [ 1, 16 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 20, stop: 24, '$vnr': [ 1, 21 ] } ], null ]\n    [ '<p>here and<br x=42/>there</p>', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '^tag', name: 'br', type: 'stag', text: '<br x=42/>', start: 11, stop: 21, atrs: { x: '42' }, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 21, stop: 26, text: 'there', '$vnr': [ 1, 22 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 26, stop: 30, '$vnr': [ 1, 27 ] } ], null ]\n    [ '<p>here and<br/>there</p>', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 11, text: 'here and', '$vnr': [ 1, 4 ] }, { '$key': '^tag', name: 'br', type: 'stag', text: '<br/>', start: 11, stop: 16, '$vnr': [ 1, 12 ] }, { '$key': '^text', start: 16, stop: 21, text: 'there', '$vnr': [ 1, 17 ] }, { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 21, stop: 25, '$vnr': [ 1, 22 ] } ], null ]\n    [ 'just some plain text', [ { '$key': '^text', start: 0, stop: 20, text: 'just some plain text', '$vnr': [ 1, 1 ] } ], null ]\n    [ '<p>one<p>two', [ { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 1, 1 ] }, { '$key': '^text', start: 3, stop: 6, text: 'one', '$vnr': [ 1, 4 ] }, { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 6, stop: 9, '$vnr': [ 1, 7 ] }, { '$key': '^text', start: 9, stop: 12, text: 'two', '$vnr': [ 1, 10 ] } ], null ]\n    ]\n  grammar = new HTML.new_grammar { bare: true, }\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n      resolve H.delete_refs grammar.parse probe\n  #.........................................................................................................\n  done()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML: $parse\" ] = ( T, done ) ->\n  SP        = require 'steampipes'\n  HTML      = require '../../../apps/paragate/lib/htmlish.grammar'\n  #.........................................................................................................\n  source    = [\n    \"<title>A Short Document</title>\"\n    \"<p>The Nemean lion (<ipa>/nɪˈmiːən/</ipa>; Greek: <greek>Νεμέος λέων</greek> Neméos léōn; \"\n    \"Latin: Leo Nemeaeus) was a vicious monster in <a href='greek-mythology'>Greek mythology</a> \"\n    \"that lived at Nemea.\"\n    \"</p>\"\n    ]\n  pipeline  = []\n  pipeline.push source\n  pipeline.push HTML.$parse()\n  pipeline.push SP.$watch ( d ) -> info d\n  pipeline.push SP.$drain ( ds ) ->\n    result = H.delete_refs ds\n    T.eq result, [\n      { '$vnr': [ 1, 0 ], '$key': '^newline' }\n      { '$key': '<tag', name: 'title', type: 'otag', text: '<title>', start: 0, stop: 7, '$vnr': [ 1, 1 ], }\n      { '$key': '^text', start: 7, stop: 23, text: 'A Short Document', '$vnr': [ 1, 8 ], }\n      { '$key': '>tag', name: 'title', type: 'ctag', text: '</title>', start: 23, stop: 31, '$vnr': [ 1, 24 ], }\n      { '$vnr': [ 2, 0 ], '$key': '^newline' }\n      { '$key': '<tag', name: 'p', type: 'otag', text: '<p>', start: 0, stop: 3, '$vnr': [ 2, 1 ], }\n      { '$key': '^text', start: 3, stop: 20, text: 'The Nemean lion (', '$vnr': [ 2, 4 ], }\n      { '$key': '<tag', name: 'ipa', type: 'otag', text: '<ipa>', start: 20, stop: 25, '$vnr': [ 2, 21 ], }\n      { '$key': '^text', start: 25, stop: 35, text: '/nɪˈmiːən/', '$vnr': [ 2, 26 ], }\n      { '$key': '>tag', name: 'ipa', type: 'ctag', text: '</ipa>', start: 35, stop: 41, '$vnr': [ 2, 36 ], }\n      { '$key': '^text', start: 41, stop: 50, text: '; Greek: ', '$vnr': [ 2, 42 ], }\n      { '$key': '<tag', name: 'greek', type: 'otag', text: '<greek>', start: 50, stop: 57, '$vnr': [ 2, 51 ], }\n      { '$key': '^text', start: 57, stop: 68, text: 'Νεμέος λέων', '$vnr': [ 2, 58 ], }\n      { '$key': '>tag', name: 'greek', type: 'ctag', text: '</greek>', start: 68, stop: 76, '$vnr': [ 2, 69 ], }\n      { '$key': '^text', start: 76, stop: 90, text: ' Neméos léōn; ', '$vnr': [ 2, 77 ], }\n      { '$vnr': [ 3, 0 ], '$key': '^newline' }\n      { '$key': '^text', start: 0, stop: 46, text: 'Latin: Leo Nemeaeus) was a vicious monster in ', '$vnr': [ 3, 1 ], }\n      { '$key': '<tag', name: 'a', type: 'otag', text: \"<a href='greek-mythology'>\", start: 46, stop: 72, atrs: { href: \"'greek-mythology'\" }, '$vnr': [ 3, 47 ], }\n      { '$key': '^text', start: 72, stop: 87, text: 'Greek mythology', '$vnr': [ 3, 73 ], }\n      { '$key': '>tag', name: 'a', type: 'ctag', text: '</a>', start: 87, stop: 91, '$vnr': [ 3, 88 ], }\n      { '$key': '^text', start: 91, stop: 92, text: ' ', '$vnr': [ 3, 92 ], }\n      { '$vnr': [ 4, 0 ], '$key': '^newline' }\n      { '$key': '^text', start: 0, stop: 20, text: 'that lived at Nemea.', '$vnr': [ 4, 1 ], }\n      { '$vnr': [ 5, 0 ], '$key': '^newline' }\n      { '$key': '>tag', name: 'p', type: 'ctag', text: '</p>', start: 0, stop: 4, '$vnr': [ 5, 1 ], }\n      ]\n    done()\n  SP.pull pipeline...\n  return null\n  #.........................................................................................................\n  done()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML: parse (dubious)\" ] = ( T, done ) ->\n  HTML = require '../../../apps/paragate/lib/htmlish.grammar'\n  probes_and_matchers = [\n    [ '< >', \"$key='<tag',$vnr=[ 1, 1 ],start=0,stop=3,text='< >',type='otag'#$key='^error',$vnr=[ 1, 3 ],chvtname='MismatchedTokenException',code='mismatch',origin='parser',start=2,stop=3,text='>'\", null ]\n    [ '< x >', \"$key='<tag',$vnr=[ 1, 1 ],name='x',start=0,stop=5,text='< x >',type='otag'\", null ]\n    [ '<>', \"$key='<tag',$vnr=[ 1, 1 ],start=0,stop=2,text='<>',type='otag'#$key='^error',$vnr=[ 1, 2 ],chvtname='MismatchedTokenException',code='mismatch',origin='parser',start=1,stop=2,text='>'\", null ]\n    [ '<', \"$key='^error',$vnr=[ 1, 1 ],chvtname='MismatchedTokenException',code='mismatch',origin='parser',start=0,stop=1,text='<'\", null ]\n    [ '<tag', \"$key='<tag',$vnr=[ 1, 1 ],name='tag',start=0,stop=4,text='<tag'#$key='^error',$vnr=[ 1, 2 ],chvtname='NoViableAltException',code='missing',origin='parser',start=1,stop=4,text='tag'\", null ]\n    [ 'if <math> a > b </math> then', \"$key='^text',$vnr=[ 1, 1 ],start=0,stop=3,text='if '#$key='<tag',$vnr=[ 1, 4 ],name='math',start=3,stop=9,text='<math>',type='otag'#$key='^text',$vnr=[ 1, 10 ],start=9,stop=16,text=' a > b '#$key='>tag',$vnr=[ 1, 17 ],name='math',start=16,stop=23,text='</math>',type='ctag'#$key='^text',$vnr=[ 1, 24 ],start=23,stop=28,text=' then'\", null ]\n    [ '>', \"$key='^text',$vnr=[ 1, 1 ],start=0,stop=1,text='>'\", null ]\n    [ '&', \"$key='^text',$vnr=[ 1, 1 ],start=0,stop=1,text='&'\", null ]\n    [ '&amp;', \"$key='^text',$vnr=[ 1, 1 ],start=0,stop=5,text='&amp;'\", null ]\n    [ \"<tag a='<'>\", \"\"\"$key='<tag',$vnr=[ 1, 1 ],atrs={ a: \"'<'\" },name='tag',start=0,stop=11,text=\"<tag a='<'>\",type='otag'\"\"\", null ]\n    ]\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n      resolve H.condense_tokens HTML.grammar.parse probe\n  #.........................................................................................................\n  done()\n  return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML.$datoms_from_html\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../..'\n#   { HTML, }                 = INTERTEXT\n#   SP                        = require 'steampipes'\n#   # SP                        = require '../../apps/steampipes'\n#   { $\n#     $async\n#     $drain\n#     $watch\n#     $show  }                = SP.export()\n#   #.........................................................................................................\n#   probe         = \"\"\"\n#     <p>A <em>concise</em> introduction to the things discussed below.</p>\n#     \"\"\"\n#   matcher = [{\"$key\":\"<p\"},{\"text\":\"A \",\"$key\":\"^text\"},{\"$key\":\"<em\"},{\"text\":\"concise\",\"$key\":\"^text\"},{\"$key\":\">em\"},{\"text\":\" introduction to the things discussed below.\",\"$key\":\"^text\"},{\"$key\":\">p\"}]\n#   #.........................................................................................................\n#   pipeline      = []\n#   pipeline.push [ ( Buffer.from probe ), ]\n#   pipeline.push SP.$split()\n#   pipeline.push HTML.$datoms_from_html()\n#   pipeline.push $show()\n#   pipeline.push $drain ( result ) =>\n#     help jr result\n#     T.eq result, matcher\n#     done()\n#   SP.pull pipeline...\n#   #.........................................................................................................\n#   return null\n\n\n############################################################################################################\n############################################################################################################\n############################################################################################################\n############################################################################################################\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML.datoms_from_html (1)\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { HTML, }                 = INTERTEXT\n#   probes_and_matchers = [\n#     [\"<!DOCTYPE html>\",[{\"$key\":\"^report\",\"source\":\"<!DOCTYPE html>\",\"errors\":[]},{\"$key\":\"^DOCTYPE\",\"text\":\"<!DOCTYPE html>\",\"start\":0,\"stop\":15,\"escaped\":true}],null]\n#     [\"<!DOCTYPE obvious>\",[{\"$key\":\"^report\",\"source\":\"<!DOCTYPE obvious>\",\"errors\":[]},{\"$key\":\"^DOCTYPE\",\"text\":\"<!DOCTYPE obvious>\",\"start\":0,\"stop\":18,\"escaped\":true}],null]\n#     [\"<img width=200>\",[{\"$key\":\"^report\",\"source\":\"<img width=200>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"img\",\"type\":\"otag\",\"text\":\"<img width=200>\",\"start\":0,\"stop\":15,\"atrs\":{\"width\":\"200\"}}],null]\n#     [\"<foo/>\",[{\"$key\":\"^report\",\"source\":\"<foo/>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"foo\",\"type\":\"stag\",\"text\":\"<foo/>\",\"start\":0,\"stop\":6}],null]\n#     [\"<foo></foo>\",[{\"$key\":\"^report\",\"source\":\"<foo></foo>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"foo\",\"type\":\"otag\",\"text\":\"<foo>\",\"start\":0,\"stop\":5},{\"$key\":\">tag\",\"name\":\"foo\",\"type\":\"ctag\",\"text\":\"</foo>\",\"start\":5,\"stop\":11}],null]\n#     [\"<p>here and<br></br>there</p>\",[{\"$key\":\"^report\",\"source\":\"<p>here and<br></br>there</p>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"here and\",\"start\":3,\"stop\":11},{\"$key\":\"<tag\",\"name\":\"br\",\"type\":\"otag\",\"text\":\"<br>\",\"start\":11,\"stop\":15},{\"$key\":\">tag\",\"name\":\"br\",\"type\":\"ctag\",\"text\":\"</br>\",\"start\":15,\"stop\":20},{\"$key\":\"^text\",\"text\":\"there\",\"start\":20,\"stop\":25},{\"$key\":\">tag\",\"name\":\"p\",\"type\":\"ctag\",\"text\":\"</p>\",\"start\":25,\"stop\":29}],null]\n#     [\"<p>here and<br>there\",[{\"$key\":\"^report\",\"source\":\"<p>here and<br>there\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"here and\",\"start\":3,\"stop\":11},{\"$key\":\"<tag\",\"name\":\"br\",\"type\":\"otag\",\"text\":\"<br>\",\"start\":11,\"stop\":15},{\"$key\":\"^text\",\"text\":\"there\",\"start\":15,\"stop\":20}],null]\n#     [\"<p>here and<br>there</p>\",[{\"$key\":\"^report\",\"source\":\"<p>here and<br>there</p>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"here and\",\"start\":3,\"stop\":11},{\"$key\":\"<tag\",\"name\":\"br\",\"type\":\"otag\",\"text\":\"<br>\",\"start\":11,\"stop\":15},{\"$key\":\"^text\",\"text\":\"there\",\"start\":15,\"stop\":20},{\"$key\":\">tag\",\"name\":\"p\",\"type\":\"ctag\",\"text\":\"</p>\",\"start\":20,\"stop\":24}],null]\n#     [\"<p>here and<br x=42/>there</p>\",[{\"$key\":\"^report\",\"source\":\"<p>here and<br x=42/>there</p>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"here and\",\"start\":3,\"stop\":11},{\"$key\":\"<tag\",\"name\":\"br\",\"type\":\"stag\",\"text\":\"<br x=42/>\",\"start\":11,\"stop\":21,\"atrs\":{\"x\":\"42\"}},{\"$key\":\"^text\",\"text\":\"there\",\"start\":21,\"stop\":26},{\"$key\":\">tag\",\"name\":\"p\",\"type\":\"ctag\",\"text\":\"</p>\",\"start\":26,\"stop\":30}],null]\n#     [\"<p>here and<br/>there</p>\",[{\"$key\":\"^report\",\"source\":\"<p>here and<br/>there</p>\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"here and\",\"start\":3,\"stop\":11},{\"$key\":\"<tag\",\"name\":\"br\",\"type\":\"stag\",\"text\":\"<br/>\",\"start\":11,\"stop\":16},{\"$key\":\"^text\",\"text\":\"there\",\"start\":16,\"stop\":21},{\"$key\":\">tag\",\"name\":\"p\",\"type\":\"ctag\",\"text\":\"</p>\",\"start\":21,\"stop\":25}],null]\n#     [\"just some plain text\",[{\"$key\":\"^report\",\"source\":\"just some plain text\",\"errors\":[]},{\"$key\":\"^text\",\"text\":\"just some plain text\",\"start\":0,\"stop\":20}],null]\n#     [\"<p>one<p>two\",[{\"$key\":\"^report\",\"source\":\"<p>one<p>two\",\"errors\":[]},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":0,\"stop\":3},{\"$key\":\"^text\",\"text\":\"one\",\"start\":3,\"stop\":6},{\"$key\":\"<tag\",\"name\":\"p\",\"type\":\"otag\",\"text\":\"<p>\",\"start\":6,\"stop\":9},{\"$key\":\"^text\",\"text\":\"two\",\"start\":9,\"stop\":12}],null]\n#     ]\n#   for [ probe, matcher, error, ] in probes_and_matchers\n#     await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n#       resolve HTML.datoms_from_html probe\n#   #.........................................................................................................\n#   done()\n#   return null\n\n# ###\n# #-----------------------------------------------------------------------------------------------------------\n# probes_and_matchers = [\n#   [\"<!DOCTYPE html>\",[{\"data\":{\"html\":true},\"$key\":\"<!DOCTYPE\"}],null]\n#   [\"<title>MKTS</title>\",[{\"$key\":\"<title\"},{\"text\":\"MKTS\",\"$key\":\"^text\"},{\"$key\":\">title\"}],null]\n#   [\"<document/>\",[{\"$key\":\"<document\"},{\"$key\":\">document\"}],null]\n#   [\"<foo bar baz=42>\",[{\"data\":{\"bar\":true,\"baz\":\"42\"},\"$key\":\"<foo\"}],null]\n#   [\"<br/>\",[{\"$key\":\"^br\"}],null]\n#   [\"</thing>\",[{\"$key\":\">thing\"}],null]\n#   [\"</foo>\",[{\"$key\":\">foo\"}],null]\n#   [\"</document>\",[{\"$key\":\">document\"}],null]\n#   [\"<title>MKTS</title>\",[{\"$key\":\"<title\"},{\"text\":\"MKTS\",\"$key\":\"^text\"},{\"$key\":\">title\"}],null]\n#   [\"<p foo bar=42>omg</p>\",[{\"data\":{\"foo\":true,\"bar\":\"42\"},\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"omg\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<document/><foo bar baz=42>something<br/>else</thing></foo>\",[{\"$key\":\"<document\"},{\"$key\":\">document\"},{\"data\":{\"bar\":true,\"baz\":\"42\"},\"$key\":\"<foo\"},{\"text\":\"something\",\"$key\":\"^text\"},{\"$key\":\"^br\"},{\"text\":\"else\",\"$key\":\"^text\"},{\"$key\":\">thing\"},{\"$key\":\">foo\"}],null]\n#   [\"<!DOCTYPE html><html lang=en><head><title>x</title></head><p data-x='<'>helo</p></html>\",[{\"data\":{\"html\":true},\"$key\":\"<!DOCTYPE\"},{\"data\":{\"lang\":\"en\"},\"$key\":\"<html\"},{\"$key\":\"<head\"},{\"$key\":\"<title\"},{\"text\":\"x\",\"$key\":\"^text\"},{\"$key\":\">title\"},{\"$key\":\">head\"},{\"data\":{\"data-x\":\"<\"},\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"helo\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"},{\"$key\":\">html\"}],null]\n#   [\"<p foo bar=42><em>Yaffir stood high</em></p>\",[{\"data\":{\"foo\":true,\"bar\":\"42\"},\"is_block\":true,\"$key\":\"<p\"},{\"$key\":\"<em\"},{\"text\":\"Yaffir stood high\",\"$key\":\"^text\"},{\"$key\":\">em\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<p foo bar=42><em><xxxxxxxxxxxxxxxxxxx>Yaffir stood high</p>\",[{\"data\":{\"foo\":true,\"bar\":\"42\"},\"is_block\":true,\"$key\":\"<p\"},{\"$key\":\"<em\"},{\"$key\":\"<xxxxxxxxxxxxxxxxxxx\"},{\"text\":\"Yaffir stood high\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<p föö bär=42><em>Yaffir stood high</p>\",[{\"data\":{\"föö\":true,\"bär\":\"42\"},\"is_block\":true,\"$key\":\"<p\"},{\"$key\":\"<em\"},{\"text\":\"Yaffir stood high\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<document 文=zh/><foo bar baz=42>something<br/>else</thing></foo>\",[{\"data\":{\"文\":\"zh\"},\"$key\":\"<document\"},{\"$key\":\">document\"},{\"data\":{\"bar\":true,\"baz\":\"42\"},\"$key\":\"<foo\"},{\"text\":\"something\",\"$key\":\"^text\"},{\"$key\":\"^br\"},{\"text\":\"else\",\"$key\":\"^text\"},{\"$key\":\">thing\"},{\"$key\":\">foo\"}],null]\n#   [\"<p foo bar=<>yeah</p>\",[{\"data\":{\"foo\":true,\"bar\":\"<\"},\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"yeah\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<p foo bar='<'>yeah</p>\",[{\"data\":{\"foo\":true,\"bar\":\"<\"},\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"yeah\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<p foo bar='&lt;'>yeah</p>\",[{\"data\":{\"foo\":true,\"bar\":\"&lt;\"},\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"yeah\",\"$key\":\"^text\"},{\"is_block\":true,\"$key\":\">p\"}],null]\n#   [\"<<<<<\",[{\"text\":\"<<<<\",\"$key\":\"^text\"}],null]\n#   [\"something\",[{\"text\":\"something\",\"$key\":\"^text\"}],null]\n#   [\"else\",[{\"text\":\"else\",\"$key\":\"^text\"}],null]\n#   [\"<p>dangling\",[{\"is_block\":true,\"$key\":\"<p\"},{\"text\":\"dangling\",\"$key\":\"^text\"}],null]\n#   [\"𦇻𦑛𦖵𦩮𦫦𧞈\",[{\"text\":\"𦇻𦑛𦖵𦩮𦫦𧞈\",\"$key\":\"^text\"}],null]\n#   ]\n\n# ###\n\n\n# # #-----------------------------------------------------------------------------------------------------------\n# # @[ \"HTML.datoms_from_html (dubious)\" ] = ( T, done ) ->\n# #   INTERTEXT                 = require '../../../apps/intertext'\n# #   { HTML, }                 = INTERTEXT\n# #   DEMO                      = require '../chevrotain-html/demo'\n# #   probes_and_matchers = [\n# #     [\"< >\",\"^error-MismatchedTokenException-mismatch-parser-2-2->\",null]\n# #     [\"< x >\",\"<tag-x-0-5-< x >-otag\",null]\n# #     [\"<>\",\"^error-MismatchedTokenException-mismatch-parser-1-1->\",null]\n# #     [\"<\",\"^error-MismatchedTokenException-mismatch-parser-0-0-<\",null]\n# #     [\"<tag\",\"^error-NoViableAltException-missing-parser-1-3-tag\",null]\n# #     [\"if <math> a > b </math> then\",\"^text-0-3-if #<tag-math-3-9-<math>-otag#^text-9-16- a > b #>tag-math-16-23-</math>-ctag#^text-23-28- then\",null]\n# #     [\">\",\"^text-0-1->\",null]\n# #     [\"&\",\"^text-0-1-&\",null]\n# #     [\"&amp;\",\"^text-0-5-&amp;\",null]\n# #     [\"<tag a='<'>\",\"<tag-{\\\"a\\\":\\\"'<'\\\"}-tag-0-11-<tag a='<'>-otag\",null]\n# #     ]\n# #   for [ probe, matcher, error, ] in probes_and_matchers\n# #     await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n# #       resolve DEMO.H.condense_tokens HTML.datoms_from_html probe\n# #   #.........................................................................................................\n# #   done()\n# #   return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML.datoms_from_html (2)\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { HTML, }                 = INTERTEXT\n#   probes_and_matchers = [\n#     [\"<!DOCTYPE html>\",\"<!DOCTYPE html>\",null]\n#     # [\"<!DOCTYPE obvious>\",\"<!DOCTYPE obvious>\",null]\n#     # [\"<p contenteditable>\",\"<p contenteditable>\",null]\n#     # [\"<dang z=Z a=A>\",\"<dang a=A z=Z>\",null]\n#     # [\"<foo/>\",\"<foo>|</foo>\",null]\n#     # [\"<foo></foo>\",\"<foo>|</foo>\",null]\n#     # [\"just some plain text\",\"just some plain text\",null]\n#     # [\"<p>one<p>two\",\"<p>|one|<p>|two\",null]\n#     # [\"<p>here and</br>there\",\"<p>|here and|there\",null]\n#     # [\"<img width=200>\",\"<img width=200>\",null]\n#     # [\"<p>here and<br>there\",\"<p>|here and|<br>|there\",null]\n#     # [\"<p>here and<br>there</p>\",\"<p>|here and|<br>|there|</p>\",null]\n#     # [\"<p>here and<br/>there</p>\",\"<p>|here and|<br>|there|</p>\",null]\n#       # @parse \"\"\"bare value: <t a=v>\"\"\"\n#       # @parse \"\"\"bare value: <t a=v'w>\"\"\"\n#       # @parse \"\"\"bare value: <t a=v\"w>\"\"\"\n#       # @parse \"\"\"squot value: <t a='v'>\"\"\"\n#       # @parse \"\"\"dquot value: <t a=\"v\">\"\"\"\n#       # @parse \"\"\"squot value: <t a='\"v\"'>\"\"\"\n#       # @parse \"\"\"dquot value: <t a=\"'v'\">\"\"\"\n#     ]\n#   for [ probe, matcher, error, ] in probes_and_matchers\n#     await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n#       debug '^30^', datoms  = HTML.datoms_from_html probe\n#       urge '^30^',  html    = HTML.html_from_datoms datoms\n#       resolve ( HTML.html_from_datoms d for d in HTML.datoms_from_html probe ).join '|'\n#   #.........................................................................................................\n#   done()\n#   return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML.$datoms_from_html\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { HTML, }                 = INTERTEXT\n#   SP                        = require 'steampipes'\n#   # SP                        = require '../../apps/steampipes'\n#   { $\n#     $async\n#     $drain\n#     $watch\n#     $show  }                = SP.export()\n#   #.........................................................................................................\n#   probe         = \"\"\"\n#     <p>A <em>concise</em> introduction to the things discussed below.</p>\n#     \"\"\"\n#   matcher = [{\"$key\":\"<p\"},{\"text\":\"A \",\"$key\":\"^text\"},{\"$key\":\"<em\"},{\"text\":\"concise\",\"$key\":\"^text\"},{\"$key\":\">em\"},{\"text\":\" introduction to the things discussed below.\",\"$key\":\"^text\"},{\"$key\":\">p\"}]\n#   #.........................................................................................................\n#   pipeline      = []\n#   pipeline.push [ ( Buffer.from probe ), ]\n#   pipeline.push SP.$split()\n#   pipeline.push HTML.$datoms_from_html()\n#   pipeline.push $show()\n#   pipeline.push $drain ( result ) =>\n#     help jr result\n#     T.eq result, matcher\n#     done()\n#   SP.pull pipeline...\n#   #.........................................................................................................\n#   return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML demo\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { HTML, }                 = INTERTEXT\n#   text = \"\"\"<!DOCTYPE html>\n#   <h1><strong>CHAPTER VI.</strong> <name ref=hd553>Humpty Dumpty</h1>\n\n#   <p id=p227>However, the egg only got larger and larger, and <em>more and more human</em>:<br>\n\n#   when she had come within a few yards of it, she saw that it had eyes and a nose and mouth; and when she\n#   had come close to it, she saw clearly that it was <name ref=hd556>HUMPTY DUMPTY</name> himself. ‘It can’t\n#   be anybody else!’ she said to herself.<br/>\n\n#   ‘I’m as certain of it, as if his name were written all over his face.’\n\n#   \"\"\"\n#   for d in datoms = HTML.datoms_from_html text\n#     echo jr d\n#   echo '-'.repeat 108\n#   echo ( HTML.html_from_datoms d for d in datoms ).join ''\n#   #.........................................................................................................\n#   done()\n#   return null\n\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML demo (buffer)\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { HTML, }                 = INTERTEXT\n#   text    = \"\"\"<!DOCTYPE html>\n#   <h1><strong>CHAPTER VI.</strong> <name ref=hd553>Humpty Dumpty</h1>\"\"\"\n#   buffer  = Buffer.from text\n#   debug '^80009^', buffer\n#   for d in datoms = HTML.datoms_from_html buffer\n#     echo jr d\n#   echo '-'.repeat 108\n#   echo ( HTML.html_from_datoms d for d in datoms ).join ''\n#   #.........................................................................................................\n#   done()\n#   return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"_HTML demo (layout)\" ] = ( T, done ) ->\n#   DATOM                     = new ( require 'datom' ).Datom { dirty: false, }\n#   { new_datom\n#     lets\n#     select }                = DATOM.export()\n#   { tag\n#     html_from_datoms\n#     raw\n#     text\n#     script\n#     css }                   = ( require '../..' ).HTML.export()\n#   layout = ( settings ) ->\n#     defaults  = { title: \"My App\", content: ( new_datom '~content' ), }\n#     settings  = { defaults..., settings..., }\n#     # Doctype   = ( P... ) -> tag 'doctype',    P...\n#     # Div       = ( P... ) -> tag 'div',        P...\n#     # div       = ( P... ) -> tag 'div',        P...\n#     H = tag\n#     return [\n#       ( H 'doctype'                                             )\n#       H 'head', [\n#         ( H 'meta', charset: 'utf-8'                              )\n#         ( H 'title', settings.title                               )\n#         ( script    './jquery-3.4.1.js'                           )\n#         ( css       './jquery-ui-1.12.1/jquery-ui.min.css'        ) ]\n#       H 'body', [\n#         settings.content\n#         H 'article', [\n#           H 'h3', \"Greetings\"\n#           H 'p', \"helo world!\"\n#           ]\n#         H 'span#page-ready' ] ]\n#     # tag 'meta', 'http-equiv': \"Content-Security-Policy\", content: \"default-src 'self'\"\n#     # tag 'meta', 'http-equiv': \"Content-Security-Policy\", content: \"script-src 'unsafe-inline'\"\n#     return null\n#   #.........................................................................................................\n#   info html_from_datoms layout { title: \"Beautiful HTML\" }\n#   done() if done?\n#   return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"《现代常用独体字规范》\" ] = ( T, done ) ->\n#   SP                        = require 'steampipes'\n#   # SP                        = require '../../apps/steampipes'\n#   { $\n#     $async\n#     $drain\n#     $watch\n#     $split\n#     $show  }                = SP.export()\n#   DATOM                     = new ( require 'datom' ).Datom { dirty: false, }\n#   { new_datom\n#     lets\n#     select }                = DATOM.export()\n#   { tag\n#     datoms_from_html\n#     $datoms_from_html\n#     html_from_datoms\n#     raw\n#     text\n#     script\n#     css }                   = ( require '../..' ).HTML.export()\n#   html_source = \"\"\"<div class=\"ie-fix\"><span class=\"wkwm5edb3638\">来自</span><style type=\"text/css\">.wkwm5edb3638{display: none; font-size: 12px;}</style><p class=\"reader-word-layer reader-word-s1-1\" style=\"width:144px;height:288px;line-height:288px;top:1260px;left:2890px;z-index:0;font-family:simsun;\">&nbsp;\n# </p><span class=\"wkwm5edb3638\">百度</span><p class=\"reader-word-layer reader-word-s1-0\" style=\"width:3184px;height:288px;line-height:288px;top:1760px;left:2890px;z-index:1;font-family:'黑体','42c2b43eeefdc8d376ee32f60020001','黑体';letter-spacing:1.1300000000000001px;false\">《现代常用独体字规范》</p><p class=\"reader-word-layer reader-word-s1-1\" style=\"width:144px;height:288px;line-height:288px;top:1760px;left:6078px;z-index:2;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-4\" style=\"width:835px;height:258px;line-height:258px;top:2282px;left:2644px;z-index:3;false\">CF&nbsp;0013</p><p class=\"reader-word-layer reader-word-s1-6\" style=\"width:480px;height:258px;line-height:258px;top:2282px;left:3481px;z-index:4;false\">——</p><p class=\"reader-word-layer reader-word-s1-4\" style=\"width:479px;height:258px;line-height:258px;top:2282px;left:3962px;z-index:5;letter-spacing:-0.37px;false\">2009</p><p class=\"reader-word-layer reader-word-s1-6\" style=\"width:721px;height:258px;line-height:258px;top:2282px;left:4441px;z-index:6;false\">，一共</p><p class=\"reader-word-layer reader-word-s1-4\" style=\"width:362px;height:258px;line-height:258px;top:2282px;left:5221px;z-index:7;letter-spacing:0.8999999999999999px;false\">256</p><p class=\"reader-word-layer reader-word-s1-6\" style=\"width:480px;height:258px;line-height:258px;top:2282px;left:5644px;z-index:8;false\">个字</p><p class=\"reader-word-layer reader-word-s1-4\" style=\"width:60px;height:258px;line-height:258px;top:2282px;left:6124px;z-index:9;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:2681px;left:1442px;z-index:10;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:384px;height:192px;line-height:192px;top:2994px;left:1442px;z-index:11;false\">音序</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:192px;height:192px;line-height:192px;top:2994px;left:1827px;z-index:12;false\">&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:384px;height:192px;line-height:192px;top:2994px;left:2019px;z-index:13;false\">字数</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:577px;height:192px;line-height:192px;top:2994px;left:2403px;z-index:14;false\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:576px;height:192px;line-height:192px;top:2994px;left:2981px;z-index:15;false\">独体字</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:192px;line-height:192px;top:2994px;left:3558px;z-index:16;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:3369px;left:1442px;z-index:17;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:319px;height:206px;line-height:206px;top:3369px;left:1586px;z-index:18;letter-spacing:-2.8000000000000003px;false\">A&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:3369px;left:1954px;z-index:19;false\">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:192px;height:206px;line-height:206px;top:3369px;left:2434px;z-index:20;\">凹</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:3369px;left:2629px;z-index:21;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:3744px;left:1442px;z-index:22;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:319px;height:206px;line-height:206px;top:3744px;left:1586px;z-index:23;letter-spacing:-0.32px;false\">B&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:3744px;left:1954px;z-index:24;false\">14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10 reader-word-s1-11\" style=\"width:2693px;height:206px;line-height:206px;top:3744px;left:2530px;z-index:25;font-family:'宋体','42c2b43eeefdc8d376ee32f60040001','宋体';false\">八巴白百办半贝本匕必丙秉卜不</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:3744px;left:5225px;z-index:26;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:4119px;left:1442px;z-index:27;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9 reader-word-s1-11\" style=\"width:321px;height:206px;line-height:206px;top:4119px;left:1586px;z-index:28;font-family:'Times New Roman','42c2b43eeefdc8d376ee32f60030001','Times New Roman';false\">C&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:4119px;left:1955px;z-index:29;false\">20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:3845px;height:206px;line-height:206px;top:4119px;left:2532px;z-index:30;false\">才册叉产长厂车臣承尺斥虫丑出川串垂匆囱寸</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:4119px;left:6379px;z-index:31;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:4494px;left:1442px;z-index:32;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:4494px;left:1586px;z-index:33;false\">D&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:4494px;left:1965px;z-index:34;false\">10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1922px;height:206px;line-height:206px;top:4494px;left:2542px;z-index:35;false\">大歹丹刀弟电刁丁东斗</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:4494px;left:4466px;z-index:36;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:4869px;left:1442px;z-index:37;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:309px;height:206px;line-height:206px;top:4869px;left:1586px;z-index:38;false\">E&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:4869px;left:1944px;z-index:39;false\">4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:769px;height:206px;line-height:206px;top:4869px;left:2425px;z-index:40;false\">儿而耳二</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:4869px;left:3194px;z-index:41;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:5244px;left:1442px;z-index:42;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:297px;height:206px;line-height:206px;top:5244px;left:1586px;z-index:43;letter-spacing:-0.28px;false\">F&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:5244px;left:1932px;z-index:44;false\">8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1540px;height:206px;line-height:206px;top:5244px;left:2413px;z-index:45;letter-spacing:0.22999999999999998px;false\">凡方飞丰夫弗甫父</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:5244px;left:3954px;z-index:46;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:5619px;left:1442px;z-index:47;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:5619px;left:1586px;z-index:48;false\">G&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:5619px;left:1965px;z-index:49;false\">13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:2499px;height:206px;line-height:206px;top:5619px;left:2542px;z-index:50;false\">丐干甘戈革个更工弓瓜广鬼果</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:5619px;left:5043px;z-index:51;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:5994px;left:1442px;z-index:52;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:5994px;left:1586px;z-index:53;false\">H&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:5994px;left:1965px;z-index:54;false\">6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1153px;height:206px;line-height:206px;top:5994px;left:2446px;z-index:55;false\">亥禾乎互户火</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:5994px;left:3600px;z-index:56;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:6369px;left:1442px;z-index:57;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:269px;height:206px;line-height:206px;top:6369px;left:1586px;z-index:58;letter-spacing:0.47px;false\">J&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:6369px;left:1904px;z-index:59;false\">16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:3074px;height:206px;line-height:206px;top:6369px;left:2480px;z-index:60;letter-spacing:-0.10999999999999999px;false\">击及几己夹甲兼柬见巾斤井九久臼巨</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:6369px;left:5556px;z-index:61;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:6744px;left:1442px;z-index:62;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:6744px;left:1586px;z-index:63;false\">K&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:6744px;left:1965px;z-index:64;false\">3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:576px;height:206px;line-height:206px;top:6744px;left:2446px;z-index:65;false\">卡开口</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:6744px;left:3023px;z-index:66;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:7120px;left:1442px;z-index:67;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:297px;height:206px;line-height:206px;top:7120px;left:1588px;z-index:68;letter-spacing:-2.75px;false\">L&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:7120px;left:1934px;z-index:69;false\">12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:2309px;height:206px;line-height:206px;top:7120px;left:2511px;z-index:70;letter-spacing:0.14px;false\">来乐里力立吏隶两了六龙卤</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:7120px;left:4821px;z-index:71;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:7495px;left:1442px;z-index:72;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:363px;height:206px;line-height:206px;top:7495px;left:1586px;z-index:73;false\">M&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:7495px;left:1998px;z-index:74;false\">13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:2499px;height:206px;line-height:206px;top:7495px;left:2575px;z-index:75;false\">马毛矛么门米面民皿末母木目</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:7495px;left:5075px;z-index:76;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:7869px;left:1442px;z-index:77;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:7869px;left:1586px;z-index:78;false\">N&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:7869px;left:1965px;z-index:79;false\">7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1346px;height:206px;line-height:206px;top:7869px;left:2446px;z-index:80;false\">乃内年鸟牛农女</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:7869px;left:3792px;z-index:81;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:8244px;left:1442px;z-index:82;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:292px;height:206px;line-height:206px;top:8244px;left:1586px;z-index:83;letter-spacing:-1.6300000000000001px;false\">P&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:8244px;left:1927px;z-index:84;false\">2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:384px;height:206px;line-height:206px;top:8244px;left:2407px;z-index:85;false\">片平</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:8244px;left:2792px;z-index:86;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:8619px;left:1442px;z-index:87;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:8619px;left:1586px;z-index:88;false\">Q&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:8619px;left:1965px;z-index:89;false\">9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1730px;height:206px;line-height:206px;top:8619px;left:2446px;z-index:90;false\">七气千羌且丘求曲犬</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:8619px;left:4177px;z-index:91;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:417px;height:206px;line-height:206px;top:8994px;left:1442px;z-index:92;false\">&nbsp;&nbsp;R&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:8994px;left:1907px;z-index:93;false\">7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1346px;height:206px;line-height:206px;top:8994px;left:2388px;z-index:94;false\">冉人王刃日肉人</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:8994px;left:3735px;z-index:95;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:9369px;left:1442px;z-index:96;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:299px;height:206px;line-height:206px;top:9369px;left:1586px;z-index:97;letter-spacing:0.16px;false\">S&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:9369px;left:1934px;z-index:98;false\">29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:5576px;height:206px;line-height:206px;top:9369px;left:2511px;z-index:99;false\">三山上少申身升生尸失十石史矢土氏世事手首书鼠术束甩水巳四肃</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:9369px;left:8089px;z-index:100;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:9744px;left:1442px;z-index:101;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:305px;height:206px;line-height:206px;top:9744px;left:1586px;z-index:102;letter-spacing:-0.96px;false\">T&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:9744px;left:1940px;z-index:103;false\">7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1346px;height:206px;line-height:206px;top:9744px;left:2421px;z-index:104;false\">太天田头凸土屯</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:9744px;left:3767px;z-index:105;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:10120px;left:1442px;z-index:106;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:371px;height:206px;line-height:206px;top:10120px;left:1586px;z-index:107;letter-spacing:-0.64px;false\">W&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:10120px;left:2005px;z-index:108;false\">16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:3076px;height:206px;line-height:206px;top:10120px;left:2486px;z-index:109;false\">瓦丸万亡王为卫未文我乌无五午勿戊</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:10120px;left:5564px;z-index:110;font-family:simsun;\">&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:10495px;left:1442px;z-index:111;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-12\" style=\"width:330px;height:206px;line-height:206px;top:10495px;left:1586px;z-index:112;false\">X&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:480px;height:206px;line-height:206px;top:10495px;left:1965px;z-index:113;false\">10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:1922px;height:206px;line-height:206px;top:10495px;left:2446px;z-index:114;false\">夕西习下乡象小心囟血</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:10495px;left:4370px;z-index:115;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:10870px;left:1442px;z-index:116;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:322px;height:206px;line-height:206px;top:10870px;left:1588px;z-index:117;letter-spacing:-1.9px;false\">Y&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:482px;height:206px;line-height:206px;top:10870px;left:1961px;z-index:118;letter-spacing:0.25px;false\">33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:5646px;height:206px;line-height:206px;top:10870px;left:2446px;z-index:119;letter-spacing:2.3200000000000003px;false\">丫牙亚严言央羊夭也业页一衣夷乙已义亦永用尤由酉又于予与雨禹</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:769px;height:192px;line-height:192px;top:11245px;left:1442px;z-index:120;false\">玉曰月云</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:192px;line-height:192px;top:11245px;left:2211px;z-index:121;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:96px;height:206px;line-height:206px;top:11620px;left:1442px;z-index:122;false\">&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:307px;height:206px;line-height:206px;top:11620px;left:1586px;z-index:123;letter-spacing:-0.51px;false\">Z&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:576px;height:206px;line-height:206px;top:11620px;left:1942px;z-index:124;false\">16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p class=\"reader-word-layer reader-word-s1-10\" style=\"width:3078px;height:206px;line-height:206px;top:11620px;left:2519px;z-index:125;letter-spacing:0.1px;false\">再乍丈正之止中重舟州朱主爪专子自</p><p class=\"reader-word-layer reader-word-s1-9\" style=\"width:48px;height:206px;line-height:206px;top:11620px;left:5598px;z-index:126;font-family:simsun;\">&nbsp;\n# </p><p class=\"reader-word-layer reader-word-s1-5\" style=\"width:42px;height:182px;line-height:182px;top:12005px;left:1442px;z-index:127;font-size:169px;font-family:simsun;\">&nbsp;\n# </p><span class=\"wkwm5edb3638\">文库</span></div>\"\"\"\n#   # html_source = \"\"\"<p>helo</p><p></p><p></p>     <p>    </p><p>over</p>\"\"\"\n#   #.........................................................................................................\n#   $resolve_entities = -> $ ( d, send ) =>\n#     return send d unless select d, '^text'\n#     send lets d, ( d ) => d.text = d.text.replace /&nbsp;/g, ' '\n#   #.........................................................................................................\n#   $remove_styles_and_classes = -> $ ( d, send ) =>\n#     return if select d, '<span'\n#     return if select d, '>span'\n#     return send d unless d.style? or d.class?\n#     send lets d, ( d ) =>\n#       delete d.style\n#       delete d.class\n#   #.........................................................................................................\n#   $skip_styles = ->\n#     within_style = false\n#     return $ ( d, send ) =>\n#       if select d, '<style'\n#         within_style = true\n#         return\n#       if select d, '>style'\n#         within_style = false\n#         return\n#       return if within_style\n#       send d\n#   #.........................................................................................................\n#   $trim = -> $ ( d, send ) =>\n#     return send d unless select d, '^text'\n#     d = lets d, ( d ) => d.text = d.text.trim()\n#     send d unless d.text is ''\n#   #.........................................................................................................\n#   $remove_empty_tags = ->\n#     width     = 2\n#     fallback  = Symbol 'fallback'\n#     skip_next = false\n#     #.......................................................................................................\n#     return SP.window { width, fallback, }, $ ( ds, send ) ->\n#       if skip_next\n#         skip_next = false\n#         return\n#       #.....................................................................................................\n#       [ this_d, next_d, ] = ds\n#       # return send next_d  if this_d  is fallback\n#       return              if this_d is fallback\n#       return send this_d  if next_d is fallback\n#       this_sigil    = this_d.$key[ 0 ]\n#       return send this_d unless this_sigil is '<'\n#       this_tagname  = this_d.$key[ 1 .. ]\n#       next_sigil    = next_d.$key[ 0 ]\n#       return send this_d unless next_sigil is '>'\n#       next_tagname  = next_d.$key[ 1 .. ]\n#       return send this_d unless this_tagname is next_tagname\n#       skip_next     = true\n#   #.........................................................................................................\n#   pipeline  = []\n#   pipeline.push [ ( Buffer.from html_source ), ] ### TAINT fix `$split()` to accept string ###\n#   pipeline.push $split()\n#   pipeline.push $datoms_from_html()\n#   pipeline.push $resolve_entities()\n#   pipeline.push $remove_styles_and_classes()\n#   pipeline.push $skip_styles()\n#   pipeline.push $trim()\n#   pipeline.push $remove_empty_tags()\n#   # pipeline.push $show()\n#   pipeline.push SP.$filter ( d ) -> select d, '^text'\n#   pipeline.push $drain ( ds ) -> urge ( d.text for d in ds ).join ''\n#   SP.pull pipeline...\n#   #.........................................................................................................\n#   done() if done?\n#   return null\n\n\n############################################################################################################\n############################################################################################################\n############################################################################################################\n############################################################################################################\n\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"HTML._parse_compact_tagname\" ] = ( T, done ) ->\n  HTML      = require '../../../apps/paragate/lib/htmlish.grammar'\n  # #-----------------------------------------------------------------------------------------------------------\n  # HTML.parse_compact_tagname = ( compact_tagname ) ->\n  #   # debug '^45048^', 'g:foo#bar.batz.dar'.match /^((?<prefix>[^:]+):)?(?<name>[^.#]+)(#(?<id>[^.#:]+))?(\\.(?<classes>.*))?$/\n  #   { name\n  #     atrs }  = ( compact_tagname.match /^(?<name>[^#.]*)(?<atrs>.*)$/ ).groups\n  #   name      = null if name is ''\n  #   atrs      = null if atrs is ''\n  #   R         = {}\n  #   prefix    = null\n  #   #.......................................................................................................\n  #   if name? and ( idx = name.indexOf ':' ) > -1\n  #     prefix    = name[ ... idx ]\n  #     prefix    = null if prefix is ''\n  #     name      = name[ idx + 1 .. ]\n  #     name      = null if name is ''\n  #   #.......................................................................................................\n  #   R.prefix  = prefix  if prefix?\n  #   R.name    = name    if name?\n  #   #.......................................................................................................\n  #   return R unless atrs?\n  #   for attribute in atrs.split /([#.][^#.]*)/\n  #     continue if attribute is ''\n  #     avalue = attribute[ 1 .. ]\n  #     unless avalue.length > 0\n  #       throw new Error \"^intertext/_parse_compact_tagname@1234^ illegal compact tag syntax in #{rpr compact_tagname}\"\n  #     if attribute[ 0 ] is '#' then R.id = avalue\n  #     else                          ( R.class ?= [] ).push avalue\n  #   R.class = R.class.join ' ' if R.class?\n  #   return R\n  HTML._parse_compact_tagname = ( compact_tagname, strict = false ) ->\n    pattern = ///\n      (?<prefix>[^\\s.:#]+(?=:)) |\n      (?<id>(?<=#)[^\\s.:#]+) |\n      (?<class>(?<=\\.)[^\\s.:#]+) |\n      (?<name>[^\\s.:#]+)\n      ///ug\n    # pattern = /(?<prefix>[^\\s.:#]+(?=:))|(?<id>(?<=#)[^\\s.:#]+)|(?<class>(?<=\\.)[^\\s.:#]+)|(?<name>[^\\s.:#]+)/ug\n    R = {}\n    for { groups, } from compact_tagname.matchAll pattern\n      for k, v of groups\n        continue if ( not v? ) or ( v is '' )\n        if k is 'class'\n          ( R.class ?= [] ).push v\n        else\n          if ( target = R[ k ] )?\n            throw new Error \"^5584^ found duplicate values for #{rpr k}: #{rpr target}, #{rpr v}\"\n          R[ k ] = v\n    if strict and not R.name?\n      throw new Error \"^paragate/_parse_compact_tagname@1^ illegal compact tag syntax in #{rpr compact_tagname}\"\n    return R\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ 'foo-bar', { name: 'foo-bar' }, null ]\n    [ 'foo-bar#c55', { name: 'foo-bar', id: 'c55' }, null ]\n    [ 'foo-bar.blah.beep', { name: 'foo-bar', class: [ 'blah', 'beep', ] }, null ]\n    [ 'foo-bar#c55.blah.beep', { name: 'foo-bar', id: 'c55', class: [ 'blah', 'beep', ] }, null ]\n    [ '#c55', { id: 'c55' }, null ]\n    [ 'dang:blah', { prefix: 'dang', name: 'blah' }, null ]\n    [ 'dang:blah#c3', { prefix: 'dang', name: 'blah', id: 'c3' }, null ]\n    [ 'dang:blah#c3.some.thing', { prefix: 'dang', name: 'blah', id: 'c3', class: [ 'some', 'thing', ] }, null ]\n    [ 'dang:#c3.some.thing', { prefix: 'dang', id: 'c3', class: [ 'some', 'thing', ] }, null ]\n    [ 'dang:bar.dub#c3.other', { prefix: 'dang', name: 'bar', class: [ 'dub', 'other', ], id: 'c3' }, null ]\n    [ '.blah.beep', { class: [ 'blah', 'beep', ] }, null ]\n    [ [ '...#', true, ], null, 'illegal compact tag syntax' ]\n    ]\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n      if isa.list probe\n        resolve HTML._parse_compact_tagname probe...\n      else\n        resolve HTML._parse_compact_tagname probe\n  #.........................................................................................................\n  done()\n  return null\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"HTML.tag\" ] = ( T, done ) ->\n#   INTERTEXT                 = require '../../../apps/intertext'\n#   { _parse_compact_tagname\n#     tag }                 = INTERTEXT.HTML.export()\n#   #.........................................................................................................\n#   probes_and_matchers = [\n#     [[\"div\"],[{\"$key\":\"^div\"}],null]\n#     [[\"div#x32\"],[{\"$key\":\"^div\",\"id\":\"x32\"}],null]\n#     [[\"div.foo\"],[{\"$key\":\"^div\",\"class\":\"foo\"}],null]\n#     [[\"div#x32.foo\"],[{\"$key\":\"^div\",\"id\":\"x32\",\"class\":\"foo\"}],null]\n#     [[\"div#x32\",{\"alt\":\"nice guy\"}],[{\"$key\":\"^div\",\"id\":\"x32\",\"alt\":\"nice guy\"}],null]\n#     [[\"div#x32\",{\"alt\":\"nice guy\"},\" a > b & b > c => a > c\"],[{\"id\":\"x32\",\"alt\":\"nice guy\",\"$key\":\"<div\"},{\"text\":\" a > b & b > c => a > c\",\"$key\":\"^text\"},{\"$key\":\">div\"}],null]\n#     [[\"foo-bar\"],[{\"$key\":\"^foo-bar\"}],null]\n#     [[\"foo-bar#c55\"],[{\"$key\":\"^foo-bar\",\"id\":\"c55\"}],null]\n#     [[\"foo-bar.blah.beep\"],[{\"$key\":\"^foo-bar\",\"class\":\"blah beep\"}],null]\n#     [[\"foo-bar#c55.blah.beep\"],[{\"$key\":\"^foo-bar\",\"id\":\"c55\",\"class\":\"blah beep\"}],null]\n#     [[\"div#sidebar.green\", { id: 'd3', class: \"orange\"}, ],[{\"id\":\"d3\",\"class\":\"orange\",\"$key\":\"^div\"}],null]\n#     [[\"#c55\"],null,\"not a valid intertext_html_tagname\"]\n#     [[\".blah.beep\"],null,\"not a valid intertext_html_tagname\"]\n#     [[\"...#\"],null,\"illegal compact tag syntax\"]\n#     ]\n#   for [ probe, matcher, error, ] in probes_and_matchers\n#     await T.perform probe, matcher, error, -> new Promise ( resolve ) ->\n#       # urge h probe...\n#       resolve tag probe...\n#   #.........................................................................................................\n#   done()\n#   return null\n\n\n#-----------------------------------------------------------------------------------------------------------\ndemo = ->\n  HTML = require '../../../apps/paragate/lib/htmlish.grammar'\n  # grammar = HTML.grammar.new { bare: true, }\n  grammar = new HTML.new_grammar { bare: true, }\n  urge grammar.settings\n  tokens = grammar.parse \"\"\"\n    <p#c123>helo\\nthis is a placeholder: <drb:loc#first/>, isn't it?</p>\n    <blah#id1 id=id2/>\n    \"\"\"\n  for d in tokens\n    continue unless d.$key in [ '^tag', '<tag', ]\n    [ _, prefix, tail, ] = d.name.split /^([^:]*):(.*)$/\n    debug '^44403^', { prefix, tail, }\n    continue unless prefix is 'drb'\n\n    # d.id = 'xxx'\n    debug '^44947^', d\n  console.table tokens\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_streaming = -> new Promise ( resolve ) ->\n  SP        = require 'steampipes'\n  HTML      = require '../../../apps/paragate/lib/htmlish.grammar'\n  #.........................................................................................................\n  source    = [\n    \"<title>A Short Document</title>\"\n    \"<p>The Nemean lion (<ipa>/nɪˈmiːən/</ipa>; Greek: <greek>Νεμέος λέων</greek> Neméos léōn; \"\n    \"Latin: Leo Nemeaeus) was a vicious monster in <a href='greek-mythology'>Greek mythology</a> \"\n    \"that lived at Nemea.\"\n    \"</p>\"\n    ]\n  pipeline  = []\n  pipeline.push source\n  pipeline.push HTML.$parse()\n  pipeline.push SP.$watch ( d ) -> info d\n  pipeline.push SP.$drain -> resolve()\n  SP.pull pipeline...\n  return null\n\n############################################################################################################\nif module is require.main then do => # await do =>\n  test @\n  # test @[ \"HTML: parse bare\" ]\n  # demo()\n  # await demo_streaming()\n  # test @[ \"HTML._parse_compact_tagname\" ]\n"
  ]
}