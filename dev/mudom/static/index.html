<!doctype html>
<html lang="en">
<head>
  <title>µDOM/KB Keyboard Events Demo</title>
  <meta charset="utf-8">
  <script src='browserified/cnd.js'></script>
  <!-- <script src='browserified/util.js'></script> -->
  <script src='browserified/intertype.js'></script>
  <script src='browserified/intermatic.js'></script>
  <script src='browserified/mudom.js'></script>
  <script src='lib/ops.js'></script>
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>µDOM/KB Keyboard Events Demo</h1>
<ol>

  <li>Hit any of the below indicated keys.</li>

  <li>A red border is shown for the <code class=down>down</code> state as long as a key is pressed.</li>

  <li>When the key is released, a grey border is shown for the <code class=up>up</code> state.</li>

  <li>Each key has a so-called <code class=toggle>toggle</code> state (indicated by a yellow glow in the
  below table). Toggles work like the CapsLock key: when off, pressing a key once will turn it on (as soon
  as the key is pressed); when on, the toggle is switched off when the same key is pressed and released
  again.</li>

  <li>Each key also has a <code class=latch>latch</code> state which is activated when a key is tapped twice
  in rapid succession.</li>

  <li>No effort has been made to cleanly separate the toggling and latching behaviors; as it stands, an
  element using both will temporarily switch to the opposite toggle state whenever a latch is switched on or
  off, before then returning to its original toggle (and the opposite latch) state. This is probably too
  confusing for most uses; therefore, prefer to either use toggling or latching, but not both at the same
  time.</li>

  <li>Observe though that the way toggling and latching work, they do mimik the behavior of the CapsLock
  key; thus, the CapsLock status of the keyboard should always be in lockstep with the toggle status of the
  CapsLock row below.</li>

</ol>

<table>
<tr><th>none</th><th>toggle</th><th>both</th><th>latch</th><th>tlatch</th></tr>
<tr><td class='btn up' latching=none name=Alt>Alt           </td><td class='btn up' latching=toggle name=Alt>Alt           </td><td class='btn up' latching=both name=Alt>Alt           </td><td class='btn up' latching=latch name=Alt>Alt           </td><td class='btn up' latching=tlatch name=Alt>Alt           </td></tr>
<tr><td class='btn up' latching=none name=AltGraph>AltGraph </td><td class='btn up' latching=toggle name=AltGraph>AltGraph </td><td class='btn up' latching=both name=AltGraph>AltGraph </td><td class='btn up' latching=latch name=AltGraph>AltGraph </td><td class='btn up' latching=tlatch name=AltGraph>AltGraph </td></tr>
<tr><td class='btn up' latching=none name=Control>Control   </td><td class='btn up' latching=toggle name=Control>Control   </td><td class='btn up' latching=both name=Control>Control   </td><td class='btn up' latching=latch name=Control>Control   </td><td class='btn up' latching=tlatch name=Control>Control   </td></tr>
<tr><td class='btn up' latching=none name=Meta>Meta         </td><td class='btn up' latching=toggle name=Meta>Meta         </td><td class='btn up' latching=both name=Meta>Meta         </td><td class='btn up' latching=latch name=Meta>Meta         </td><td class='btn up' latching=tlatch name=Meta>Meta         </td></tr>
<tr><td class='btn up' latching=none name=Shift>Shift       </td><td class='btn up' latching=toggle name=Shift>Shift       </td><td class='btn up' latching=both name=Shift>Shift       </td><td class='btn up' latching=latch name=Shift>Shift       </td><td class='btn up' latching=tlatch name=Shift>Shift       </td></tr>
<tr><td class='btn up' latching=none name=CapsLock>CapsLock </td><td class='btn up' latching=toggle name=CapsLock>CapsLock </td><td class='btn up' latching=both name=CapsLock>CapsLock </td><td class='btn up' latching=latch name=CapsLock>CapsLock </td><td class='btn up' latching=tlatch name=CapsLock>CapsLock </td></tr>
<tr><td class='btn up' latching=none name=Space>Space       </td><td class='btn up' latching=toggle name=Space>Space       </td><td class='btn up' latching=both name=Space>Space       </td><td class='btn up' latching=latch name=Space>Space       </td><td class='btn up' latching=tlatch name=Space>Space       </td></tr>
</table>


<h2>To Do</h2>
<ul>
  <li>implement mode t-latch where pressing key inverts latched mode</li></ul>


</body>
</html>


