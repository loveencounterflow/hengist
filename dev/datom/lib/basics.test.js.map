{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/basics.test.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DATOM/TESTS/BASICS'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\ntest                      = require 'guy-test'\njr                        = JSON.stringify\n#...........................................................................................................\n# types                     = require '../types'\n# { isa\n#   validate\n#   type_of }               = types\n\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"fresh_datom (freeze)\" ] = ( T, done ) ->\n  DATOM = require '../../../apps/datom'\n  probes_and_matchers = [\n    [ [ '^foo' ], { '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', { foo: 'bar' } ], { foo: 'bar', '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', 42 ], { '$value': 42, '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', 42, { '$fresh': false } ], { '$value': 42, '$fresh': true, '$key': '^foo' }, null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      d = DATOM.fresh_datom probe...\n      T.ok Object.isFrozen d\n      resolve d\n      return null\n  done()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@[ \"fresh_datom (nofreeze)\" ] = ( T, done ) ->\n  DATOM = ( require '../../../apps/datom' ).new { freeze: false, }\n  probes_and_matchers = [\n    [ [ '^foo' ], { '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', { foo: 'bar' } ], { foo: 'bar', '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', 42 ], { '$value': 42, '$fresh': true, '$key': '^foo' }, null ]\n    [ [ '^foo', 42, { '$fresh': false } ], { '$value': 42, '$fresh': true, '$key': '^foo' }, null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      d = DATOM.fresh_datom probe...\n      T.ok not Object.isFrozen d\n      resolve d\n      return null\n  done()\n  return null\n\n\n\n\n############################################################################################################\nif require.main is module then do =>\n  test @\n  # test @[ \"fresh_datom (freeze)\" ]\n  # test @[ \"fresh_datom (nofreeze)\" ]\n  # test @[ \"wrap_datom\" ]\n  # test @[ \"new_datom complains when value has `$key`\" ]\n  # test @[ \"selector keypatterns\" ]\n  # test @[ \"select 2\" ]\n  # test @[ \"new_datom (default settings)\" ]\n  # debug new_datom '^helo', 42\n\n\n\n"
  ]
}