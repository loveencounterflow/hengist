{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/demo-ng.coffee"
  ],
  "names": [],
  "mappings": "AACA;EAAA;AAAA,MAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,eAAA,EAAA,QAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,GAAA,EAAA,KAAA,EAAA,MAAA,EAAA,GAAA,EAAA,OAAA,EAAA,KAAA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA;IAAA,2DAAA;;;EAIA,GAAA,GAA4B,OAAA,CAAQ,KAAR;;EAC5B,CAAA,CAAE,KAAF,EACE,KADF,EAEE,IAFF,EAGE,IAHF,EAIE,KAJF,EAKE,MALF,EAME,IANF,EAOE,IAPF,EAQE,OARF,CAAA,GAQ4B,GAAG,CAAC,GAAG,CAAC,WAAR,CAAoB,cAApB,CAR5B;;EASA,CAAA,CAAE,GAAF,EACE,OADF,EAEE,IAFF,EAGE,GAHF,CAAA,GAG4B,GAAG,CAAC,GAHhC;;EAIA,KAAA,GAA4B,IAAI,CAAE,OAAA,CAAQ,yBAAR,CAAF,CAAqC,CAAC,SAA1C,CAAA;;EAC5B,CAAA,CAAE,GAAF,EACE,OADF,CAAA,GAC4B,KAD5B,EAnBA;;;;;EA0BA,MAAA,GAAS,QAAA,CAAA,CAAA;AACT,QAAA,QAAA,EAAA,CAAA,EAAA,MAAA,EAAA,OAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,CAAA,CAAE,QAAF,CAAA,GAAe,OAAA,CAAQ,yBAAR,CAAf;IACA,CAAA,GAAI,IAAI,QAAJ,CAAA;IACJ,CAAC,CAAC,IAAF,CAAO,OAAA,GAAU,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;MACf,IAAG,KAAK,CAAC,GAAG,CAAC,KAAV,CAAgB,CAAhB,CAAH;;eAEE,IAAA,CAAK,CAAA,GAAI,CAAT,EAFF;OAAA,MAAA;;eAKE,IAAA,CAAK,CAAL,EALF;;IADe,CAAjB;IAOA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAU,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;MACf,IAAG,KAAK,CAAC,GAAG,CAAC,KAAV,CAAgB,CAAhB,CAAH;;eAEE,IAAA,CAAK,CAAA,GAAI,CAAT,EAFF;OAAA,MAAA;;eAKE,IAAA,CAAK,CAAL,EALF;;IADe,CAAjB;IAOA,CAAC,CAAC,IAAF,CAAO,OAAA,GAAU,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;MACf,IAAG,KAAK,CAAC,GAAG,CAAC,KAAV,CAAgB,CAAhB,CAAH;;eAEE,IAAA,CAAK,CAAA,GAAI,CAAT,EAFF;OAAA,MAAA;;eAKE,IAAA,CAAK,CAAL,EALF;;IADe,CAAjB;IAOA,CAAC,CAAC,IAAF,CAAO,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAP,EA1BF;;IA4BE,IAAA,CAAK,QAAL,EAAe,CAAC,CAAC,GAAF,CAAA,CAAf;AACA,WAAO;EA9BA,EA1BT;;;EA2DA,MAAA,GAAS,QAAA,CAAA,CAAA;AACT,QAAA,QAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,CAAA,CAAE,QAAF,CAAA,GAAe,OAAA,CAAQ,yBAAR,CAAf;IACA,CAAA,GAAI,IAAI,QAAJ,CAAA,EAFN;;;;;IAOE,CAAC,CAAC,IAAF,CAAO;MAAE,GAAA,EAAK,KAAP;MAAc,GAAA,EAAK,KAAnB;MAA0B,KAAA,EAAO;IAAjC,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,IAAI,GAAJ,CAAQ,KAAR,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,IAAI,GAAJ,CAAQ,CAAE,CAAE,EAAF,EAAM,EAAN,CAAF,EAAe,CAAE,EAAF,EAAM,EAAN,CAAf,CAAR,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,KAAP,EAVF;;;;IAcE,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAe,OAAA,CAAQ,GAAA,CAAI,CAAJ,CAAR;IAAf,CAAhB;IACA,CAAC,CAAC,IAAF,CAAO,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAP;IACA,IAAA,CAAK,QAAL,EAAe,CAAf;IACA,IAAA,CAAK,QAAL,EAAe,CAAC,CAAC,GAAF,CAAA,CAAf;AACA,WAAO;EArBA,EA3DT;;;EAmFA,OAAA,GAAU,MAAA,QAAA,CAAA,CAAA;AACV,QAAA,cAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,CAAA,CAAE,QAAF,EACE,cADF,CAAA,GACsB,OAAA,CAAQ,yBAAR,CADtB;IAEA,CAAA,GAAI,IAAI,cAAJ,CAAA;IACJ,CAAC,CAAC,IAAF,CAAO,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAhB;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;aAAe,IAAA,CAAK,IAAI,OAAJ,CAAY,QAAA,CAAE,OAAF,CAAA;eAAe,GAAG,CAAC,KAAK,CAAC,KAAV,CAAgB,GAAhB,EAAqB,QAAA,CAAA,CAAA;iBAAG,OAAA,CAAQ,CAAA,GAAI,CAAZ;QAAH,CAArB;MAAf,CAAZ,CAAL;IAAf,CAAhB;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAhB;IACA,IAAA,CAAK,QAAL,EAAe,CAAf;IACA,IAAA,CAAK,QAAL,EAAe,CAAA,MAAM,CAAC,CAAC,GAAF,CAAA,CAAN,CAAf;AACA,WAAO;EAXC,EAnFV;;;EAiGA,OAAA,GAAU,MAAA,QAAA,CAAA,CAAA;AACV,QAAA,cAAA,EAAA,aAAA,EAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,CAAA,CAAE,QAAF,EACE,cADF,EAEE,OAFF,EAGE,aAHF,CAAA,GAGoB,OAAA,CAAQ,yBAAR,CAHpB;IAIA,KAAA,GAAS,CAAE,GAAF,EAAO,CAAP,CAAA,GAAA;aAAe,IAAI,OAAJ,CAAY,QAAA,CAAE,OAAF,CAAA;eAAe,UAAA,CAAW,CAAE,QAAA,CAAA,CAAA;iBAAG,OAAA,CAAQ,CAAA,CAAA,CAAR;QAAH,CAAF,CAAX,EAA+B,GAAA,GAAM,IAArC;MAAf,CAAZ;IAAf;IACT,CAAA,GAAI,IAAI,cAAJ,CAAA;IACJ,CAAC,CAAC,IAAF,CAAO,CAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAhB;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;aAAe,IAAA,CAAK,CAAA,MAAM,KAAA,CAAM,GAAN,EAAW,QAAA,CAAA,CAAA;eAAG,CAAA,GAAI;MAAP,CAAX,CAAN,CAAL;IAAf,CAAhB;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAhB;IACA,IAAA,CAAK,QAAL,EAAe,CAAf;IACA,IAAA,CAAK,QAAL,EAAe,CAAA,MAAM,CAAC,CAAC,GAAF,CAAA,CAAN,CAAf;AACA,WAAO;EAdC,EAjGV;;;EAkHA,MAAA,GAAS,QAAA,CAAA,CAAA;AACT,QAAA,QAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,CAAA,CAAE,QAAF,CAAA,GAAe,OAAA,CAAQ,yBAAR,CAAf;IACA,CAAA,GAAI,IAAI,QAAJ,CAAA;IACJ,CAAC,CAAC,IAAF,CAAO,GAAG,CAAC,EAAE,CAAC,UAAP,CAAkB,UAAlB,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,MAAA,GAAS,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAhB,EAJF;;IAME,IAAA,CAAK,QAAL,EAAe,CAAf;IACA,CAAC,CAAC,GAAF,CAAA;AACA,WAAO;EATA,EAlHT;;;EA8HA,MAAA,GAAS,MAAA,QAAA,CAAA,CAAA;AACT,QAAA,cAAA,EAAA,EAAA,EAAA,IAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAwB,OAAA,CAAQ,SAAR;IACxB,IAAA,GAAwB,OAAA,CAAQ,WAAR;IACxB,CAAA;MAAE,cAAF;MACE,UAAA,EAAY;IADd,CAAA,GACwB,OAAA,CAAQ,yBAAR,CADxB;IAEA,IAAA,GAAwB,IAAI,CAAC,IAAL,CAAU,SAAV,EAAqB,wCAArB;IACxB,UAAA,GAAwB,QAAA,CAAA,CAAA;aAAG,EAAE,CAAC,gBAAH,CAAoB,IAApB,EAAH;IAAA;IACxB,CAAA,GAAI,IAAI,cAAJ,CAAA;IACJ,CAAC,CAAC,IAAF,CAAO,UAAA,CAAA,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAC,CAAC,YAAF,CAAA,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,CAAC,CAAC,MAAF,CAAS,CAAT,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAR,EAAa,GAAA,CAAI,CAAJ,CAAb;IAAT,CAAd;IACA,IAAA,CAAK,QAAL,EAAe,CAAf;IACA,MAAM,CAAC,CAAC,GAAF,CAAA;AACN,WAAO;EAfA,EA9HT;;;EAgJA,MAAA,GAAS,QAAA,CAAA,CAAA;AACT,QAAA,CAAA,EAAA,QAAA,EAAA,WAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA,EAAA,OAAA,EAAA,IAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,QAAF;MACE,UAAA,EAAY;IADd,CAAA,GACsB,OAAA,CAAQ,yBAAR,CADtB;IAEA,CAAA,GAAsB,IAAI,QAAJ,CAAA;IACtB,CAAA,CAAE,CAAF,CAAA,GAAsB,CAAtB;IACA,IAAA,GAAsB,MAAA,CAAO,MAAP,EANxB;;IAQE,WAAA,GAAsB,QAAA,CAAA,CAAA;AAAE,UAAA;aAAC,UAAA,GAAa,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;QAAe,KAAA,CAAM,WAAN,EAAmB,IAAnB;eAAyB,IAAA,CAAK,CAAA,CAAA,CAAA,CAAI,CAAJ,CAAA,CAAA,CAAL;MAAxC;IAAhB,EARxB;;IAUE,QAAA,GAAsB,CAAA,CAAE,CAAE,IAAF,CAAF,EAAa,OAAA,GAAU,QAAA,CAAA,CAAA;AAC/C,UAAA;MAAI,SAAA,GAAY;AACZ,aAAO,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;QACL,IAAyB,CAAA,KAAK,IAA9B;AAAA,iBAAO,IAAA,CAAK,SAAL,EAAP;;QACA,SAAS,CAAC,IAAV,CAAe,CAAf;AACA,eAAO;MAHF;IAFoC,CAAvB,EAVxB;;IAiBE,IAAA,CAAK,QAAL,EAAe,WAAf;IACA,IAAA,CAAK,QAAL,EAAe,QAAf,EAlBF;;IAoBE,CAAC,CAAC,IAAF,CAAO,KAAK,CAAC,IAAN,CAAW,MAAX,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,WAAP,EArBF;IAsBE,CAAC,CAAC,IAAF,CAAO,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;aAAS,OAAA,CAAQ,GAAA,CAAI,CAAJ,CAAR;IAAT,CAAd;IACA,CAAC,CAAC,GAAF,CAAA,EAvBF;;AAyBE,WAAO;EA1BA,EAhJT;;;EA6KA,MAAA,GAAS,QAAA,CAAA,CAAA;AACT,QAAA,CAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,QAAF;MACE,UAAA,EAAY;IADd,CAAA,GACsB,OAAA,CAAQ,yBAAR,CADtB;IAEA,CAAA,GAAsB,IAAI,QAAJ,CAAA;IACtB,CAAA,CAAE,CAAF,CAAA,GAAsB,CAAtB;IACA,IAAA,GAAsB,MAAA,CAAO,MAAP,EANxB;;IAQE,CAAC,CAAC,IAAF,CAAO,CAAE,CAAF,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;aAAe,IAAA,CAAK,CAAA,GAAI,CAAT;IAAf,CAAP;IACA,CAAC,CAAC,IAAF,CAAO,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;aAAS,IAAA,CAAK,CAAL;IAAT,CAAd;IACA,CAAC,CAAC,IAAF,CAAO,QAAA,CAAE,CAAF,CAAA;MAAS,IAAY,CAAA,GAAI,GAAhB;eAAA,CAAC,CAAC,IAAF,CAAO,CAAP,EAAA;;IAAT,CAAP;IACA,IAAA,CAAK,CAAC,CAAC,GAAF,CAAA,CAAL,EAZF;;AAcE,WAAO;EAfA,EA7KT;;;EA+LA,QAAA,GAAW,QAAA,CAAA,CAAA;AACX,QAAA,CAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,QAAF;MACE,UAAA,EAAY,CADd;MAEE;IAFF,CAAA,GAEsB,OAAA,CAAQ,yBAAR,CAFtB,EAFF;;IAME,aAAA,GAAgB,QAAA,CAAA,CAAA;AAClB,UAAA,CAAA,EAAA,IAAA,EAAA;MAAI,CAAA,GAAsB,IAAI,QAAJ,CAAA;MACtB,IAAA,GAAsB,IAAI,QAAJ,CAAA;MACtB,KAAA,GAAsB,IAAI,QAAJ,CAAA;MACtB,CAAC,CAAC,IAAF,CAAO,CAAE,GAAA,KAAF,EAAY,GAAA,8BAAZ,EAA2B,GAAA,KAA3B,EAAqC,GAAA,wCAArC,CAAP,EAHJ;;MAKI,CAAC,CAAC,IAAF,CAAO,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACX,YAAA;QAAM,IAAiB,GAAG,CAAC,GAAJ,CAAQ,CAAE,CAAA,UAAI,GAAK,EAAX,CAAR,CAAjB;AAAA,iBAAO,IAAA,CAAK,CAAL,EAAP;;QACA,IAAsB,CAAA,KAAK,CAA3B;AAAA,iBAAO,IAAI,CAAC,IAAL,CAAU,CAAV,EAAP;;eACA,KAAK,CAAC,IAAN,CAAW,CAAX;MAHK,CAAP,EALJ;;;;AAYI,aAAO,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX;IAbO;IAeb,CAAA,QAAA,CAAA,CAAA,EAAA;AACL,UAAA,GAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX,CAAA,GAAsB,aAAA,CAAA,CAAtB;MACA,IAAA,CAAK,UAAL,EAAiB,MAAA,GAAS,CAAC,CAAC,GAAF,CAAA,CAA1B;MACA,IAAA,CAAK,UAAL,EAAiB,GAAA,GAAS,IAAI,CAAC,GAAL,CAAA,CAA1B;MACA,IAAA,CAAK,UAAL,EAAiB,IAAA,GAAS,KAAK,CAAC,GAAN,CAAA,CAA1B;AACA,aAAO;IANN,CAAA;IAQA,CAAA,QAAA,CAAA,CAAA,EAAA;AACL,UAAA,CAAA,EAAA,EAAA,EAAA,GAAA,EAAA,CAAA,EAAA,IAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX,CAAA,GAAsB,aAAA,CAAA,CAAtB;AACA;MAAA,KAAA,QAAA;QACE,IAAA,CAAK,GAAL,EAAU,CAAV;AACA;QAAA,KAAA,WAAA;UACE,IAAA,CAAK,KAAL,EAAY,GAAZ;QADF;AAEA;QAAA,KAAA,UAAA;UACE,IAAA,CAAK,IAAL,EAAW,EAAX;QADF;MAJF;AAMA,aAAO;IATN,CAAA,IA7BL;;AAwCE,WAAO;EAzCE,EA/LX;;;EA2OA,gBAAA,GAAmB,MAAA,QAAA,CAAA,CAAA;AACnB,QAAA,CAAA,EAAA,cAAA,EAAA,EAAA,EAAA,CAAA,EAAA,KAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,cAAF;MACE,UAAA,EAAY,CADd;MAEE;IAFF,CAAA,GAEsB,OAAA,CAAQ,yBAAR,CAFtB;IAGA,CAAA,CAAE,KAAF,CAAA,GAAsB,GAAG,CAAC,KAA1B,EALF;;IAOE,aAAA,GAAgB,QAAA,CAAA,CAAA;AAClB,UAAA,CAAA,EAAA,IAAA,EAAA;MAAI,CAAA,GAAsB,IAAI,cAAJ,CAAA;MACtB,IAAA,GAAsB,IAAI,cAAJ,CAAA;MACtB,KAAA,GAAsB,IAAI,cAAJ,CAAA;MACtB,CAAC,CAAC,IAAF,CAAO,CAAE,GAAA,KAAF,EAAY,GAAA,8BAAZ,EAA2B,GAAA,KAA3B,EAAqC,GAAA,wCAArC,CAAP,EAHJ;;MAKI,CAAC,CAAC,IAAF,CAAO,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACX,YAAA;QAAM,IAAyC,GAAG,CAAC,GAAJ,CAAQ,CAAE,CAAA,UAAI,GAAK,EAAX,CAAR,CAAzC;AAAA,iBAAS,CAAA,MAAM,KAAA,CAAM,QAAA,CAAA,CAAA;mBAAG,IAAA,CAAU,CAAV;UAAH,CAAN,CAAN,EAAT;;QACA,IAAyC,CAAA,KAAK,CAA9C;AAAA,iBAAS,CAAA,MAAM,KAAA,CAAM,QAAA,CAAA,CAAA;mBAAG,IAAI,CAAC,IAAL,CAAU,CAAV;UAAH,CAAN,CAAN,EAAT;;eACA,CAAA,MAAM,KAAA,CAAM,QAAA,CAAA,CAAA;iBAAG,KAAK,CAAC,IAAN,CAAW,CAAX;QAAH,CAAN,CAAN;MAHK,CAAP,EALJ;;;;AAYI,aAAO,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX;IAbO;IAehB,MAAS,CAAA,MAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,GAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX,CAAA,GAAsB,aAAA,CAAA,CAAtB;MACA,IAAA,CAAK,UAAL,EAAiB,MAAA,GAAS,CAAA,MAAM,CAAC,CAAC,GAAF,CAAA,CAAN,CAA1B;MACA,IAAA,CAAK,UAAL,EAAiB,IAAA,GAAS,CAAA,MAAM,KAAK,CAAC,GAAN,CAAA,CAAN,CAA1B;MACA,IAAA,CAAK,UAAL,EAAiB,GAAA,GAAS,CAAA,MAAM,IAAI,CAAC,GAAL,CAAA,CAAN,CAA1B;AACA,aAAO;IANA,CAAA;IAQT,MAAS,CAAA,MAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,CAAA,EAAA,IAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,CAAF,EAAK,IAAL,EAAW,KAAX,CAAA,GAAsB,aAAA,CAAA,CAAtB;MACA,MAAM,OAAO,CAAC,GAAR,CAAY;QAChB,MAAA,QAAA,CAAA,CAAA;AAAE,cAAA;iBAAC,IAAA,CAAK,UAAL;QAAiB,MAAA,GAAS,CAAA,MAAM,CAAC,CAAC,GAAF,CAAA,CAAN,CAA1B;QAAH,CADgB;QAEhB,MAAA,QAAA,CAAA,CAAA;AAAE,cAAA;iBAAC,IAAA,CAAK,UAAL;QAAiB,IAAA,GAAS,CAAA,MAAM,KAAK,CAAC,GAAN,CAAA,CAAN,CAA1B;QAAH,CAFgB;QAGhB,MAAA,QAAA,CAAA,CAAA;AAAE,cAAA;iBAAC,IAAA,CAAK,UAAL;QAAiB,GAAA,GAAS,CAAA,MAAM,IAAI,CAAC,GAAL,CAAA,CAAN,CAA1B;QAAH,CAHgB;OAAZ;AAKN,aAAO;IARA,CAAA,IA9BX;;;;;;;;;;;;;AAmDE,WAAO;EApDU,EA3OnB;;;EAkSA,gBAAA,GAAmB,MAAA,QAAA,CAAA,CAAA;AACnB,QAAA,CAAA,EAAA,cAAA,EAAA,EAAA,EAAA,CAAA,EAAA,KAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,cAAF;MACE,UAAA,EAAY,CADd;MAEE;IAFF,CAAA,GAEsB,OAAA,CAAQ,yBAAR,CAFtB;IAGA,CAAA,CAAE,KAAF,CAAA,GAAsB,GAAG,CAAC,KAA1B,EALF;;IAOE,aAAA,GAAgB,QAAA,CAAA,CAAA;AAClB,UAAA,GAAA,EAAA,GAAA,EAAA;MAAI,GAAA,GAAsB,IAAI,cAAJ,CAAA;MACtB,GAAA,GAAsB,IAAI,cAAJ,CAAA;MACtB,GAAG,CAAC,IAAJ,CAAS,8BAAT;MACA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,OAAA,CAAQ,OAAR,EAAiB,CAAjB;MAAT,CAAhB;MACA,GAAG,CAAC,IAAJ,CAAY,CAAA,QAAA,CAAA,CAAA;AAChB,YAAA;QAAM,KAAA,GAAQ;AACR,eAAO,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;UACL,KAAA;UACA,WAAG,OAAS,EAAT,KAAc,CAAjB;AAAwB,mBAAO,CAAA,MAAM,KAAA,CAAM,QAAA,CAAA,CAAA;qBAAG,GAAG,CAAC,IAAJ,CAAS,CAAT;YAAH,CAAN,CAAN,EAA/B;;iBACA,CAAA,MAAM,KAAA,CAAM,QAAA,CAAA,CAAA;mBAAG,IAAA,CAAK,CAAL;UAAH,CAAN,CAAN;QAHK;MAFG,CAAA,GAAZ;MAMA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,IAAA,CAAK,KAAL,EAAY,CAAZ;MAAT,CAAhB;MACA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,IAAA,CAAK,KAAL,EAAY,CAAZ;MAAT,CAAhB;AACA,aAAO,CAAE,GAAF,EAAO,GAAP;IAbO;IAehB,MAAS,CAAA,MAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,KAAA,EAAA,GAAA,EAAA,GAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,GAAF,EAAO,GAAP,CAAA,GAAgB,aAAA,CAAA,CAAhB;MACA,SAAA,GAAgB,CAAE,GAAF,EAAO,GAAP;MAChB,KAAA,GAAgB;AAChB,aAAA,IAAA;QACE,MAAM,GAAG,CAAC,OAAJ,CAAA;QACN,MAAM,GAAG,CAAC,OAAJ,CAAA;QACN,IAAS,SAAS,CAAC,KAAV,CAAgB,QAAA,CAAE,CAAF,CAAA;iBAAS,CAAC,CAAC;QAAX,CAAhB,CAAT;AAAA,gBAAA;;MAHF;MAIA,KAAA,CAAM,GAAG,CAAC,MAAV;MACA,KAAA,CAAM,GAAG,CAAC,MAAV;AACA,aAAO;IAXA,CAAA;IAaT,MAAS,CAAA,MAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,KAAA,EAAA,CAAA,EAAA,MAAA,EAAA,MAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,SAAA,EAAA,GAAA,EAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,GAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,GAAF,EAAO,GAAP,CAAA,GAAgB,aAAA,CAAA,CAAhB;MACA,SAAA,GAAgB,CAAE,GAAF,EAAO,GAAP;MAChB,KAAA,GAAgB;MAChB,GAAA,GAAgB,GAAG,CAAC,IAAJ,CAAA;MAChB,GAAA,GAAgB,GAAG,CAAC,IAAJ,CAAA;MAChB,QAAA,GAAgB;MAChB,QAAA,GAAgB;AAChB,aAAA,IAAA;QACE,CAAA;UAAE,KAAA,EAAO,GAAT;UAAc,IAAA,EAAM;QAApB,CAAA,GAAgC,CAAA,MAAM,GAAG,CAAC,IAAJ,CAAA,CAAN,CAAhC;QACA,KAAA,CAAM,GAAN,EAAW,GAAX,EAAgB,MAAhB,EAAwB,GAAG,CAAC,SAA5B;QACA,CAAA;UAAE,KAAA,EAAO,GAAT;UAAc,IAAA,EAAM;QAApB,CAAA,GAAgC,CAAA,MAAM,GAAG,CAAC,IAAJ,CAAA,CAAN,CAAhC;QACA,KAAA,CAAM,GAAN,EAAW,GAAX,EAAgB,MAAhB,EAAwB,GAAG,CAAC,SAA5B;AACA;QAAA,KAAA,qCAAA;;UAAA,QAAQ,CAAC,IAAT,CAAc,CAAd;QAAA;AACA;QAAA,KAAA,wCAAA;;UAAA,QAAQ,CAAC,IAAT,CAAc,CAAd;QAAA;QACA,IAAS,CAAE,MAAF,EAAU,MAAV,CAAmB,CAAC,KAApB,CAA0B,QAAA,CAAE,CAAF,CAAA;iBAAS;QAAT,CAA1B,CAAT;AAAA,gBAAA;;MAPF;MAQA,KAAA,CAAM,QAAN;MACA,KAAA,CAAM,QAAN;AACA,aAAO;IAnBA,CAAA,IAnCX;;AAwDE,WAAO;EAzDU,EAlSnB;;;EA8VA,eAAA,GAAkB,MAAA,QAAA,CAAA,CAAA;AAClB,QAAA,CAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA,EAAA,KAAA,EAAA,aAAA,EAAA;IAAE,IAAA,CAAK,+CAAL;IACA,EAAA,GAAsB,OAAA,CAAQ,SAAR;IACtB,CAAA;MAAE,QAAF;MACE,UAAA,EAAY,CADd;MAEE;IAFF,CAAA,GAEsB,OAAA,CAAQ,yBAAR,CAFtB;IAGA,KAAA,GAAsB,MAAA,CAAO,OAAP;IACtB,IAAA,GAAsB,MAAA,CAAO,MAAP,EANxB;;IAQE,aAAA,GAAgB,QAAA,CAAA,CAAA;AAClB,UAAA,GAAA,EAAA,GAAA,EAAA;MAAI,GAAA,GAAsB,IAAI,QAAJ,CAAA;MACtB,GAAA,GAAsB,IAAI,QAAJ,CAAA;MACtB,GAAG,CAAC,IAAJ,CAAS,kBAAT;MACA,GAAG,CAAC,IAAJ,CAAS,CAAA,CAAE,CAAE,KAAF,EAAS,IAAT,CAAF,EAAoB,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;eAAe,IAAA,CAAK,CAAL;MAAf,CAApB,CAAT;MACA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,OAAA,CAAQ,OAAR,EAAiB,CAAjB;MAAT,CAAhB;MACA,GAAG,CAAC,IAAJ,CAAY,CAAA,QAAA,CAAA,CAAA;AAChB,YAAA;QAAM,KAAA,GAAQ;AACR,eAAO,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;UACL,KAAA;UACA,WAAG,OAAS,EAAT,KAAc,CAAjB;AAAwB,mBAAO,GAAG,CAAC,IAAJ,CAAS,CAAT,EAA/B;;iBACA,IAAA,CAAK,CAAL;QAHK;MAFG,CAAA,GAAZ;MAMA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,IAAA,CAAK,KAAL,EAAY,CAAZ;MAAT,CAAhB;MACA,GAAG,CAAC,IAAJ,CAAS,IAAA,GAAO,QAAA,CAAE,CAAF,CAAA;eAAS,IAAA,CAAK,KAAL,EAAY,CAAZ;MAAT,CAAhB;AACA,aAAO,CAAE,GAAF,EAAO,GAAP;IAdO;IAgBhB,MAAS,CAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,GAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,GAAF,EAAO,GAAP,CAAA,GAAgB,aAAA,CAAA,CAAhB;MACA,KAAA,CAAM,GAAG,CAAC,GAAJ,CAAA,CAAN;MACA,KAAA,CAAM,GAAG,CAAC,GAAJ,CAAA,CAAN;AACA,aAAO;IALA,CAAA;IAOT,MAAS,CAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,KAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,QAAA,EAAA;MAAI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,GAAF,EAAO,GAAP,CAAA,GAAgB,aAAA,CAAA,CAAhB;MACA,SAAA,GAAgB,CAAE,GAAF,EAAO,GAAP;MAChB,KAAA,GAAgB;MAChB,KAAA,2CAAA;;QAAA,QAAQ,CAAC,WAAT,CAAA;MAAA;AACA,aAAA,IAAA;QACE,OAAA,CAAQ,OAAR,EAAiB,EAAE,KAAnB,EAA0B,mBAA1B;QACA,GAAG,CAAC,OAAJ,CAAA;QACA,GAAG,CAAC,OAAJ,CAAA;QACA,IAAS,SAAS,CAAC,KAAV,CAAgB,QAAA,CAAE,CAAF,CAAA;iBAAS,CAAC,CAAC;QAAX,CAAhB,CAAT;AAAA,gBAAA;;MAJF;MAKA,KAAA,6CAAA;;QAAA,QAAQ,CAAC,kBAAT,CAAA;MAAA;AACA,aAAA,IAAA;QACE,OAAA,CAAQ,OAAR,EAAiB,EAAE,KAAnB,EAA0B,mBAA1B;QACA,GAAG,CAAC,OAAJ,CAAA;QACA,GAAG,CAAC,OAAJ,CAAA;QACA,IAAS,SAAS,CAAC,KAAV,CAAgB,QAAA,CAAE,CAAF,CAAA;iBAAS,CAAC,CAAC;QAAX,CAAhB,CAAT;AAAA,gBAAA;;MAJF;MAKA,KAAA,CAAM,GAAG,CAAC,MAAV;MACA,KAAA,CAAM,GAAG,CAAC,MAAV;AACA,aAAO;IAnBA,CAAA;IAqBT,MAAS,CAAA,QAAA,CAAA,CAAA,EAAA;AACX,UAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA;;MACI,GAAA,GAAM,SAAA,CAAE,eAAF,CAAA;AACV,YAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAAA,IAAA,EAAA;QAAM,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,IAAzB,CAA8B,eAA9B,EAAN;;AAEM,gBAAO,IAAA,GAAO,OAAA,CAAQ,eAAR,CAAd;AAAA,eACO,QADP;YAEI,KAAA,GAAY,MAAM,CAAC,IAAP,CAAY,eAAZ;YACZ,SAAA;;AAAc;cAAA,KAAA,oBAAA;;6BAAA;cAAA,CAAA;;;AAFX;AADP,eAIO,MAJP;YAKI,KAAA;;AAAc;cAAA,KAAA,6DAAA;;6BAAA;cAAA,CAAA;;;YACd,SAAA,GAAY;AANhB,SAFN;;QAUM,OAAA,GAAU,SAAA,CAAA,CAAA;AAChB,cAAA,IAAA,EAAA,CAAA,EAAA,GAAA,EAAA,IAAA,EAAA,QAAA,EAAA;AAAQ,iBAAA,IAAA;YACE,KAAA,uDAAA;;cACE,IAAA,GAAO,KAAK,CAAE,GAAF;cACZ,QAAQ,CAAC,OAAT,CAAA;AACA;cAAA,KAAA,WAAA;gBAAA,MAAM,CAAA,CAAE,IAAF,EAAQ,IAAR,CAAA;cAAN;cACA,QAAQ,CAAC,MAAM,CAAC,MAAhB,GAAyB;YAJ3B;YAKA,IAAS,SAAS,CAAC,KAAV,CAAgB,QAAA,CAAE,QAAF,CAAA;qBAAgB,QAAQ,CAAC;YAAzB,CAAhB,CAAT;AAAA,oBAAA;;UANF;AAOA,iBAAO;QARC;QAUV,KAAA,2CAAA;kCAAA;;UAAA,QAAQ,CAAC,WAAT,CAAA;QAAA;QACA,OAAW,OAAA,CAAA;QACX,KAAA,6CAAA;;UAAA,QAAQ,CAAC,kBAAT,CAAA;QAAA;QACA,OAAW,OAAA,CAAA;AACX,eAAO;MAzBH,EADV;;MA4BI,OAAA,CAAQ,+CAAR;MACA,CAAA,CAAE,GAAF,EAAO,GAAP,CAAA,GAAgB,aAAA,CAAA,CAAhB;AACA;;;;MAAA,KAAA,QAAA;QACE,IAAA,CAAK,CAAL;MADF;AAEA,aAAO;IAjCA,CAAA,IApDX;;AAuFE,WAAO;EAxFS,EA9VlB;;;EA2bA,IAAG,MAAA,KAAU,OAAO,CAAC,IAArB;IAAkC,CAAA,CAAA,CAAA,GAAA,EAAA;;;;;;;;;;;;aAYhC,eAAA,CAAA;IAZgC,CAAA,IAAlC;;AA3bA",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'MOONRIVER/NG'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\ntypes                     = new ( require '../../../apps/intertype' ).Intertype()\n{ isa\n  type_of }               = types\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\ndemo_1 = ->\n  echo '—————————————————————————————————————————————'\n  { Pipeline } = require '../../../apps/moonriver'\n  p = new Pipeline()\n  p.push times_2 = ( d, send ) ->\n    if types.isa.float d\n      # send '('\n      send d * 2\n      # send ')'\n    else\n      send d\n  p.push plus_2  = ( d, send ) ->\n    if types.isa.float d\n      # send '['\n      send d + 2\n      # send ']'\n    else\n      send d\n  p.push times_3 = ( d, send ) ->\n    if types.isa.float d\n      # send '{'\n      send d * 3\n      # send '}'\n    else\n      send d\n  p.send 1\n  p.send 2\n  p.send 3\n  # urge '^97-4^', d for d from p.walk()\n  info '^97-4^', p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_2 = ->\n  echo '—————————————————————————————————————————————'\n  { Pipeline } = require '../../../apps/moonriver'\n  p = new Pipeline()\n  # p.push 'AB'\n  # p.push 'CD'\n  # p.push [ 1, 2, 3, ]\n  # p.push [ 4, 5, 6, ]\n  p.push { one: 'cat', two: 'dog', three: 'pony', }\n  p.push new Set '+-*'\n  p.push new Map [ [ 11, 12, ], [ 13, 14, ], ]\n  p.push 'ABC'\n  # p.push 'DEF'\n  # p.push 'GHIJ'\n  # # p.push show_1 = ( d, send ) -> whisper rpr d; send d\n  p.push show_2 = ( d       ) -> whisper rpr d\n  p.send 0\n  p.send 1\n  p.send 2\n  info '^98-5^', p\n  info '^98-6^', p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_3a = ->\n  echo '—————————————————————————————————————————————'\n  { Pipeline\n    Async_pipeline }  = require '../../../apps/moonriver'\n  p = new Async_pipeline()\n  p.push [ 1, 2, 3, ]\n  p.push show_2 = ( d ) -> whisper 'Ⅱ', rpr d\n  p.push mul_3b = ( d, send ) -> send new Promise ( resolve ) -> GUY.async.after 0.1, -> resolve d * 3\n  p.push show_2 = ( d ) -> whisper 'Ⅲ', rpr d\n  info '^23-1^', p\n  info '^23-4^', await p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_3b = ->\n  echo '—————————————————————————————————————————————'\n  { Pipeline\n    Async_pipeline\n    Segment\n    Async_segment } = require '../../../apps/moonriver'\n  after  = ( dts, f  ) => new Promise ( resolve ) -> setTimeout ( -> resolve f() ), dts * 1000\n  p = new Async_pipeline()\n  p.push [ 1, 2, 3, ]\n  p.push show_2 = ( d ) -> whisper 'Ⅱ', rpr d\n  p.push mul_3b = ( d, send ) -> send await after 0.1, -> d * 3\n  p.push show_2 = ( d ) -> whisper 'Ⅲ', rpr d\n  info '^24-7^', p\n  info '^24-8^', await p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_4 = ->\n  echo '—————————————————————————————————————————————'\n  { Pipeline } = require '../../../apps/moonriver'\n  p = new Pipeline()\n  p.push GUY.fs.walk_lines __filename\n  p.push show_2 = ( d ) -> whisper 'Ⅱ', rpr d\n  # p.push show_2 = ( d ) -> whisper 'Ⅲ', rpr d\n  info '^24-7^', p\n  p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_5 = ->\n  echo '—————————————————————————————————————————————'\n  FS                    = require 'node:fs'\n  PATH                  = require 'node:path'\n  { Async_pipeline, \\\n    transforms: T,  }   = require '../../../apps/moonriver'\n  path                  = PATH.join __dirname, '../../../assets/short-proposal.mkts.md'\n  get_source            = -> FS.createReadStream path #, { encoding: 'utf-8', }\n  p = new Async_pipeline()\n  p.push get_source()\n  p.push T.$split_lines()\n  p.push T.$limit 5\n  p.push show = ( d ) -> whisper 'Ⅱ', rpr d\n  info '^24-7^', p\n  await p.run()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_6 = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Pipeline, \\\n    transforms: T,  } = require '../../../apps/moonriver'\n  p                   = new Pipeline()\n  { $ }               = p\n  last                = Symbol 'last'\n  #.........................................................................................................\n  $with_stars         = -> with_stars = ( d, send ) -> debug '^4456546^', send; send \"*#{d}*\"\n  #.........................................................................................................\n  $collect            = $ { last, }, collect = ->\n    collector = []\n    return ( d, send ) ->\n      return send collector if d is last\n      collector.push d\n      return null\n  #.........................................................................................................\n  info '^40-1^', $with_stars\n  info '^40-2^', $collect\n  #.........................................................................................................\n  p.push Array.from '氣場全開'\n  p.push $with_stars # ()\n  p.push show = ( d ) -> whisper rpr d\n  p.run()\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_7 = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Pipeline, \\\n    transforms: T,  } = require '../../../apps/moonriver'\n  p                   = new Pipeline()\n  { $ }               = p\n  last                = Symbol 'last'\n  #.........................................................................................................\n  p.push [ 1, ]\n  p.push ( d, send ) -> send d * 2\n  p.push show = ( d ) -> info d\n  p.push ( d ) -> p.send d if d < 1e6\n  urge p.run()\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_tee = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Pipeline, \\\n    transforms: T,\n    $,              } = require '../../../apps/moonriver'\n  #.........................................................................................................\n  get_pipelines = ->\n    p                   = new Pipeline()\n    p_d3                = new Pipeline()\n    p_nd3               = new Pipeline()\n    p.push [ 'abc'..., [ 0 .. 9 ]..., 'def'..., [ 10 .. 19 ]..., ]\n    # p.push show = ( d ) -> info 'input', d\n    p.push ( d, send ) ->\n      return send d if isa.nan ( r = d %% 3 )\n      return p_d3.send d if r is 0\n      p_nd3.send d\n    # p.push      show = ( d ) -> whisper 'others', d\n    # p_d3.push   show = ( d ) -> whisper 'd3', d\n    # p_nd3.push  show = ( d ) -> whisper 'nd3', d\n    return { p, p_d3, p_nd3, }\n  #.........................................................................................................\n  do ->\n    whisper '—————————————————————————————————————————————'\n    { p, p_d3, p_nd3, } = get_pipelines()\n    urge 'others  ', others = p.run()\n    urge 'd3s     ', d3s    = p_d3.run()\n    urge 'nd3s    ', nd3s   = p_nd3.run()\n    return null\n  #.........................................................................................................\n  do ->\n    whisper '—————————————————————————————————————————————'\n    { p, p_d3, p_nd3, } = get_pipelines()\n    for d from p.walk()\n      info 'p', d\n      for nd3 from p_nd3.walk()\n        help 'nd3', nd3\n      for d3 from p_d3.walk()\n        urge 'd3', d3\n    return null\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_async_tee_1 = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Async_pipeline, \\\n    transforms: T,  \\\n    $,              } = require '../../../apps/moonriver'\n  { defer }           = GUY.async\n  #.........................................................................................................\n  get_pipelines = ->\n    p                   = new Async_pipeline()\n    p_d3                = new Async_pipeline()\n    p_nd3               = new Async_pipeline()\n    p.push [ 'abc'..., [ 0 .. 9 ]..., 'def'..., [ 10 .. 19 ]..., ]\n    # p.push show = ( d ) -> info 'input', d\n    p.push ( d, send ) ->\n      return ( await defer -> send      d ) if isa.nan ( r = d %% 3 )\n      return ( await defer -> p_d3.send d ) if r is 0\n      await defer -> p_nd3.send d\n    # p.push      show = ( d ) -> whisper 'others', d\n    # p_d3.push   show = ( d ) -> whisper 'd3', d\n    # p_nd3.push  show = ( d ) -> whisper 'nd3', d\n    return { p, p_d3, p_nd3, }\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p, p_d3, p_nd3, } = get_pipelines()\n    urge 'others  ', others = await p.run()\n    urge 'nd3s    ', nd3s   = await p_nd3.run()\n    urge 'd3s     ', d3s    = await p_d3.run()\n    return null\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p, p_d3, p_nd3, } = get_pipelines()\n    await Promise.all [\n      -> urge 'others  ', others = await p.run()\n      -> urge 'nd3s    ', nd3s   = await p_nd3.run()\n      -> urge 'd3s     ', d3s    = await p_d3.run()\n      ]\n    return null\n  # #.........................................................................................................\n  # do ->\n  #   whisper '—————————————————————————————————————————————'\n  #   { p, p_d3, p_nd3, } = get_pipelines()\n  #   for d from p.walk()\n  #     info 'p', d\n  #     for nd3 from p_nd3.walk()\n  #       help 'nd3', nd3\n  #     for d3 from p_d3.walk()\n  #       urge 'd3', d3\n  #   return null\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_async_tee_2 = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Async_pipeline, \\\n    transforms: T,  \\\n    $,              } = require '../../../apps/moonriver'\n  { defer }           = GUY.async\n  #.........................................................................................................\n  get_pipelines = ->\n    p_1                 = new Async_pipeline()\n    p_2                 = new Async_pipeline()\n    p_1.push [ 0 .. 9 ]\n    p_1.push show = ( d ) -> whisper 'input', d\n    p_1.push do ->\n      count = 0\n      return ( d, send ) ->\n        count++\n        if count %% 2 is 0 then return await defer -> p_2.send d\n        await defer -> send d\n    p_1.push show = ( d ) -> urge 'p_1', d\n    p_2.push show = ( d ) -> warn 'p_2', d\n    return { p_1, p_2, }\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p_1, p_2, } = get_pipelines()\n    pipelines     = [ p_1, p_2, ]\n    count         = 0\n    loop\n      await p_1.process()\n      await p_2.process()\n      break if pipelines.every ( p ) -> p.has_finished\n    debug p_1.output\n    debug p_2.output\n    return null\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p_1, p_2, } = get_pipelines()\n    pipelines     = [ p_1, p_2, ]\n    count         = 0\n    i_1           = p_1.walk()\n    i_2           = p_2.walk()\n    result_1      = []\n    result_2      = []\n    loop\n      { value: v_1, done: done_1, } = await i_1.next()\n      debug '^', p_2, done_2, p_2.datacount\n      { value: v_2, done: done_2, } = await i_2.next()\n      debug 'v', p_2, done_2, p_2.datacount\n      result_1.push d for d in p_1.output\n      result_2.push d for d in p_2.output\n      break if [ done_1, done_2, ].every ( d ) -> d\n    debug result_1\n    debug result_2\n    return null\n  #.........................................................................................................\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\ndemo_sync_tee_2 = ->\n  echo '—————————————————————————————————————————————'\n  FS                  = require 'node:fs'\n  { Pipeline, \\\n    transforms: T,  \\\n    $,              } = require '../../../apps/moonriver'\n  first               = Symbol 'first'\n  last                = Symbol 'last'\n  #.........................................................................................................\n  get_pipelines = ->\n    p_1                 = new Pipeline()\n    p_2                 = new Pipeline()\n    p_1.push [ 0 .. 5 ]\n    p_1.push $ { first, last, }, ( d, send ) -> send d\n    p_1.push show = ( d ) -> whisper 'input', d\n    p_1.push do ->\n      count = 0\n      return ( d, send ) ->\n        count++\n        if count %% 2 is 0 then return p_2.send d\n        send d\n    p_1.push show = ( d ) -> urge 'p_1', d\n    p_2.push show = ( d ) -> warn 'p_2', d\n    return { p_1, p_2, }\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p_1, p_2, } = get_pipelines()\n    debug p_1.run()\n    debug p_2.run()\n    return null\n  #.........................................................................................................\n  await do ->\n    whisper '—————————————————————————————————————————————'\n    { p_1, p_2, } = get_pipelines()\n    pipelines     = [ p_1, p_2, ]\n    count         = 0\n    pipeline.before_walk() for pipeline in pipelines\n    loop\n      whisper \"lap #\", ++count, '—————————————————'\n      p_1.process()\n      p_2.process()\n      break if pipelines.every ( p ) -> p.has_finished\n    pipeline.prepare_after_walk() for pipeline in pipelines\n    loop\n      whisper \"lap #\", ++count, '—————————————————'\n      p_1.process()\n      p_2.process()\n      break if pipelines.every ( p ) -> p.has_finished\n    debug p_1.output\n    debug p_2.output\n    return null\n  #.........................................................................................................\n  await do ->\n    #.......................................................................................................\n    xxx = ( named_pipelines ) ->\n      types.validate.object.or.list named_pipelines\n      #.....................................................................................................\n      switch type = type_of named_pipelines\n        when 'object'\n          names     = Object.keys named_pipelines\n          pipelines = ( v for k, v of named_pipelines )\n        when 'list'\n          names     = ( idx for _, idx in named_pipelines )\n          pipelines = named_pipelines\n      #.....................................................................................................\n      process = ->\n        loop\n          for pipeline, idx in pipelines\n            name = names[ idx ]\n            pipeline.process()\n            yield { name, data, } for data from pipeline.output\n            pipeline.output.length = 0\n          break if pipelines.every ( pipeline ) -> pipeline.has_finished\n        return null\n      #.....................................................................................................\n      pipeline.before_walk() for pipeline in pipelines\n      yield from process()\n      pipeline.prepare_after_walk() for pipeline in pipelines\n      yield from process()\n      return null\n    #.......................................................................................................\n    whisper '—————————————————————————————————————————————'\n    { p_1, p_2, } = get_pipelines()\n    for d from xxx { odd: p_1, even: p_2, }\n      info d\n    return null\n  #.........................................................................................................\n  return null\n\n\n\n############################################################################################################\nif module is require.main then do =>\n  # demo_1()\n  # demo_2()\n  # await demo_3a()\n  # await demo_3b()\n  # demo_4()\n  # demo_5()\n  # demo_6()\n  # demo_7()\n  # demo_tee()\n  # await demo_async_tee_1()\n  # await demo_async_tee_2()\n  demo_sync_tee_2()\n\n\n"
  ]
}