{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/intertype-prototype.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'INTERTYPE/prototype'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n{ hide\n  tree }                  = GUY.props\nrvr                       = GUY.trm.reverse\nnameit                    = ( name, f ) -> Object.defineProperty f, 'name', { value: name, }\n#...........................................................................................................\ntest                      = require 'guy-test'\ntypes                     = new ( require '../../../apps/intertype' ).Intertype()\n#...........................................................................................................\nhide @, 'Multimix', ( require '../../../apps/multimix' ).Multimix\nMultimix                  = @Multimix\nnotavalue                 = Symbol 'notavalue'\nmisfit                    = Symbol 'misfit'\n\n#---------------------------------------------------------------------------------------------------------\nsize_of = ( x, fallback = misfit ) ->\n  return R unless ( R = GUY.props.get x, 'length',  notavalue ) is notavalue\n  return R unless ( R = GUY.props.get x, 'size',    notavalue ) is notavalue\n  return fallback unless fallback is misfit\n  throw new E.Intertype_ETEMPTBD '^intertype.size_of@1^', \\\n    \"expected an object with `x.length` or `x.size`, got a #{@type_of x} with neither\"\n\n\n#===========================================================================================================\nclass @Intertype\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ->\n    hub           = @\n    clasz         = @constructor\n    handlers      = clasz._get_handlers hub\n    @declare      = new Multimix { hub, handler: handlers.declare,  }\n    @validate     = new Multimix { hub, handler: handlers.validate, }\n    @isa          = new Multimix { hub, handler: handlers.isa,      }\n    @mmx          = @isa[Multimix.symbol]\n    @state        = @mmx.state\n    @state.trace  = []\n    #---------------------------------------------------------------------------------------------------------\n    ### TAINT this part goes into declarations ###\n    @registry =\n      boolean:  ( x ) -> ( x is true ) or ( x is false )\n      integer:  ( x ) -> ( Number.isFinite x ) and ( x is Math.floor x )\n      text:     ( x ) -> ( typeof x ) is 'string'\n      list:     ( x ) -> Array.isArray x\n      set:      ( x ) -> x instanceof Set\n      empty:    ( x ) -> ( R = size_of x, null )? and R is 0\n      nonempty: ( x ) -> ( R = size_of x, null )? and R isnt 0\n      #.......................................................................................................\n      even: ( x ) ->\n        if ( Number.isInteger x )     then return ( x % 2  ) is   0\n        else if typeof x is 'bigint'  then return ( x % 2n ) is   0n\n        return false\n      #.......................................................................................................\n      odd: ( x ) ->\n        if ( Number.isInteger x )     then return ( x % 2  ) isnt 0\n        else if typeof x is 'bigint'  then return ( x % 2n ) isnt 0n\n        return false\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  _trace: ({ref, level, prop, x, R, }) ->\n    ### [ ref, level, prop, value, R, ] = checkpoint ###\n    # H.types.validate.nonempty_text  ref\n    # H.types.validate.cardinal       level\n    # H.types.validate.nonempty_text  prop\n    # H.types.validate.boolean        R\n    @state.trace.push { ref, level, prop, x, R, }\n    return R\n\n  #---------------------------------------------------------------------------------------------------------\n  _reset_trace: -> @state.trace = []\n\n  #-------------------------------------------------------------------------------------------------------\n  _isa: ( props, x, level ) ->\n    @_reset_trace() if level is 0\n    advance   = false\n    last_idx  = props.length - 1\n    R         = true\n    idx       = -1\n    prop      = null\n    nxt_prop  = null\n    #.....................................................................................................\n    loop\n      idx++\n      return R if idx > last_idx\n      [ prop, nxt_prop, ] = [ props[ idx ], props[ idx + 1 ], ]\n      #...................................................................................................\n      if advance\n        if prop is 'or'\n          @_trace { ref: '▲i1', level, prop, x, R, }\n          return true if R\n          advance = false\n        continue\n      #...................................................................................................\n      if prop is 'or'\n        throw new Error \"cannot have `or` as first prop, got #{rpr props.join '.'}\" if idx is 0\n        throw new Error \"cannot have `or` as last prop, got #{rpr props.join '.'}\" if idx is last_idx\n        throw new Error \"cannot have two `or` props in succession, got #{rpr props.join '.'}\" if nxt_prop is 'or'\n        @_trace { ref: '▲i2', level, prop, x, R, }\n        return true if R\n        advance = true\n        continue\n      #...................................................................................................\n      if prop is 'of'\n        throw new Error \"cannot have `of` as first prop, got #{rpr props.join '.'}\" if idx is 0\n        throw new Error \"cannot have `of` as last prop, got #{rpr props.join '.'}\" if idx is last_idx\n        throw new Error \"cannot have two `of` props in succession, got #{rpr props.join '.'}\" if nxt_prop is 'of'\n        props_tail = props[ idx + 1 ... ]\n        try\n          for element from x\n            return false unless @_isa props_tail, element, level + 1\n        catch error\n          throw error unless ( error.name is 'TypeError' ) and ( error.message is 'x is not iterable' )\n          throw new E.Intertype_ETEMPTBD '^intertype.isa@7^', \\\n            \"`of` must be preceded by collection name, got #{rpr hedges[ hedge_idx - 1 ]}\"\n        return true\n      #...................................................................................................\n      unless ( fn = @registry[ prop ] )?\n        throw new Error \"unknown type #{rpr prop}\"\n      #...................................................................................................\n      R = R = fn.call @, x\n      @_trace { ref: '▲i3', level, prop, x, R, }\n      unless R is true or R is false\n        ### TAINT use this library to determine type: ###\n        throw new Error \"expected test result to be boolean, go a #{typeof R}: #{rpr R}\"\n      advance = not R\n    #.....................................................................................................\n    return R\n\n#-----------------------------------------------------------------------------------------------------------\n@Intertype._get_handlers = ( hub ) ->\n  R =\n    #-------------------------------------------------------------------------------------------------------\n    declare: ( props, isa ) ->\n      unless ( arity = props.length ) is 1\n        throw new Error \"expected single property, got #{arity}: #{rpr props}\"\n      [ name, ]             = props\n      hub.registry[ name ]  = R = nameit name, ( props, x ) -> isa x\n      return R\n\n    #-------------------------------------------------------------------------------------------------------\n    validate: ( props, x ) ->\n      unless ( arity = props.length ) > 0\n        throw new Error \"expected at least one property, got #{arity}: #{rpr props}\"\n      return x if hub._isa props, x, 0\n      ### TAINT use tracing ###\n      throw new Error \"not a valid #{props.join '.'}: #{rpr x}\"\n\n    #-------------------------------------------------------------------------------------------------------\n    isa: ( props, x ) ->\n      unless ( arity = props.length ) > 0\n        throw new Error \"expected at least one property, got #{arity}: #{rpr props}\"\n      return hub._isa props, x, 0\n\n  #---------------------------------------------------------------------------------------------------------\n  return R\n\n\n"
  ]
}