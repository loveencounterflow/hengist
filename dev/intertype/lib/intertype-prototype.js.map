{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/intertype-prototype.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'INTERTYPE/prototype'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n{ hide\n  tree }                  = GUY.props\nrvr                       = GUY.trm.reverse\nnameit                    = ( name, f ) -> Object.defineProperty f, 'name', { value: name, }\n#...........................................................................................................\ntest                      = require 'guy-test'\ntypes                     = new ( require '../../../apps/intertype' ).Intertype()\nhub                       = @\n#...........................................................................................................\nhide @, 'Multimix', ( require '../../../apps/multimix' ).Multimix\nMultimix                  = @Multimix\n\n\n#-----------------------------------------------------------------------------------------------------------\n@registry =\n  integer: ( x ) -> ( Number.isFinite x ) and ( x is Math.floor x )\n  #.........................................................................................................\n  even: ( x ) ->\n    if ( Number.isInteger x )     then return ( x % 2  ) is   0\n    else if typeof x is 'bigint'  then return ( x % 2n ) is   0n\n    return false\n  #.........................................................................................................\n  odd: ( x ) ->\n    if ( Number.isInteger x )     then return ( x % 2  ) isnt 0\n    else if typeof x is 'bigint'  then return ( x % 2n ) isnt 0n\n    return false\n\n#-----------------------------------------------------------------------------------------------------------\n@handlers =\n\n  #---------------------------------------------------------------------------------------------------------\n  isa: ( props, x ) ->\n    # whisper '^321-1^', '---------------------------------------'\n    # debug '^321-1^', { props, x, }\n    for prop in props\n      # debug '^321-2^', prop\n      # debug '^321-3^', hub.registry\n      # debug '^321-4^', hub.registry[ prop ]\n      unless ( fn = hub.registry[ prop ] )?\n        throw new Error \"unknown type #{rpr prop}\"\n      return false unless fn.call hub, x\n    return true\n\n  #---------------------------------------------------------------------------------------------------------\n  declare: ( props, isa ) ->\n    unless ( arity = props.length ) is 1\n      throw new Error \"expected single property, got #{arity}: #{rpr props}\"\n    [ name, ]             = props\n    hub.registry[ name ]  = R = nameit name, ( props, x ) -> isa x\n    return R\n\n#-----------------------------------------------------------------------------------------------------------\n@isa      = new Multimix { hub, handler: @handlers.isa,     }\n@declare  = new Multimix { hub, handler: @handlers.declare, }\n\n\n"
  ]
}