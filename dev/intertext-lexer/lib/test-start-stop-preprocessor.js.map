{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/test-start-stop-preprocessor.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'INTERTEXT-LEXER/TESTS/START-STOP-PREPROC'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n#...........................................................................................................\ntest                      = require '../../../apps/guy-test'\n# PATH                      = require 'path'\n# FS                        = require 'fs'\ntypes                     = new ( require 'intertype' ).Intertype\n{ isa\n  equals\n  type_of\n  validate\n  validate_list_of }      = types.export()\n{ DATOM }                 = require '../../../apps/datom'\n{ new_datom\n  lets\n  stamp     }             = DATOM\nH                         = require './helpers'\n\n\n\n#===========================================================================================================\n# START AND STOP TOKENS\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_instantiation = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ null, { active: true, joiner: null, eraser: ' ' }, ]\n    [ {}, { active: true, joiner: null, eraser: ' ' }, ]\n    [ { active: false, }, { active: false, joiner: null, eraser: ' ' }, ]\n    [ { active: true, }, { active: true, joiner: null, eraser: ' ' }, ]\n    [ { active: true, joiner: '', }, { active: true, joiner: '', eraser: null, }, ]\n    [ { active: true, joiner: 'x', }, { active: true, joiner: 'x', eraser: null, }, ]\n    [ { active: true, joiner: 'x', eraser: '', }, null, /cannot set both `joiner` and `eraser`/ ]\n    [ { active: true, eraser: '\\x00', }, { active: true, joiner: null, eraser: '\\x00' }, ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      parser  = new tools.Start_stop_preprocessor probe\n      result  = GUY.props.pick_with_fallback parser.cfg, null, 'active', 'joiner', 'eraser'\n      # debug '^24243^', probe, result\n      resolve result\n  #.........................................................................................................\n  # lexer = new Interlex()\n  # debug '^23423^', lexer.types.create.ilx_walk_source_or_cfg null\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_basic = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ 'helo', { active: false } ], [ [ 'helo', false ] ], null ]\n    [ [ 'helo', { active: true } ], [ [ 'helo', true ] ], null ]\n    [ [ 'helo <?start?>world<?stop?>!', { active: false } ], [ [ 'helo <?start?>', false ], [ '<?stop?>!', false ], [ 'world', true ] ], null ]\n    [ [ 'helo <?start?>world<?stop_all?>!', { active: false } ], [ [ 'helo <?start?>', false ], [ '<?stop_all?>!', false ], [ 'world', true ] ], null ]\n    [ [ 'helo <?start?>world<?stop-all?>!', { active: false } ], [ [ 'helo <?start?>', false ], [ '<?stop-all?>!', false ], [ 'world', true ] ], null ]\n    [ [ 'helo <?start?>world<?stop-all\\\\?>!', { active: false } ], [ [ 'helo <?start?>', false ], [ 'world<?stop-all\\\\?>!', true ] ], null ]\n    [ [ 'helo <?start?>world\\n<?stop_all?>!', { active: false } ], [ [ 'helo <?start?>', false ], [ '<?stop_all?>!', false ], [ 'world', true ] ], null ]\n    [ [ 'abc\\ndef<?stop?>comments\\ngo\\nhere\\n', { active: true } ], [ [ 'abc', true ], [ '<?stop?>comments', false ], [ 'go', false ], [ 'here', false ], [ 'def', true ] ], null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      [ source\n        cfg     ] = probe\n      result      = []\n      tokens      = []\n      parser      = new tools.Start_stop_preprocessor cfg\n      for d from parser.walk source\n        tokens.push d\n        result.push [ d.value, d.data.active, ]\n      # debug '^4353^', ( ( GUY.trm.reverse ( if d.data.active then GUY.trm.green else GUY.trm.red ) rpr d.value ) for d in tokens ).join ''\n      # H.tabulate \"#{rpr probe}\", tokens\n      # echo [ probe, result, error, ]\n      resolve result\n  #.........................................................................................................\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_positioning = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  new_lexer = ( cfg ) ->\n    lexer   = new Interlex { split: 'lines', cfg..., }\n    #.........................................................................................................\n    do =>\n      mode = 'plain'\n      lexer.add_lexeme { mode, tid: 'any',    pattern: /.+/u, }\n      lexer.add_lexeme { mode, tid: 'nl',     pattern: /$/u, value: '\\n', }\n    #.........................................................................................................\n    return lexer\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ 'abc<?start?>def\\nghi<?start?>uvw\\nxyz', { active: false, joiner: '%' } ], \"any'def'1,12,1,15|nl'\\\\n'1,15,1,15|any'ghi%uvw'2,0,2,7|nl'\\\\n'2,7,2,7|any'xyz'3,0,3,3|nl'\\\\n'3,3,3,3\", null ]\n    [ [ 'abc<?stop?>def\\nghi\\n<?start?>uvw\\nxyz', { active: true, joiner: '%' } ], \"any'abc'1,0,1,3|nl'\\\\n'1,3,1,3|any'uvw'3,9,3,12|nl'\\\\n'3,12,3,12|any'xyz'4,0,4,3|nl'\\\\n'4,3,4,3\", null ]\n    [ [ '<?stop?>whatever<?start?>xyz', { active: true, joiner: '%' } ], \"any'xyz'1,25,1,28|nl'\\\\n'1,28,1,28\", null ]\n    [ [ 'abc<?stop?>whatever<?start?>xyz', { active: true, joiner: '%' } ], \"any'abc%xyz'1,0,1,7|nl'\\\\n'1,7,1,7\", null ]\n    [ [ 'abc<?stop?>whatever<?start?>xyz', { active: true, eraser: '\\x00' } ], \"any'abc\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00xyz'1,0,1,31|nl'\\\\n'1,31,1,31\", null ]\n    [ [ 'abc<?stop?>whatever<?start?>xyz', { active: true, eraser: '' } ], \"any'abcxyz'1,0,1,6|nl'\\\\n'1,6,1,6\", null ]\n    [ [ 'abc<?stop?>whatever<?start?>xyz', null ], \"any'abc                         xyz'1,0,1,31|nl'\\\\n'1,31,1,31\", null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    # await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n    # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n    [ source\n      cfg     ] = probe\n    result      = []\n    tokens      = []\n    parser      = new tools.Start_stop_preprocessor cfg\n    lexer       = new_lexer()\n    for d from parser.walk source\n      # help '^33-1^', ( rpr d.value ), GUY.trm.truth d.data.active\n      tokens.push stamp d\n      if d.data.active\n        lexer.set_position d # { lnr1, }\n        for token from lexer.walk d.value\n          tokens.push token\n          result.push \"#{token.tid}#{rpr token.value}#{token.lnr1},#{token.x1},#{token.lnr2},#{token.x2}\"\n    # debug '^4353^', ( ( GUY.trm.reverse ( if d.data.active then GUY.trm.green else GUY.trm.red ) rpr d.value ) for d in tokens ).join ''\n    result_rpr = ( t.value for t in tokens when not t.$stamped ).join '|'\n    # H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", tokens\n    # H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", ( t for t in tokens when     t.$stamped )\n    # H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", ( t for t in tokens when not t.$stamped )\n    result = result.join '|'\n    echo [ probe, result, error, ]\n    T?.eq result, matcher\n  #.........................................................................................................\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@positioning_api_explicit = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  new_lexer = ( cfg ) ->\n    lexer   = new Interlex { split: 'lines', cfg..., }\n    #.........................................................................................................\n    do =>\n      mode = 'plain'\n      lexer.add_lexeme { mode, tid: 'any',    pattern: /.+/u, }\n      lexer.add_lexeme { mode, tid: 'nl',     pattern: /$/u, value: '\\n', }\n    #.........................................................................................................\n    return lexer\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ '𝍲𝍳𝍴𝍵𝍶', null ], \"'𝍲𝍳𝍴𝍵𝍶'1,0...1,10|'\\\\n'1,10...1,10\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: 5, } ], \"'𝍲𝍳𝍴𝍵𝍶'5,0...5,10|'\\\\n'5,10...5,10\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { x1: 100, } ], \"'𝍲𝍳𝍴𝍵𝍶'1,100...1,110|'\\\\n'1,110...1,110\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: 10, x1: 100, } ], \"'𝍲𝍳𝍴𝍵𝍶'10,100...10,110|'\\\\n'10,110...10,110\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { x1: -1, } ], null, /not a valid ilx_set_position_cfg/, ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: -1, } ], null, /not a valid ilx_set_position_cfg/, ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      [ source\n        cfg     ] = probe\n      result      = []\n      tokens      = []\n      lexer       = new_lexer()\n      lexer.set_position cfg if cfg?\n      for d from lexer.walk source\n        result.push \"#{rpr d.value}#{d.lnr1},#{d.x1}...#{d.lnr2},#{d.x2}\"\n        # result.push GUY.props.pick_with_fallback d, null, 'value', 'lnr1', 'x1', 'lnr2', 'x2'\n        tokens.push d\n      result = result.join '|'\n      H.tabulate \"#{rpr probe}\", tokens\n      # echo [ probe, result, error, ]\n      resolve result\n  #.........................................................................................................\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@positioning_api_implicit = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  new_lexer = ( cfg ) ->\n    lexer   = new Interlex { split: 'lines', cfg..., }\n    #.........................................................................................................\n    do =>\n      mode = 'plain'\n      lexer.add_lexeme { mode, tid: 'any',    pattern: /.+/u, }\n      lexer.add_lexeme { mode, tid: 'nl',     pattern: /$/u, value: '\\n', }\n    #.........................................................................................................\n    return lexer\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ '𝍲𝍳𝍴𝍵𝍶', null ], \"'𝍲𝍳𝍴𝍵𝍶'1,0...1,10|'\\\\n'1,10...1,10\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: 5, } ], \"'𝍲𝍳𝍴𝍵𝍶'5,0...5,10|'\\\\n'5,10...5,10\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { x1: 100, } ], \"'𝍲𝍳𝍴𝍵𝍶'1,100...1,110|'\\\\n'1,110...1,110\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: 10, x1: 100, } ], \"'𝍲𝍳𝍴𝍵𝍶'10,100...10,110|'\\\\n'10,110...10,110\", null ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { x1: -1, } ], null, /not a valid ilx_set_position_cfg/, ]\n    [ [ '𝍲𝍳𝍴𝍵𝍶', { lnr1: -1, } ], null, /not a valid ilx_set_position_cfg/, ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      [ value\n        cfg     ] = probe\n      result      = []\n      tokens      = []\n      lexer       = new_lexer()\n      lexer.set_position cfg if cfg?\n      for d from lexer.walk { value, cfg..., }\n        result.push \"#{rpr d.value}#{d.lnr1},#{d.x1}...#{d.lnr2},#{d.x2}\"\n        # result.push GUY.props.pick_with_fallback d, null, 'value', 'lnr1', 'x1', 'lnr2', 'x2'\n        tokens.push d\n      result = result.join '|'\n      H.tabulate \"#{rpr probe}\", tokens\n      # echo [ probe, result, error, ]\n      resolve result\n  #.........................................................................................................\n  done?()\n  return null\n\n\n\n\n############################################################################################################\nif require.main is module then do =>\n  # test @\n  # @positioning_api_explicit()\n  # test @positioning_api_explicit\n  test @start_stop_preprocessor_basic\n  # @start_stop_preprocessor_instantiation()\n  # test @start_stop_preprocessor_instantiation\n  # @start_stop_preprocessor_positioning()\n  # test @start_stop_preprocessor_positioning\n  # test @positioning_api_explicit\n  # test @positioning_api_implicit\n\n"
  ]
}