{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/test-start-stop-preprocessor.coffee"
  ],
  "names": [],
  "mappings": "AACA;EAAA;AAAA,MAAA,KAAA,EAAA,GAAA,EAAA,CAAA,EAAA,KAAA,EAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,SAAA,EAAA,KAAA,EAAA,MAAA,EAAA,GAAA,EAAA,KAAA,EAAA,IAAA,EAAA,OAAA,EAAA,KAAA,EAAA,IAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,IAAA,EAAA,OAAA;;;EAIA,GAAA,GAA4B,OAAA,CAAQ,KAAR;;EAC5B,CAAA,CAAE,KAAF,EACE,KADF,EAEE,IAFF,EAGE,IAHF,EAIE,KAJF,EAKE,MALF,EAME,IANF,EAOE,IAPF,EAQE,OARF,CAAA,GAQ4B,GAAG,CAAC,GAAG,CAAC,WAAR,CAAoB,0CAApB,CAR5B;;EASA,CAAA,CAAE,GAAF,EACE,OADF,EAEE,IAFF,EAGE,GAHF,CAAA,GAG4B,GAAG,CAAC,GAHhC,EAdA;;;EAmBA,IAAA,GAA4B,OAAA,CAAQ,wBAAR,EAnB5B;;;;EAsBA,KAAA,GAA4B,IAAI,CAAE,OAAA,CAAQ,WAAR,CAAF,CAAuB,CAAC,SAA5B,CAAA;;EAC5B,CAAA,CAAE,GAAF,EACE,MADF,EAEE,OAFF,EAGE,QAHF,EAIE,gBAJF,CAAA,GAI4B,KAAK,CAAC,MAAN,CAAA,CAJ5B;;EAKA,CAAA,CAAE,KAAF,CAAA,GAA4B,OAAA,CAAQ,qBAAR,CAA5B;;EACA,CAAA,CAAE,SAAF,EACE,IADF,EAEE,KAFF,CAAA,GAE4B,KAF5B;;EAGA,CAAA,GAA4B,OAAA,CAAQ,WAAR,EAhC5B;;;;;EAuCA,IAAC,CAAA,qCAAD,GAAyC,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACzC,QAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,OAAA,EAAA,KAAA,EAAA,mBAAA,EAAA;IAAE,CAAA,CAAE,QAAF,EACE,OADF,EAEE,KAFF,CAAA,GAEc,OAAA,CAAQ,+BAAR,CAFd,EAAF;;IAIE,mBAAA,GAAsB;MACpB;QAAE,IAAF;QAAQ;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,IAAxB;UAA8B,MAAA,EAAQ;QAAtC,CAAR;OADoB;MAEpB;QAAE,CAAA,CAAF;QAAM;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,IAAxB;UAA8B,MAAA,EAAQ;QAAtC,CAAN;OAFoB;MAGpB;QAAE;UAAE,MAAA,EAAQ;QAAV,CAAF;QAAsB;UAAE,MAAA,EAAQ,KAAV;UAAiB,MAAA,EAAQ,IAAzB;UAA+B,MAAA,EAAQ;QAAvC,CAAtB;OAHoB;MAIpB;QAAE;UAAE,MAAA,EAAQ;QAAV,CAAF;QAAqB;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,IAAxB;UAA8B,MAAA,EAAQ;QAAtC,CAArB;OAJoB;MAKpB;QAAE;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ;QAAxB,CAAF;QAAiC;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,EAAxB;UAA4B,MAAA,EAAQ;QAApC,CAAjC;OALoB;MAMpB;QAAE;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ;QAAxB,CAAF;QAAkC;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,GAAxB;UAA6B,MAAA,EAAQ;QAArC,CAAlC;OANoB;MAOpB;QAAE;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,GAAxB;UAA6B,MAAA,EAAQ;QAArC,CAAF;QAA8C,IAA9C;QAAoD,uCAApD;OAPoB;MAQpB;QAAE;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ;QAAxB,CAAF;QAAqC;UAAE,MAAA,EAAQ,IAAV;UAAgB,MAAA,EAAQ,IAAxB;UAA8B,MAAA,EAAQ;QAAtC,CAArC;OARoB;MAJxB;;IAeE,KAAA,qDAAA;MAAI,CAAE,KAAF,EAAS,OAAT,EAAkB,KAAlB;MACF,MAAM,CAAC,CAAC,OAAF,CAAU,KAAV,EAAiB,OAAjB,EAA0B,KAA1B,EAAiC,QAAA,CAAA,CAAA;AAAG,eAAO,IAAI,OAAJ,CAAY,QAAA,CAAE,OAAF,EAAW,MAAX,CAAA;AACjE,cAAA,MAAA,EAAA,MAAA;;UACM,MAAA,GAAU,IAAI,KAAK,CAAC,uBAAV,CAAkC,KAAlC;UACV,MAAA,GAAU,GAAG,CAAC,KAAK,CAAC,kBAAV,CAA6B,MAAM,CAAC,GAApC,EAAyC,IAAzC,EAA+C,QAA/C,EAAyD,QAAzD,EAAmE,QAAnE,EAFhB;;iBAIM,OAAA,CAAQ,MAAR;QAL2D,CAAZ;MAAV,CAAjC;IADR;;MAUA;;AACA,WAAO;EA3BgC,EAvCzC;;;EAqEA,IAAC,CAAA,6BAAD,GAAiC,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACjC,QAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,OAAA,EAAA,KAAA,EAAA,mBAAA,EAAA;IAAE,CAAA,CAAE,QAAF,EACE,OADF,EAEE,KAFF,CAAA,GAEc,OAAA,CAAQ,+BAAR,CAFd,EAAF;;IAIE,mBAAA,GAAsB;MACpB;QAAE;UAAE,MAAF;UAAU;YAAE,MAAA,EAAQ;UAAV,CAAV;SAAF;QAAmC,CAAE,CAAE,QAAF;QAAY,KAAZ,CAAF,CAAnC;QAA4D,IAA5D;OADoB;MAEpB;QAAE;UAAE,MAAF;UAAU;YAAE,MAAA,EAAQ;UAAV,CAAV;SAAF;QAAkC,CAAE,CAAE,QAAF;QAAY,IAAZ,CAAF,CAAlC;QAA0D,IAA1D;OAFoB;MAGpB;QAAE;UAAE,8BAAF;UAAkC;YAAE,MAAA,EAAQ;UAAV,CAAlC;SAAF;QAA2D,CAAE,CAAE,gBAAF;QAAoB,KAApB,CAAF;QAA+B,CAAE,OAAF;QAAW,IAAX,CAA/B;QAAkD,CAAE,aAAF;QAAiB,KAAjB,CAAlD,CAA3D;QAAyI,IAAzI;OAHoB;MAIpB;QAAE;UAAE,kCAAF;UAAsC;YAAE,MAAA,EAAQ;UAAV,CAAtC;SAAF;QAA+D,CAAE,CAAE,gBAAF;QAAoB,KAApB,CAAF;QAA+B,CAAE,OAAF;QAAW,IAAX,CAA/B;QAAkD,CAAE,iBAAF;QAAqB,KAArB,CAAlD,CAA/D;QAAiJ,IAAjJ;OAJoB;MAKpB;QAAE;UAAE,kCAAF;UAAsC;YAAE,MAAA,EAAQ;UAAV,CAAtC;SAAF;QAA+D,CAAE,CAAE,gBAAF;QAAoB,KAApB,CAAF;QAA+B,CAAE,OAAF;QAAW,IAAX,CAA/B;QAAkD,CAAE,iBAAF;QAAqB,KAArB,CAAlD,CAA/D;QAAiJ,IAAjJ;OALoB;MAMpB;QAAE;UAAE,oCAAF;UAAwC;YAAE,MAAA,EAAQ;UAAV,CAAxC;SAAF;QAAiE,CAAE,CAAE,gBAAF;QAAoB,KAApB,CAAF;QAA+B,CAAE,wBAAF;QAA4B,IAA5B,CAA/B,CAAjE;QAAsI,IAAtI;OANoB;MAOpB;QAAE;UAAE,oCAAF;UAAwC;YAAE,MAAA,EAAQ;UAAV,CAAxC;SAAF;QAAiE,CAAE,CAAE,gBAAF;QAAoB,KAApB,CAAF;QAA+B,CAAE,SAAF;QAAa,IAAb,CAA/B;QAAoD,CAAE,iBAAF;QAAqB,KAArB,CAApD,CAAjE;QAAqJ,IAArJ;OAPoB;MAQpB;QAAE;UAAE,sCAAF;UAA0C;YAAE,MAAA,EAAQ;UAAV,CAA1C;SAAF;QAAgE,CAAE,CAAE,OAAF;QAAW,IAAX,CAAF;QAAqB,CAAE,KAAF;QAAS,IAAT,CAArB;QAAsC,CAAE,oBAAF;QAAwB,KAAxB,CAAtC;QAAuE,CAAE,MAAF;QAAU,KAAV,CAAvE;QAA0F,CAAE,QAAF;QAAY,KAAZ,CAA1F,CAAhE;QAAiL,IAAjL;OARoB;MAJxB;;IAeE,KAAA,qDAAA;MAAI,CAAE,KAAF,EAAS,OAAT,EAAkB,KAAlB;MACF,MAAM,CAAC,CAAC,OAAF,CAAU,KAAV,EAAiB,OAAjB,EAA0B,KAA1B,EAAiC,QAAA,CAAA,CAAA;AAAG,eAAO,IAAI,OAAJ,CAAY,QAAA,CAAE,OAAF,EAAW,MAAX,CAAA;AACjE,cAAA,GAAA,EAAA,CAAA,EAAA,MAAA,EAAA,GAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA;;UACM,CAAE,MAAF,EACE,GADF,CAAA,GACc;UACd,MAAA,GAAc;UACd,MAAA,GAAc;UACd,MAAA,GAAc,IAAI,KAAK,CAAC,uBAAV,CAAkC,GAAlC;AACd;UAAA,KAAA,QAAA;YACE,MAAM,CAAC,IAAP,CAAY,CAAZ;YACA,MAAM,CAAC,IAAP,CAAY,CAAE,CAAC,CAAC,KAAJ,EAAW,CAAC,CAAC,IAAI,CAAC,MAAlB,CAAZ;UAFF,CANN;;;;iBAYM,OAAA,CAAQ,MAAR;QAb2D,CAAZ;MAAV,CAAjC;IADR;;MAgBA;;AACA,WAAO;EAjCwB,EArEjC;;;EAyGA,IAAC,CAAA,eAAD,GAAmB,MAAA,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACnB,QAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,OAAA,EAAA,SAAA,EAAA,KAAA,EAAA,mBAAA,EAAA;IAAE,CAAA,CAAE,QAAF,EACE,OADF,EAEE,KAFF,CAAA,GAEc,OAAA,CAAQ,+BAAR,CAFd,EAAF;;IAIE,SAAA,GAAY,QAAA,CAAE,GAAF,CAAA;AACd,UAAA;MAAI,KAAA,GAAU,IAAI,QAAJ,CAAa;QAAE,KAAA,EAAO,OAAT;QAAkB,GAAA;MAAlB,CAAb;MAEP,CAAA,CAAA,CAAA,GAAA,EAAA;AACP,YAAA;QAAM,IAAA,GAAO;QACP,KAAK,CAAC,UAAN,CAAiB;UAAE,IAAF;UAAQ,GAAA,EAAK,QAAb;UAAyB,OAAA,EAAS,SAAlC;UAAmD,QAAA,EAAU,CAAE,GAAF,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,EAA2B,GAA3B,EAAgC,GAAhC,EAAqC,GAArC,EAA0C,GAA1C,EAA+C,GAA/C;QAA7D,CAAjB;QACA,KAAK,CAAC,UAAN,CAAiB;UAAE,IAAF;UAAQ,GAAA,EAAK,IAAb;UAAyB,OAAA,EAAS,MAAlC;UAAmD,QAAA,EAAU;QAA7D,CAAjB;QACA,KAAK,CAAC,UAAN,CAAiB;UAAE,IAAF;UAAQ,GAAA,EAAK,IAAb;UAAyB,OAAA,EAAS,IAAlC;UAAwC,KAAA,EAAO;QAA/C,CAAjB;eACA,KAAK,CAAC,mBAAN,CAA0B;UAAE,IAAF;UAAQ,GAAA,EAAK,MAAb;UAAqB,MAAA,EAAQ;QAA7B,CAA1B;MALC,CAAA,IAFP;;AASI,aAAO;IAVG,EAJd;;IAgBE,mBAAA,GAAsB;MACpB;QAAE;UAAE,MAAF;UAAU;YAAE,GAAA,EAAK,CAAP;YAAU,CAAA,EAAG;UAAb,CAAV;SAAF;QAAkC,sCAAlC;QAA0E,IAA1E;OADoB;MAEpB;QAAE;UAAE,MAAF;UAAU;YAAE,GAAA,EAAK,CAAP;YAAU,CAAA,EAAG,CAAC;UAAd,CAAV;SAAF;QAAmC,IAAnC;QAAyC,gCAAzC;OAFoB;MAhBxB;;IAqBE,KAAA,qDAAA;MAAI,CAAE,KAAF,EAAS,OAAT,EAAkB,KAAlB;MACF,MAAM,CAAC,CAAC,OAAF,CAAU,KAAV,EAAiB,OAAjB,EAA0B,KAA1B,EAAiC,QAAA,CAAA,CAAA;AAAG,eAAO,IAAI,OAAJ,CAAY,QAAA,CAAE,OAAF,EAAW,MAAX,CAAA;AACjE,cAAA,CAAA,EAAA,KAAA,EAAA,MAAA,EAAA,GAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA;;UACM,CAAE,MAAF,EACE,MADF,CAAA,GACc;UACd,MAAA,GAAc;UACd,MAAA,GAAc;UACd,KAAA,GAAc,SAAA,CAAA;UACd,KAAK,CAAC,UAAN,CAAiB,MAAjB;AACA;UAAA,KAAA,QAAA;YACE,IAAA,CAAK,QAAL,EAAe,GAAA,CAAI,CAAC,CAAC,KAAN,CAAf;YACA,MAAM,CAAC,IAAP,CAAY,CAAZ;YACA,MAAM,CAAC,IAAP,CAAY,CAAA,CAAA,CAAG,CAAC,CAAC,GAAL,CAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAC,KAAN,CAAX,CAAA,CAAA,CAAyB,CAAC,CAAC,IAA3B,CAAA,CAAA,CAAA,CAAmC,CAAC,CAAC,EAArC,CAAA,CAAA,CAAA,CAA2C,CAAC,CAAC,IAA7C,CAAA,CAAA,CAAA,CAAqD,CAAC,CAAC,EAAvD,CAAA,CAAZ;UAHF,CAPN;;UAYM,CAAC,CAAC,QAAF,CAAW,CAAA,CAAA,CAAG,GAAA,CAAI,KAAJ,CAAH,CAAA,CAAX,EAA2B,MAA3B;UACA,MAAA,GAAS,MAAM,CAAC,IAAP,CAAY,GAAZ;iBACT,OAAA,CAAQ,MAAR;QAf2D,CAAZ;MAAV,CAAjC;IADR;;MAkBA;;AACA,WAAO;EAzCU,EAzGnB;;;EAqJA,IAAC,CAAA,mCAAD,GAAuC,QAAA,CAAE,CAAF,EAAK,IAAL,CAAA;AACvC,QAAA,QAAA,EAAA,GAAA,EAAA,OAAA,EAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,KAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,KAAA,EAAA,mBAAA,EAAA,GAAA,EAAA,IAAA,EAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,EAAA,KAAA,EAAA,MAAA,EAAA;IAAE,CAAA,CAAE,QAAF,EACE,OADF,EAEE,KAFF,CAAA,GAEc,OAAA,CAAQ,+BAAR,CAFd,EAAF;;IAIE,SAAA,GAAY,QAAA,CAAE,GAAF,CAAA;AACd,UAAA;MAAI,KAAA,GAAU,IAAI,QAAJ,CAAa;QAAE,KAAA,EAAO,OAAT;QAAkB,GAAA;MAAlB,CAAb;MAEP,CAAA,CAAA,CAAA,GAAA,EAAA;AACP,YAAA;QAAM,IAAA,GAAO;QACP,KAAK,CAAC,UAAN,CAAiB;UAAE,IAAF;UAAQ,GAAA,EAAK,KAAb;UAAuB,OAAA,EAAS;QAAhC,CAAjB,EADN;;;;eAKM,KAAK,CAAC,UAAN,CAAiB;UAAE,IAAF;UAAQ,GAAA,EAAK,IAAb;UAAuB,OAAA,EAAS,IAAhC;UAAsC,KAAA,EAAO;QAA7C,CAAjB;MANC,CAAA,IAFP;;;AAWI,aAAO;IAZG,EAJd;;IAkBE,mBAAA,GAAsB;MAGpB;QAAE;;;UAAE,uCAAF;UAA2C;YAAE,MAAA,EAAQ,KAAV;YAAiB,MAAA,EAAQ;UAAzB,CAA3C;SAAF;QAAiF,sCAAjF;QAAyH,IAAzH;OAHoB;MAIpB;QAAE;UAAE,wCAAF;UAA4C;YAAE,MAAA,EAAQ,IAAV;YAAgB,MAAA,EAAQ;UAAxB,CAA5C;SAAF;QAAiF,sCAAjF;QAAyH,IAAzH;OAJoB;MAKpB;QAAE;UAAE,iCAAF;UAAqC;YAAE,MAAA,EAAQ,IAAV;YAAgB,MAAA,EAAQ;UAAxB,CAArC;SAAF;QAA0E,sCAA1E;QAAkH,IAAlH;OALoB;MAMpB;QAAE;UAAE,8BAAF;UAAkC;YAAE,MAAA,EAAQ,IAAV;YAAgB,MAAA,EAAQ;UAAxB,CAAlC;SAAF;QAAuE,sCAAvE;QAA+G,IAA/G;OANoB;MAlBxB;;;;;;;;;;;IAoCE,KAAA,qDAAA;MAAI,CAAE,KAAF,EAAS,OAAT,EAAkB,KAAlB,2BACN;;;MAEI,CAAE,MAAF,EACE,GADF,CAAA,GACc;MACd,MAAA,GAAc;MACd,MAAA,GAAc;MACd,MAAA,GAAc,IAAI,KAAK,CAAC,uBAAV,CAAkC,GAAlC;MACd,KAAA,GAAc,SAAA,CAAA;AACd;MAAA,KAAA,QAAA;QACE,IAAA,CAAK,QAAL,EAAiB,GAAA,CAAI,CAAC,CAAC,KAAN,CAAjB,EAAgC,GAAG,CAAC,GAAG,CAAC,KAAR,CAAc,CAAC,CAAC,IAAI,CAAC,MAArB,CAAhC;QACA,MAAM,CAAC,IAAP,CAAY,KAAA,CAAM,CAAN,CAAZ;QACA,IAAG,CAAC,CAAC,IAAI,CAAC,MAAV;UACE,KAAK,CAAC,gBAAN,CAAuB,CAAvB,EAAR;AACQ;UAAA,KAAA,aAAA;YACE,MAAM,CAAC,IAAP,CAAY,KAAZ;YACA,MAAM,CAAC,IAAP,CAAY,CAAA,CAAA,CAAG,KAAK,CAAC,GAAT,CAAA,CAAA,CAAe,GAAA,CAAI,KAAK,CAAC,KAAV,CAAf,CAAA,CAAA,CAAiC,KAAK,CAAC,IAAvC,CAAA,CAAA,CAAA,CAA+C,KAAK,CAAC,EAArD,CAAA,CAAA,CAAA,CAA2D,KAAK,CAAC,IAAjE,CAAA,CAAA,CAAA,CAAyE,KAAK,CAAC,EAA/E,CAAA,CAAZ;UAFF,CAFF;;MAHF,CARJ;;MAiBI,UAAA,GAAa;;AAAE;QAAA,KAAA,0CAAA;;cAA6B,CAAI,CAAC,CAAC;yBAAnC,CAAC,CAAC;;QAAF,CAAA;;UAAF,CAA+C,CAAC,IAAhD,CAAqD,GAArD,EAjBjB;;MAmBI,CAAC,CAAC,QAAF,CAAW,CAAA,CAAA,CAAG,GAAA,CAAI,KAAJ,CAAH,CAAA,IAAA,CAAA,CAAmB,GAAA,CAAI,UAAJ,CAAnB,CAAA,CAAX;;AAAkD;QAAA,KAAA,0CAAA;;cAA2B,CAAC,CAAC;yBAA7B;;QAAA,CAAA;;UAAlD;MACA,CAAC,CAAC,QAAF,CAAW,CAAA,CAAA,CAAG,GAAA,CAAI,KAAJ,CAAH,CAAA,IAAA,CAAA,CAAmB,GAAA,CAAI,UAAJ,CAAnB,CAAA,CAAX;;AAAkD;QAAA,KAAA,0CAAA;;cAAuB,CAAI,CAAC,CAAC;yBAA7B;;QAAA,CAAA;;UAAlD;MACA,MAAA,GAAS,MAAM,CAAC,IAAP,CAAY,GAAZ;MACT,IAAA,CAAK,CAAE,KAAF,EAAS,MAAT,EAAiB,KAAjB,CAAL;;QACA,CAAC,CAAE,EAAH,CAAM,MAAN,EAAc,OAAd;;IAxBF;;MA0BA;;AACA,WAAO;EAhE8B,EArJvC;;;EA2NA,IAAG,OAAO,CAAC,IAAR,KAAgB,MAAnB;IAAkC,CAAA,CAAA,CAAA,GAAA,EAAA;;;;;;aAMhC,IAAA,CAAK,IAAC,CAAA,qCAAN;IANgC,CAAA,IAAlC;;;EA3NA;;AAAA",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'INTERTEXT-LEXER/TESTS/START-STOP-PREPROC'\n{ rpr\n  inspect\n  echo\n  log     }               = GUY.trm\n#...........................................................................................................\ntest                      = require '../../../apps/guy-test'\n# PATH                      = require 'path'\n# FS                        = require 'fs'\ntypes                     = new ( require 'intertype' ).Intertype\n{ isa\n  equals\n  type_of\n  validate\n  validate_list_of }      = types.export()\n{ DATOM }                 = require '../../../apps/datom'\n{ new_datom\n  lets\n  stamp     }             = DATOM\nH                         = require './helpers'\n\n\n\n#===========================================================================================================\n# START AND STOP TOKENS\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_instantiation = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ null, { active: true, joiner: null, eraser: ' ' }, ]\n    [ {}, { active: true, joiner: null, eraser: ' ' }, ]\n    [ { active: false, }, { active: false, joiner: null, eraser: ' ' }, ]\n    [ { active: true, }, { active: true, joiner: null, eraser: ' ' }, ]\n    [ { active: true, joiner: '', }, { active: true, joiner: '', eraser: null, }, ]\n    [ { active: true, joiner: 'x', }, { active: true, joiner: 'x', eraser: null, }, ]\n    [ { active: true, joiner: 'x', eraser: '', }, null, /cannot set both `joiner` and `eraser`/ ]\n    [ { active: true, eraser: '\\x00', }, { active: true, joiner: null, eraser: '\\x00' }, ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      parser  = new tools.Start_stop_preprocessor probe\n      result  = GUY.props.pick_with_fallback parser.cfg, null, 'active', 'joiner', 'eraser'\n      # debug '^24243^', probe, result\n      resolve result\n  #.........................................................................................................\n  # lexer = new Interlex()\n  # debug '^23423^', lexer.types.create.ilx_walk_source_or_cfg null\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_basic = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ 'helo', { active: false, }, ], [ [ 'helo\\n', false ] ], null ]\n    [ [ 'helo', { active: true, }, ], [ [ 'helo\\n', true ] ], null ]\n    [ [ 'helo <?start?>world<?stop?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world', true ], [ '<?stop?>!\\n', false ] ], null ]\n    [ [ 'helo <?start?>world<?stop_all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world', true ], [ '<?stop_all?>!\\n', false ] ], null ]\n    [ [ 'helo <?start?>world<?stop-all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world', true ], [ '<?stop-all?>!\\n', false ] ], null ]\n    [ [ 'helo <?start?>world<?stop-all\\\\?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world<?stop-all\\\\?>!\\n', true ] ], null ]\n    [ [ 'helo <?start?>world\\n<?stop_all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world\\n', true ], [ '<?stop_all?>!\\n', false ] ], null ]\n    [ [ 'abc\\ndef<?stop?>comments\\ngo\\nhere\\n', { active: true } ], [ [ 'abc\\n', true ], [ 'def', true ], [ '<?stop?>comments\\n', false ], [ 'go\\n', false ], [ 'here\\n', false ] ], null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      [ source\n        cfg     ] = probe\n      result      = []\n      tokens      = []\n      parser      = new tools.Start_stop_preprocessor cfg\n      for d from parser.walk source\n        tokens.push d\n        result.push [ d.value, d.data.active, ]\n      # debug '^4353^', ( ( GUY.trm.reverse ( if d.data.active then GUY.trm.green else GUY.trm.red ) rpr d.value ) for d in tokens ).join ''\n      # H.tabulate \"#{rpr probe}\", tokens\n      # echo [ probe, result, error, ]\n      resolve result\n  #.........................................................................................................\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@positioning_api = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  new_lexer = ( cfg ) ->\n    lexer   = new Interlex { split: 'lines', cfg..., }\n    #.........................................................................................................\n    do =>\n      mode = 'plain'\n      lexer.add_lexeme { mode, tid: 'number',   pattern: /[0-9]+/u,       reserved: [ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ], }\n      lexer.add_lexeme { mode, tid: 'ws',       pattern: /\\s+/u,          reserved: ' ', }\n      lexer.add_lexeme { mode, tid: 'nl',       pattern: /$/u, value: '\\n', }\n      lexer.add_catchall_lexeme { mode, tid: 'text', concat: true, }\n    #.........................................................................................................\n    return lexer\n  #.........................................................................................................\n  probes_and_matchers = [\n    [ [ 'helo', { lnr: 3, x: 10, } ], \"text'helo'3,10,3,14|nl'\\\\n'3,14,3,14\", null ]\n    [ [ 'helo', { lnr: 3, x: -10, } ], null, /not a valid ilx_set_offset_cfg/, ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n      # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n      [ source\n        offset  ] = probe\n      result      = []\n      tokens      = []\n      lexer       = new_lexer()\n      lexer.set_offset offset\n      for d from lexer.walk source\n        urge '^33-2^', rpr d.value\n        tokens.push d\n        result.push \"#{d.tid}#{rpr d.value}#{d.lnr1},#{d.x1},#{d.lnr2},#{d.x2}\"\n      # debug '^4353^', ( ( GUY.trm.reverse ( if d.data.active then GUY.trm.green else GUY.trm.red ) rpr d.value ) for d in tokens ).join ''\n      H.tabulate \"#{rpr probe}\", tokens\n      result = result.join '|'\n      resolve result\n  #.........................................................................................................\n  done?()\n  return null\n\n#-----------------------------------------------------------------------------------------------------------\n@start_stop_preprocessor_positioning = ( T, done ) ->\n  { Interlex\n    compose\n    tools   } = require '../../../apps/intertext-lexer'\n  #.........................................................................................................\n  new_lexer = ( cfg ) ->\n    lexer   = new Interlex { split: 'lines', cfg..., }\n    #.........................................................................................................\n    do =>\n      mode = 'plain'\n      lexer.add_lexeme { mode, tid: 'any',    pattern: /.+/u, }\n      # lexer.add_lexeme { mode, tid: 'escchr',   pattern: /\\\\(?<chr>.)/u,  reserved: '\\\\', }\n      # lexer.add_lexeme { mode, tid: 'number',   pattern: /[0-9]+/u,       reserved: [ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ], }\n      # lexer.add_lexeme { mode, tid: 'ws',       pattern: /\\s+/u,          reserved: ' ', }\n      lexer.add_lexeme { mode, tid: 'nl',     pattern: /$/u, value: '\\n', }\n      # lexer.add_catchall_lexeme { mode, tid: 'text', concat: true, }\n    #.........................................................................................................\n    return lexer\n  #.........................................................................................................\n  probes_and_matchers = [\n    # [ [ 'helo', { active: false, }, ], [ [ 'helo\\n', false ] ], null ]\n    # [ [ 'helo <?start?>world<?stop?>!', { active: false, }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n    [ [ 'abc<?start?>def\\nghi<?start?>uvw\\nxyz', { active: false, joiner: '%', }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n    [ [ 'abc<?stop?>def\\nghi\\n<?start?>uvw\\nxyz', { active: true, joiner: '%', }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n    [ [ 'abc<?stop?>whatever<?start?>xyz', { active: true, joiner: '%', }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n    [ [ '<?stop?>whatever<?start?>xyz', { active: true, joiner: '%', }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n       # abc                         xyz⏎\n    # [ [ 'helo <?start?>\\nworld<?stop?>\\n<?start?>!!', { active: false, }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n    # [ [ 'helo <?stop?>comments\\ngo\\nhere\\n', { active: true } ], [ [ 'helo ', true ], [ '<?stop?>comments\\n', false ], [ 'go\\n', false ], [ 'here\\n', false ], [ '\\n', false ] ], null ]\n    # [ [ 'abc<?stop?><?start?>xyz', { active: true, }, ], \"any'world'1,14,1,19|nl'\\\\n'1,19,1,19\", null ]\n\n    # [ [ 'helo <?start?>world<?stop_all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world', true ], [ '<?stop_all?>!\\n', false ] ], null ]\n    # [ [ 'helo <?start?>world<?stop-all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world', true ], [ '<?stop-all?>!\\n', false ] ], null ]\n    # [ [ 'helo <?start?>world<?stop-all\\\\?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world<?stop-all\\\\?>!\\n', true ] ], null ]\n    # [ [ 'helo <?start?>world\\n<?stop_all?>!', { active: false, }, ], [ [ 'helo <?start?>', false ], [ 'world\\n', true ], [ '<?stop_all?>!\\n', false ] ], null ]\n    ]\n  #.........................................................................................................\n  for [ probe, matcher, error, ] in probes_and_matchers\n    # await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n    # H.show_lexer_as_table 'new_syntax_for_modes', lexer; process.exit 111\n    [ source\n      cfg     ] = probe\n    result      = []\n    tokens      = []\n    parser      = new tools.Start_stop_preprocessor cfg\n    lexer       = new_lexer()\n    for d from parser.walk source\n      help '^33-1^', ( rpr d.value ), GUY.trm.truth d.data.active\n      tokens.push stamp d\n      if d.data.active\n        lexer.XXX_set_position d # { lnr1, }\n        for token from lexer.walk d.value\n          tokens.push token\n          result.push \"#{token.tid}#{rpr token.value}#{token.lnr1},#{token.x1},#{token.lnr2},#{token.x2}\"\n    # debug '^4353^', ( ( GUY.trm.reverse ( if d.data.active then GUY.trm.green else GUY.trm.red ) rpr d.value ) for d in tokens ).join ''\n    result_rpr = ( t.value for t in tokens when not t.$stamped ).join '|'\n    # H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", tokens\n    H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", ( t for t in tokens when     t.$stamped )\n    H.tabulate \"#{rpr probe} -> #{rpr result_rpr}\", ( t for t in tokens when not t.$stamped )\n    result = result.join '|'\n    echo [ probe, result, error, ]\n    T?.eq result, matcher\n  #.........................................................................................................\n  done?()\n  return null\n\n\n\n\n############################################################################################################\nif require.main is module then do =>\n  # test @\n  # @positioning_api()\n  # test @positioning_api\n  # test @start_stop_preprocessor_basic\n  # @start_stop_preprocessor_instantiation()\n  test @start_stop_preprocessor_instantiation\n  # @start_stop_preprocessor_positioning()\n  # test @start_stop_preprocessor_positioning\n"
  ]
}