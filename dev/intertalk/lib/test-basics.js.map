{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/test-basics.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n'use strict'\n\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'subsidiary'\n{ rpr\n  inspect\n  echo\n  reverse\n  log     }               = GUY.trm\ntest                      = require 'guy-test'\n#-----------------------------------------------------------------------------------------------------------\ns                         = ( name ) -> Symbol.for  name\nps                        = ( name ) -> Symbol      name\n\n\n# #-----------------------------------------------------------------------------------------------------------\n# @[ \"_XEMITTER: _\" ] = ( T, done ) ->\n#   { DATOM }                 = require '../../../apps/datom'\n#   { new_datom\n#     select }                = DATOM\n  # { Djehuti }               = require '../../../apps/intertalk'\n#   #.........................................................................................................\n#   probes_and_matchers = [\n#     [['^foo', { time: 1500000, value: \"msg#1\", }],{\"time\":1500000,\"value\":\"msg#1\",\"$key\":\"^foo\"},null]\n#     ]\n#   #.........................................................................................................\n#   for [ probe, matcher, error, ] in probes_and_matchers\n#     await T.perform probe, matcher, error, -> return new Promise ( resolve, reject ) ->\n#       [ key, value, ] = probe\n#       resolve new_datom key, value\n#   done()\n#   return null\n#===========================================================================================================\ndemo_1 = ->\n  INTERTALK = require '../../../apps/intertalk'\n  { AE, Async_events, AE_Event, Event_results, Datom, isa, validate, isa_optional, validate_optional } = INTERTALK\n  receiver =\n    on_square:      ( event ) -> info '^992-4^', event; event.$value ** 2\n    on_cube:        ( event ) -> info '^992-6^', event; event.$value ** 3\n    on_double:      ( event ) -> info '^992-5^', event; event.$value *  2\n    on_any:         ( event ) -> info '^992-5^', event\n    on_cube_symbol: ( event ) -> info '^992-6^', event; event.$value ** 3\n  AE.on 'square',   receiver\n  AE.on 'double',   receiver\n  AE.on 'cube',     receiver.on_cube\n  AE.on s'cube',    receiver.on_cube\n  AE.on '*',        receiver.on_any\n  # urge '^992-7^', AE\n  # urge '^992-8^', AE.key_symbols[ 'square' ]\n  # urge '^992-9^', AE.listeners\n  # urge '^992-10^', AE.listeners.get AE.key_symbols[ 'square' ]\n  urge '^992-11^', await AE.emit            'square', 11\n  urge '^992-12^', await AE.emit            'double', 12\n  urge '^992-13^', await AE.emit            'cube',   13\n  urge '^992-13^', await AE.emit new AE_Event  'cube',   14\n  urge '^992-13^', await AE.emit new AE_Event  s'cube',  14\n  ### TAINT should not be accepted, emit 1 object or 1 key plus 0-1 data: ###\n  try ( urge '^992-14^', await AE.emit 'double', 3, 4, 5, 6      ) catch e then warn '^992-15^', reverse e.message\n  try ( urge '^992-16^', await AE.emit 'foo', 3, [ 4, 5, 6, ] ) catch e then warn '^992-17^', reverse e.message\n  urge '^992-18^', await AE.emit 'foo', [ 3, 4, 5, 6, ]\n  return null\n\n#===========================================================================================================\ndemo_2 = ->\n  INTERTALK = require '../../../apps/intertalk'\n  { AE, Async_events, AE_Event, Event_results, Datom, isa, validate, isa_optional, validate_optional } = INTERTALK\n  class A\n  class B extends Object\n  urge '^992-19^', A\n  urge '^992-20^', A.freeze\n  urge '^992-21^', new A()\n  urge '^992-22^', B\n  urge '^992-23^', new B()\n  urge '^992-24^', isa.object A\n  urge '^992-25^', isa.object B\n  urge '^992-26^', isa.object new A()\n  urge '^992-27^', isa.object new B()\n  try new Datom()     catch e then warn '^992-28^', reverse e.message\n  try new Datom 5     catch e then warn '^992-29^', reverse e.message\n  try new Datom null  catch e then warn '^992-30^', reverse e.message\n  try new Datom {}    catch e then warn '^992-31^', reverse e.message\n  urge '^992-32^', new Datom 'foo'\n  urge '^992-33^', new Datom 'foo', null\n  urge '^992-34^', new Datom 'foo', undefined\n  urge '^992-35^', new Datom 'foo', 56\n  urge '^992-36^', new Datom 'foo', { bar: 56, }\n  urge '^992-37^', new Datom 'foo', { bar: 56, $key: 'other', }\n  urge '^992-38^', new Datom s'foo', { bar: 56, $key: 'other', }\n  urge '^992-39^', new Datom { bar: 56, $key: 'other', }\n  urge '^992-40^', new Datom { bar: 56, $key: 'other', $freeze: false, }\n  urge '^992-41^', new Datom { bar: 56, $key: 'other', $freeze: true, }\n  urge '^992-42^', new Datom { bar: 56, $key: 'other', $freeze: null, }\n  urge '^992-43^', new Datom 'something', { $freeze: false, }\n  urge '^992-44^', new Datom 'something', { $freeze: true,  }\n  urge '^992-45^', new Datom 'something', { $freeze: null,  }\n  #.........................................................................................................\n  ### must set `{ $freeze: false, }` explicitly else datom will be (superficially) frozen: ###\n  do =>\n    d = new Datom 'o', { $freeze: false, }\n    d.p = 7\n    urge '^992-46^', d\n    return null\n  #.........................................................................................................\n  ### passing in an existing datom (or event) `d` into `new Datom d` (or `new AE_Event d`) results in a copy\n  of `d`: ###\n  do =>\n    d = new Datom 'o', { $freeze: false, }\n    e = new Datom d\n    urge '^992-47^', d, e, d is e\n    return null\n  #.........................................................................................................\n  ### events are just `Datom`s: ###\n  urge '^992-48^', new AE_Event s'foo', { bar: 56, }\n  #.........................................................................................................\n  ### calls to `emit` are just calls to `new AE_Event()`: ###\n  await do =>\n    AE.on 'myevent', ( event ) -> info '^992-49^', event; event.n ** 2\n    help '^992-50^', await AE.emit 'myevent', { n: 16, }\n    return null\n  #.........................................................................................................\n  return null\n\n\n#===========================================================================================================\nif module is require.main then await do =>\n  await demo_1()\n  await demo_2()\n  # await demo_3()\n  # urge '^992-51^', await Promise.all (\n  #   # new Promise ( ( resolve, reject ) -> resolve i ) for i in [ 1 .. 10 ]\n  #   ( ( ( count ) -> await count ) i + 1 ) for i in [ 1 .. 10 ]\n  #   )\n\n\n\n\n\n\n\n"
  ]
}