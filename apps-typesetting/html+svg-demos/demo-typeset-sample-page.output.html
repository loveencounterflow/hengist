<!doctype html>

<title>SVG with glyph outlines</title>
<style>
  body {
    background-color:       #96f0c93b;
    transform-origin:       0px 0px 0px;
    transform:              scale(1.4157,1.4157);
  }

  .shady {
    fill:                   blue;
    opacity:                0.5; }

  .reveal-blocks .galley {                      /* debugging */
    outline:                1px dotted blue;
    overflow:               visible; }

  .galley.A4 {
    width:                  210mm;
    height:                 297mm; }

  .svg-font {
    display:                none; }

  #xxx {
    display:                none; }

  .show-grid #xxx {
    display:                block; }

  </style>

<body class='reveal-blocks show-grid'>


<h1>Demo Typeset Sample Page</h1>

<svg id='outlines' class='svg-font' viewBox='0 0 1000 1000' overflow='visible'>
  <style>
    .glyfbox {
      fill:                   brown;
      opacity:                0.5;
      mix-blend-mode:         multiply;
      stroke:                 red;
      stroke-width:           5mm;
    }
  </style>

<!-- Part I where we declare one outline per font and glyf -->
<!-- Outlines are defined in an em square of 1000⨉1000 units -->
<!-- Only integer numbers are used in outlines so a 1cm high glyf has a precision of 0.01mm -->
<!-- and a 10cm high glyf still has a precision of 0.1mm, which should be good enough. -->
<!-- ID pattern: kind — font ID — glyf ID: O(outline)_L(atin)M(odern)C(ursive)_glyfid -->
<!-- <path id='o_lmc_74' d='M839-18C839-31 832-31 812-31C754-31 754-39 754-48C754-48 754-56 758-71L893-612C901-644 909-652 972-652C993-652 1002-652 1002-670C1002-683 994-683 977-683L849-683C827-683 824-683 813-665L473-100L417-661C415-683 413-683 389-683L256-683C240-683 229-683 229-664C229-652 237-652 256-652C287-652 314-652 314-635C314-632 314-630 310-616L182-101C168-45 130-33 85-31C77-31 66-30 66-12C66-3 72 0 79 0C109 0 143-3 174-3C206-3 241 0 272 0C278 0 290 0 290-18C290-30 283-31 271-31C214-33 212-59 212-74C212-77 212-83 216-99L349-630L350-630L411-24C413-7 413 0 428 0C441 0 446-7 452-18L825-639L826-639L685-73C677-39 671-31 603-31C587-31 576-31 576-12C576 0 587 0 590 0C627 0 666-3 704-3C742-3 783 0 820 0C827 0 839 0 839-18Z'/> -->
<path id='o68djvsi' d='M363-81Q298 14 193 14Q107 14 64-44Q34-85 34-144Q34-168 39-196Q72-369 192-458Q294-533 418-533Q501-533 529-519L438-52L516-52L506 0L348 0L363-81Z M128-146Q128-42 229-42Q291-42 333-91Q375-140 393-234L438-469L438-469Q438-483 399-483Q306-483 233-410Q161-336 135-203Q128-171 128-146Z'/>
<path id='o3262djvsi' d='M485-467L247-467L150 32Q133 119 79 164Q25 208-62 208L -56 160Q -5 160 20 133Q46 104 60 32L157-467L71-467L81-519L167-519L180-584Q197-671 250-715Q304-760 392-760Q424-760 456-754Q487-748 518-736L498-637L451-637Q453-647 453-657Q453-679 441-693Q424-712 386-712Q335-712 310-684Q284-657 270-586L257-519L496-519L505-566Q523-662 590-711Q657-760 769-760Q811-760 854-753Q897-747 938-734L917-628L872-628Q873-637 873-645Q873-675 853-691Q827-712 767-712Q692-712 651-677Q609-643 595-568L585-519L933-519L842-52L927-52L917 0L742 0L833-467L575-467L478 32Q461 119 407 164Q354 208 266 208L272 160Q323 160 348 133Q375 104 388 32L485-467Z'/>
<path id='o85djvsi' d='M527-520L502-390L450-390Q452-400 452-408Q452-434 440-448Q425-467 388-467Q322-467 277-421Q233-375 216-289L160 0L70 0L161-468L75-468L85-519L261-519L243-427Q280-481 326-507Q373-533 433-533Q455-533 478-530Q501-526 527-520Z'/>
<path id='o80djvsi' d='M547-418Q584-475 630-504Q676-533 730-533Q812-533 842-482Q860-452 860-403Q860-371 852-330L798-52L879-52L869 0L698 0L760-320Q768-358 768-385Q768-416 759-433Q742-467 688-467Q628-467 588-421Q547-376 530-289L474 0L384 0L447-323Q454-360 454-386Q454-417 445-434Q428-467 374-467Q314-467 274-421Q233-376 216-289L160 0L70 0L161-468L75-468L85-519L261-519L243-427Q278-479 322-506Q366-533 415-533Q475-533 510-503Q544-473 547-418Z'/>
<path id='o87djvsi' d='M134-467L55-467L65-519L144-519L175-680L266-680L234-519L403-519L393-467L224-467L160-137Q153-99 153-76Q153-61 156-53Q166-34 200-34Q235-34 255-55Q275-76 285-122L353-122Q335-51 294-19Q253 14 183 14Q105 14 79-21Q63-42 63-81Q63-105 70-137L134-467Z'/>
<path id='o76djvsi' d='M158-680Q162-703 182-719Q201-736 224-736Q247-736 260-719Q270-707 270-691Q270-686 269-680Q264-657 245-641Q226-625 203-625Q180-625 167-641Q157-653 157-669Q157-674 158-680Z M150-52L235-52L226 0L51 0L141-467L55-467L65-519L241-519L150-52Z'/>
<path id='o82djvsi' d='M257-34Q329-34 377-91Q425-148 447-260Q457-311 457-350Q457-397 443-428Q417-485 345-485Q272-485 224-428Q176-371 155-260Q145-209 145-170Q145-123 159-91Q185-34 257-34Z M248 14Q134 14 80-61Q42-113 42-188Q42-222 50-260Q74-384 157-458Q240-533 354-533Q468-533 522-458Q559-407 559-332Q559-298 552-260Q528-136 445-61Q361 14 248 14Z'/>
<path id='o81djvsi' d='M70 0L161-467L75-467L85-519L261-519L243-427Q278-479 323-506Q368-533 421-533Q507-533 538-484Q557-454 557-404Q557-372 548-330L494-52L574-52L564 0L394 0L453-302Q462-352 462-386Q462-416 455-433Q438-468 379-468Q316-468 275-422Q233-376 216-289L160 0L70 0Z'/>
<path id='o17djvsi' d='M94-51Q100-78 122-97Q144-116 172-116Q199-116 214-97Q229-78 224-51Q219-24 196-5Q173 14 146 14Q119 14 104-5Q89-23 94-51Z'/>

<!-- Part II where we declare one outline per size -->
<!-- since outlines have 1000 units per em and the galley has 1mm per unit,
the scale factor equals ( size in mm ) times ( 1 / 1000 ) (0.001 ≘ 1mm) -->
<!-- <use id='o_lmc_74_6'  transform='scale(0.006)' href='#o_lmc_74'/> -->
<use href='#o68djvsi' id='s68djvsi-20' transform='scale(0.0200)'/>
<use href='#o3262djvsi' id='s3262djvsi-20' transform='scale(0.0200)'/>
<use href='#o85djvsi' id='s85djvsi-20' transform='scale(0.0200)'/>
<use href='#o80djvsi' id='s80djvsi-20' transform='scale(0.0200)'/>
<use href='#o87djvsi' id='s87djvsi-20' transform='scale(0.0200)'/>
<use href='#o76djvsi' id='s76djvsi-20' transform='scale(0.0200)'/>
<use href='#o82djvsi' id='s82djvsi-20' transform='scale(0.0200)'/>
<use href='#o81djvsi' id='s81djvsi-20' transform='scale(0.0200)'/>
<use href='#o17djvsi' id='s17djvsi-20' transform='scale(0.0200)'/>

</svg>



<!-- =================================================================================================== -->
<svg class='svg-grid' viewBox='0 0 100 100' overflow='visible'>
  <style>
    .svg-grid {
      display:                none;
      width:                  100mm;
      height:                 100mm;
      outline:                1px dotted red; }

    .gridh, .gridv {
      mix-blend-mode:         multiply; }

    .h0, .h1, .h2, .h3, .h4, .h5, .h6, .h7, .h8, .h9,
    .v0, .v1, .v2, .v3, .v4, .v5, .v6, .v7, .v8, .v9 {
      opacity:                0.5;
      stroke-width:           0.25;
      stroke:                 red; }

    .h0, .v0 {
      stroke-width:           0.5;
      opacity:                0.8; }

    .h5, .v5 {
      stroke-width:           0.25;
      opacity:                1; }

    .gtx text {
      font-family:            'Iosevka Slab', monospace;
      font-size:              1mm;
      fill:                   red;
      opacity:                0.8; }

    .gtx rect {
      width:                  100%;
      height:                 100%;
      fill:                   white; }

  </style>
  <defs>
    <path class='gridh' id='gh' d='M0 0 L210 0'/>
    <path class='gridv' id='gv' d='M0 0 L0 297'/>
    <g id='ghm'>
      <svg class='gtx' x='046.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>050</text></svg>
      <svg class='gtx' x='096.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>100</text></svg>
      <svg class='gtx' x='146.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>150</text></svg>
      <svg class='gtx' x='196.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>200</text></svg>
      </g>
    <g id='gvm'>
      <svg class='gtx' x='2' y='047.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>050</text></svg>
      <svg class='gtx' x='2' y='097.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>100</text></svg>
      <svg class='gtx' x='2' y='147.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>150</text></svg>
      <svg class='gtx' x='2' y='197.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>200</text></svg>
      <svg class='gtx' x='2' y='247.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>250</text></svg>
      </g>
    </defs>
  <g id='cm-grid'>
    <use href='#gh' class='h0' x='000' y='000'/>
    <use href='#gh' class='h1' x='000' y='010'/>
    <use href='#gh' class='h2' x='000' y='020'/>
    <use href='#gh' class='h3' x='000' y='030'/>
    <use href='#gh' class='h4' x='000' y='040'/>
    <use href='#gh' class='h5' x='000' y='050'/>
    <use href='#gh' class='h6' x='000' y='060'/>
    <use href='#gh' class='h7' x='000' y='070'/>
    <use href='#gh' class='h8' x='000' y='080'/>
    <use href='#gh' class='h9' x='000' y='090'/>
    <use href='#gh' class='h0' x='000' y='100'/>
    <use href='#gh' class='h1' x='000' y='110'/>
    <use href='#gh' class='h2' x='000' y='120'/>
    <use href='#gh' class='h3' x='000' y='130'/>
    <use href='#gh' class='h4' x='000' y='140'/>
    <use href='#gh' class='h5' x='000' y='150'/>
    <use href='#gh' class='h6' x='000' y='160'/>
    <use href='#gh' class='h7' x='000' y='170'/>
    <use href='#gh' class='h8' x='000' y='180'/>
    <use href='#gh' class='h9' x='000' y='190'/>
    <use href='#gh' class='h0' x='000' y='200'/>
    <use href='#gh' class='h1' x='000' y='210'/>
    <use href='#gh' class='h2' x='000' y='220'/>
    <use href='#gh' class='h3' x='000' y='230'/>
    <use href='#gh' class='h4' x='000' y='240'/>
    <use href='#gh' class='h5' x='000' y='250'/>
    <use href='#gh' class='h6' x='000' y='260'/>
    <use href='#gh' class='h7' x='000' y='270'/>
    <use href='#gh' class='h8' x='000' y='280'/>
    <use href='#gh' class='h9' x='000' y='290'/>
    <use href='#gv' class='v0' x='000' y='000'/>
    <use href='#gv' class='v1' x='010' y='000'/>
    <use href='#gv' class='v2' x='020' y='000'/>
    <use href='#gv' class='v3' x='030' y='000'/>
    <use href='#gv' class='v4' x='040' y='000'/>
    <use href='#gv' class='v5' x='050' y='000'/>
    <use href='#gv' class='v6' x='060' y='000'/>
    <use href='#gv' class='v7' x='070' y='000'/>
    <use href='#gv' class='v8' x='080' y='000'/>
    <use href='#gv' class='v9' x='090' y='000'/>
    <use href='#gv' class='v0' x='100' y='000'/>
    <use href='#gv' class='v1' x='110' y='000'/>
    <use href='#gv' class='v2' x='120' y='000'/>
    <use href='#gv' class='v3' x='130' y='000'/>
    <use href='#gv' class='v4' x='140' y='000'/>
    <use href='#gv' class='v5' x='150' y='000'/>
    <use href='#gv' class='v6' x='160' y='000'/>
    <use href='#gv' class='v7' x='170' y='000'/>
    <use href='#gv' class='v8' x='180' y='000'/>
    <use href='#gv' class='v9' x='190' y='000'/>
    <use href='#gv' class='v0' x='200' y='000'/>
    <use href='#gv' class='v1' x='210' y='000'/>
    <use href='#ghm' x='000' y='000'/>
    <use href='#ghm' x='000' y='289'/>
    <use href='#gvm' x='000' y='000'/>
    <use href='#gvm' x='200' y='000'/>
    </g>
  </svg>

<!-- =================================================================================================== -->
<!-- Part III where we position and style the scaled outlines to construct the page to be printed. -->
<!-- Coordinates have a pleasant ratio of 1 unit per mm. -->

<svg id=p0001 class='galley A4' viewBox='0 0 210 297'>
<use id='xxx' x='000' y='000' href='#cm-grid'/>
<rect x='50' y='50' width='10' height='10' style='fill:blue;'/>

<!-- <use x='000' y='020' href='#o_lmc_90_10'/> -->
<use href='#s68djvsi-20' x='0' y='50'/>
<use href='#s3262djvsi-20' x='12.21' y='50'/>
<use href='#s85djvsi-20' x='31.490000000000002' y='50'/>
<use href='#s80djvsi-20' x='41.28' y='50'/>
<use href='#s68djvsi-20' x='60.7' y='50'/>
<use href='#s87djvsi-20' x='72.91' y='50'/>
<use href='#s76djvsi-20' x='81.14' y='50'/>
<use href='#s82djvsi-20' x='87.69' y='50'/>
<use href='#s81djvsi-20' x='100.02' y='50'/>
<use href='#s17djvsi-20' x='113.21000000000001' y='50'/>


</svg>

</body>
