<!doctype html>

<title>SVG with glyph outlines</title>
<style>
  body {
    background-color:       #96f0c93b;
    transform-origin:       0px 0px 0px;
    transform:              scale(1.4157,1.4157);
  }

  .shady {
    fill:                   blue;
    opacity:                0.5; }

  .reveal-blocks .galley {                      /* debugging */
    outline:                1px dotted blue;
    overflow:               visible; }

  .galley.A4 {
    width:                  210mm;
    height:                 297mm; }

  .svg-font {
    display:                none; }

  #xxx {
    display:                none; }

  .show-grid #xxx {
    display:                block; }

  .typeframe {
    opacity:                50%;
    stroke:                 blue;
    stroke-width:           10mm;
    fill:                   white; }

  .fontmetric {
    mix-blend-mode:         multiply;
    stroke:                 steelblue; }

  remarks {
    display:                block;
    background-color:       #345;
    color:                  white;
    padding:                1em;
    margin:                 1em; }

  .glyfbox {
    fill:                   brown;
    opacity:                0.5;
    mix-blend-mode:         multiply;
    stroke:                 red;
    stroke-width:           5mm; }

  #oNull {
    fill:                   fuchsia;
    mix-blend-mode:         multiply; }

  </style>

<body class='reveal-blocks show-grid'>

<!-- =================================================================================================== -->
<svg class='svg-grid' viewBox='0 0 100 100' overflow='visible'>
  <style>
    .svg-grid {
      display:                none;
      width:                  100mm;
      height:                 100mm;
      outline:                1px dotted red; }

    .gridh, .gridv {
      mix-blend-mode:         multiply; }

    .h0, .h1, .h2, .h3, .h4, .h5, .h6, .h7, .h8, .h9,
    .v0, .v1, .v2, .v3, .v4, .v5, .v6, .v7, .v8, .v9 {
      opacity:                0.5;
      stroke-width:           0.25;
      stroke:                 red; }

    .h0, .v0 {
      stroke-width:           0.5;
      opacity:                0.8; }

    .h5, .v5 {
      stroke-width:           0.25;
      opacity:                1; }

    .gtx text {
      font-family:            'Iosevka Slab', monospace;
      font-size:              1mm;
      fill:                   red;
      opacity:                0.8; }

    .gtx rect {
      width:                  100%;
      height:                 100%;
      fill:                   white; }

  </style>
  <defs>
    <path class='gridh' id='gh' d='M0 0 L210 0'/>
    <path class='gridv' id='gv' d='M0 0 L0 297'/>
    <g id='ghm'>
      <svg class='gtx' x='046.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>050</text></svg>
      <svg class='gtx' x='096.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>100</text></svg>
      <svg class='gtx' x='146.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>150</text></svg>
      <svg class='gtx' x='196.5' y='2' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>200</text></svg>
      </g>
    <g id='gvm'>
      <svg class='gtx' x='2' y='047.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>050</text></svg>
      <svg class='gtx' x='2' y='097.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>100</text></svg>
      <svg class='gtx' x='2' y='147.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>150</text></svg>
      <svg class='gtx' x='2' y='197.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>200</text></svg>
      <svg class='gtx' x='2' y='247.5' width='7' height='4'><rect width='1' height='1'/><text x='0.5' y='3.5'>250</text></svg>
      </g>
    </defs>
  <g id='cm-grid'>
    <use href='#gh' class='h0' x='000' y='000'/>
    <use href='#gh' class='h1' x='000' y='010'/>
    <use href='#gh' class='h2' x='000' y='020'/>
    <use href='#gh' class='h3' x='000' y='030'/>
    <use href='#gh' class='h4' x='000' y='040'/>
    <use href='#gh' class='h5' x='000' y='050'/>
    <use href='#gh' class='h6' x='000' y='060'/>
    <use href='#gh' class='h7' x='000' y='070'/>
    <use href='#gh' class='h8' x='000' y='080'/>
    <use href='#gh' class='h9' x='000' y='090'/>
    <use href='#gh' class='h0' x='000' y='100'/>
    <use href='#gh' class='h1' x='000' y='110'/>
    <use href='#gh' class='h2' x='000' y='120'/>
    <use href='#gh' class='h3' x='000' y='130'/>
    <use href='#gh' class='h4' x='000' y='140'/>
    <use href='#gh' class='h5' x='000' y='150'/>
    <use href='#gh' class='h6' x='000' y='160'/>
    <use href='#gh' class='h7' x='000' y='170'/>
    <use href='#gh' class='h8' x='000' y='180'/>
    <use href='#gh' class='h9' x='000' y='190'/>
    <use href='#gh' class='h0' x='000' y='200'/>
    <use href='#gh' class='h1' x='000' y='210'/>
    <use href='#gh' class='h2' x='000' y='220'/>
    <use href='#gh' class='h3' x='000' y='230'/>
    <use href='#gh' class='h4' x='000' y='240'/>
    <use href='#gh' class='h5' x='000' y='250'/>
    <use href='#gh' class='h6' x='000' y='260'/>
    <use href='#gh' class='h7' x='000' y='270'/>
    <use href='#gh' class='h8' x='000' y='280'/>
    <use href='#gh' class='h9' x='000' y='290'/>
    <use href='#gv' class='v0' x='000' y='000'/>
    <use href='#gv' class='v1' x='010' y='000'/>
    <use href='#gv' class='v2' x='020' y='000'/>
    <use href='#gv' class='v3' x='030' y='000'/>
    <use href='#gv' class='v4' x='040' y='000'/>
    <use href='#gv' class='v5' x='050' y='000'/>
    <use href='#gv' class='v6' x='060' y='000'/>
    <use href='#gv' class='v7' x='070' y='000'/>
    <use href='#gv' class='v8' x='080' y='000'/>
    <use href='#gv' class='v9' x='090' y='000'/>
    <use href='#gv' class='v0' x='100' y='000'/>
    <use href='#gv' class='v1' x='110' y='000'/>
    <use href='#gv' class='v2' x='120' y='000'/>
    <use href='#gv' class='v3' x='130' y='000'/>
    <use href='#gv' class='v4' x='140' y='000'/>
    <use href='#gv' class='v5' x='150' y='000'/>
    <use href='#gv' class='v6' x='160' y='000'/>
    <use href='#gv' class='v7' x='170' y='000'/>
    <use href='#gv' class='v8' x='180' y='000'/>
    <use href='#gv' class='v9' x='190' y='000'/>
    <use href='#gv' class='v0' x='200' y='000'/>
    <use href='#gv' class='v1' x='210' y='000'/>
    <use href='#ghm' x='000' y='000'/>
    <use href='#ghm' x='000' y='289'/>
    <use href='#gvm' x='000' y='000'/>
    <use href='#gvm' x='200' y='000'/>
    </g>
  </svg>

<!-- =================================================================================================== -->
<!-- Part I where we declare one outline per font and glyf -->
<!-- Outlines are defined in an em square of 1000⨉1000 units -->
<!-- Only integer numbers are used in outlines so a 1cm high glyf has a precision of 0.01mm -->
<!-- and a 10cm high glyf still has a precision of 0.1mm, which should be good enough. -->
<!-- ID pattern: kind — font ID — glyf ID: O(outline)_L(atin)M(odern)C(ursive)_glyfid -->
<!-- <path id='o74lmc' d='M839-18C839-31 ...'/> -->
<svg id='outlines' class='svg-font' viewBox='0 0 1000 1000' overflow='visible'>
<!--?outlines-start?-->

<!--NULL--><path id='oNull' d='M0 200 L0-800 L1000-800 L1000 200'/>
<!--ی--><path id='o554amiri' d='M665-275Q614-302 526-256Q455-219 440-165Q438-157 441-149Q459-110 568-104Q677-98 683-50Q696 45 642 89Q493 208 307 215Q74 224 59 41Q52-51 100-151Q127-206 159-247Q174-267 185-256Q196-245 179-221Q92-93 124-9Q165 95 316 92Q494 89 609 2Q586-6 511-11Q412-19 395-69Q377-121 397-178Q441-302 533-369Q610-425 670-410Q728-395 703-301Q692-261 665-275Z'/>
<!--ر--><path id='o3215amiri' d='M -80 153Q -95 142-91 129Q -87 116-66 121Q31 141 95 116Q226 66 280-33Q279-51 228-122Q221-130 224-141L252-243Q269-303 304-228Q350-126 325-11Q310 58 249 132Q188 206 125 214Q22 226-80 153Z'/>
<!--ی--><path id='o3200amiri' d='M188-300Q190-290 192-269Q194-247 198-215Q206-151 220-131Q235-110 264-104Q292-98 298-73Q300-67 299-58Q297-49 294-35Q282 15 259 15Q147 15 147-176Q108-98 24-99Q -29-99-39-149Q -46-190-30-208Q -6-235 15-220Q21-216 24-214Q81-210 104-228Q127-246 146-304Q153-326 169-323Q185-320 188-300Z M161 75Q167 67 178 70Q198 77 217 88Q236 99 252 113Q260 121 255 131L207 207Q199 218 189 209Q185 205 172 197Q158 188 136 175L103 229Q96 239 85 231Q80 227 62 216Q43 205 12 186Q1 180 9 169L57 97Q63 89 74 92Q104 102 130 121L161 75Z'/>
<!--م--><path id='o2198amiri' d='M233-333Q307-331 335-149Q338-132 329-121L280-57Q267-41 245-45Q164-65 112-117Q70 14 0 15Q -20 15-29-14Q -38-43-38-67Q -38-91-17-101Q -13-103-9-104Q -4-105 0-105Q54-108 90-161Q95-169 111-195Q126-220 150-263Q189-333 233-333Z M161-220Q196-186 251-174Q252-217 222-231Q192-245 161-220Z'/>
<!--أ--><path id='o2874amiri' d='M277-65Q414-53 468-62Q432-223 194-506L180-481Q164-453 133-486L64-560Q45-581 49-611L62-698Q72-764 149-681Q265-556 369-399Q441-290 479-201Q517-112 522-43Q525 25 481 37Q433 49 381 51Q328 53 272 44Q251 39 246 27Q230-22 249-50Q261-66 277-65Z M185-795Q132-785 109-777Q86-769 26-743Q8-735-2-750Q -16-773 28-803Q -1-821-6-844Q -14-888 30-948Q74-1009 125-1004Q162-1001 159-965Q158-947 154-935Q149-922 144-914Q132-897 129-895Q115-885 104-900Q93-916 78-917Q62-918 54-909Q47-900 54-893Q85-864 147-862Q158-862 177-866Q188-868 195-870Q202-871 207-871Q217-871 224-861Q229-852 226-843Q205-800 185-795Z'/>
<!--ل--><path id='o2866amiri' d='M67-43Q33-11-5-9Q -42-8-42-34Q -42-45 0-70Q205-188 168-630Q166-652 168-667Q170-681 174-688L202-732Q207-742 215-740Q226-738 230-726Q240-696 249-677Q257-658 263-650Q279-631 258-607L235-583Q237-527 230-463Q223-398 209-326Q174-147 67-43Z'/>
<!--ا--><path id='o389amiri' d='M99-692Q119-735 125-672L149-428Q179-100 135-15Q125 3 116 0Q106-3 107-48Q108-86 99-174Q90-261 72-396L51-562Q48-583 57-603L99-692Z'/>
<!--‎--><path id='o3amiri' d=''/>
<!--ط--><path id='o2281amiri' d='M528-15Q464 7 315 18Q241 23 198 21Q155 19 141 11Q91-21 52-84Q30-121 72-114Q185-96 276-109Q292-127 306-143Q319-159 329-172Q331-201 328-262Q325-322 318-414Q311-506 305-568Q298-630 292-661L283-704Q280-715 308-773Q332-822 351-764Q365-722 387-701Q409-680 393-657L374-636Q368-630 368-624Q391-374 383-309Q379-277 376-252Q372-227 370-208Q407-239 447-265Q486-290 526-312Q608-356 640-343Q690-324 717-263Q723-249 720-225Q710-152 651-107Q703-98 751-104Q790-109 790-48Q790 14 752 15Q702 16 646 9Q590 1 528-15Z M537-217Q443-206 344-118Q524-132 629-178Q593-223 537-217Z'/>
<!--خ--><path id='o2984amiri' d='M -8-201Q19-268 57-278Q96-288 178-257Q219-241 268-230Q317-218 372-210Q428-202 479-201Q530-199 576-203Q624-207 608-176L568-100Q562-90 541-91Q362-100 247-65Q242-64 215-54Q188-44 138-24Q39 15 0 15Q -24 15-35-36Q -45-86-16-101Q -9-105 42-108Q94-111 239-148Q149-179 14-173Q -19-172-8-201Z M466-502Q472-510 483-507Q503-500 522-489Q540-478 556-464Q564-456 559-446L511-370Q504-360 493-368Q483-376 421-413Q410-420 417-430L466-502Z'/>
<!--ل--><path id='o2407amiri' d='M150-321Q146-376 139-444Q132-512 120-593L107-634Q104-650 112-663L147-718Q165-741 176-699Q185-666 217-631Q232-614 218-594L197-566Q189-556 190-549Q219-335 193-270Q160-187-4-178Q -39-176-47-183Q -51-187-54-191Q -57-194-59-196Q -70-219-21-274Q -10-287 13-288Q48-289 77-292Q106-295 128-299Q152-303 150-321Z'/>
<!--ق--><path id='o2214amiri' d='M495-230Q559-221 583-104Q616-104 619-103Q635-96 641-70Q647-44 640-15Q633 15 608 15L576 15Q574 22 570 36Q566 50 561 70Q551 108 528 139Q445 249 290 270Q209 281 146 243Q93 212 72 150Q33 34 139-115Q150-129 161-122Q171-114 160-97Q78 19 134 99Q163 139 246 150Q287 155 328 150Q369 144 411 128Q493 97 525 37Q527 28 524 14Q480 12 450 5Q419-3 402-19Q364-55 422-155Q436-180 447-196Q458-212 467-219Q481-232 495-230Z M498-103Q487-128 466-128Q445-128 451-115Q462-92 494-95Q501-96 498-103Z M496-446Q502-454 513-451Q533-444 552-433Q571-422 587-408Q595-400 590-390L542-314Q534-303 524-312Q520-316 507-325Q493-333 471-346L438-292Q431-282 420-290Q415-294 397-305Q378-316 347-335Q336-341 344-352L392-424Q398-432 409-429Q439-419 465-400L496-446Z'/>
<!--ی--><path id='o2011amiri' d='M182-145Q213-107 244-104Q272-101 276-84Q279-72 276-42Q275-27 272-17Q268-6 265 1Q259 15 244 15Q188 15 136-49Q74 15 0 15Q -21 15-27-12L -36-53Q -39-69-28-86Q -17-104 0-105Q119-114 146-164Q155-179 165-179Q180-179 180-162Q180-154 181-150Q182-146 182-145Z M161 60Q167 52 178 55Q198 62 217 73Q236 84 252 98Q260 106 255 116L207 192Q199 203 189 194Q185 190 172 182Q158 173 136 160L103 214Q96 224 85 216Q80 212 62 201Q43 190 12 171Q1 165 9 154L57 82Q63 74 74 77Q104 87 130 106L161 60Z'/>
<!--ل--><path id='o2190amiri' d='M93-115Q72 15 0 15Q -19 15-25-6Q -49-89 0-104Q58-122 58-182L41-615Q40-638 48-646L85-688Q104-710 104-663L115-432Q123-248 130-207Q148-116 198-104Q222-98 225-59Q228-21 217 4Q211 15 198 15Q129 15 93-115Z'/>
<!--ع--><path id='o1911amiri' d='M366-105Q404-105 410-74Q411-69 412-64Q412-58 411-53Q400 15 367 15Q265 15 180-87Q65 15 0 15Q -36 15-45-35Q -54-85-22-100Q -10-105 0-105Q63-106 108-133Q89-148 25-157Q4-160 8-185Q16-226 65-265Q159-337 275-271Q333-237 324-197Q315-160 255-125Q271-115 299-111Q327-106 366-105Z'/>
<!--ت--><path id='o1998amiri' d='M182-145Q213-107 244-104Q272-101 276-84Q279-72 276-42Q275-27 272-17Q268-6 265 1Q259 15 244 15Q188 15 136-49Q74 15 0 15Q -21 15-27-12L -36-53Q -39-69-28-86Q -17-104 0-105Q119-114 146-164Q155-179 165-179Q180-179 180-162Q180-154 181-150Q182-146 182-145Z M140-446Q146-454 157-451Q177-444 196-433Q215-422 231-408Q239-400 234-390L186-314Q178-303 168-312Q164-316 151-325Q137-333 115-346L82-292Q75-282 64-290Q59-294 41-305Q22-316-9-335Q -20-341-12-352L36-424Q42-432 53-429Q83-419 109-400L140-446Z'/>
<!--س--><path id='o3152amiri' d='M363-212Q351-174 357-171Q439-133 448-159Q448-159 455-182Q462-204 477-250Q479-251 481-252Q483-253 484-253Q507-254 510-208Q513-164 500-151Q487-138 487-138Q455-62 429-33Q393 4 286-65Q235-6 183-6Q131-6 100-57Q42 11 0 15Q -12 15-23-3Q -62-81-20-100Q -15-102-11-103Q -6-104-1-105Q92-113 133-206Q139-218 152-214Q164-210 160-195Q156-181 149-164Q161-128 214-130Q286-131 333-224Q342-241 355-235Q369-229 363-212Z'/>
<!--ن--><path id='o3132amiri' d='M101-503Q185-304 166-134Q165-121 161-108Q156-94 149-79Q136-49 110-49Q62-50-7-144Q -29-175-22-235Q -19-259-3-259Q8-259 14-245Q41-185 124-155Q121-229 44-379Q37-392 42-409L61-501Q74-565 101-503Z M37-746Q43-754 54-751Q74-744 93-733Q111-722 127-708Q135-700 130-690L82-614Q75-604 64-612Q54-620-8-657Q -19-664-12-674L37-746Z'/><!--?outlines-end?-->
</svg>


<h1>Demo Typeset Sample Page</h1>

<remarks><!--?remarks-start?-->

<div>fm: { ascender: -1124, capital_height: -646, descender: 634, scale: 1, units_per_em: 1000, x_height: -433 }</div>
<div>missing_chrs: [ { chrs: '字', x: 5108, y: 0 } ]</div><!--?remarks-end?--></remarks>

<!-- =================================================================================================== -->
<!-- Part II where we position and style the scaled outlines to construct the page to be printed. -->
<!-- Coordinates have a pleasant ratio of 1 unit per mm. -->
<!-- <use x='000' y='020' href='#o74lmc'/> -->
<svg id=p0001 class='galley A4' viewBox='0 0 210 297'>
<use id='xxx' x='000' y='000' href='#cm-grid'/>
<!--?content-start?-->

<g transform='translate(0 50) scale(0.0100)'>
<line class='fontmetric' stroke-width='25' x1='0' y1='-1124' x2='10000' y2='-1124'/>
<line class='fontmetric' stroke-width='25' x1='0' y1='634' x2='10000' y2='634'/>
<line class='fontmetric' stroke-width='25' x1='0' y1='-433' x2='10000' y2='-433'/>
<line class='fontmetric' stroke-width='25' x1='0' y1='-646' x2='10000' y2='-646'/>
<!--ی--><use href='#o554amiri' x='0'/>
<!--ر--><use href='#o3215amiri' x='764'/>
<!--ی--><use href='#o3200amiri' x='1055'/>
<!--م--><use href='#o2198amiri' x='1313'/>
<!--أ--><use href='#o2874amiri' x='1702'/>
<!--ل--><use href='#o2866amiri' x='2042'/>
<!--ا--><use href='#o389amiri' x='2344'/>
<!-- --><use href='#o3amiri' x='2561'/>
<!--ط--><use href='#o2281amiri' x='2853'/>
<!--خ--><use href='#o2984amiri' x='3604'/>
<!--ل--><use href='#o2407amiri' x='3676'/>
<!--ا--><use href='#o389amiri' x='4235'/>
<!-- --><use href='#o3amiri' x='4452'/>
<!--缺--><use href='#o0amiri' x='4744'/>
<!--字--><use href='#o0amiri' x='5108'/>
<!-- --><use href='#o3amiri' x='5472'/>
<!--‎--><use href='#o3amiri' x='5764'/>
<!--ق--><use href='#o2214amiri' x='5764'/>
<!--ی--><use href='#o2011amiri' x='6371'/>
<!--ل--><use href='#o2190amiri' x='6615'/>
<!--ع--><use href='#o1911amiri' x='6812'/>
<!--ت--><use href='#o1998amiri' x='7178'/>
<!--س--><use href='#o3152amiri' x='7422'/>
<!--ن--><use href='#o3132amiri' x='7914'/>
<!--字--><use href='#oNull' x='5108' y='0'/>
<text class='missing-chrs' style='font-size:1000px;' x='5108' y='0'>字</text>
</g>
<g transform='translate(0 70) scale(0.0100)'>
<!--字--><use href='#o0amiri' x='0'/>
<!--ع--><use href='#o1911amiri' x='1000'/>
<!--ت--><use href='#o1998amiri' x='2000'/>
<!--ی--><use href='#o2011amiri' x='3000'/>
<!--ل--><use href='#o2190amiri' x='4000'/>
<!--م--><use href='#o2198amiri' x='5000'/>
<!--ق--><use href='#o2214amiri' x='6000'/>
<!--ط--><use href='#o2281amiri' x='7000'/>
<!--ل--><use href='#o2407amiri' x='8000'/>
<!--ل--><use href='#o2866amiri' x='9000'/>
<!--أ--><use href='#o2874amiri' x='10000'/>
<!--خ--><use href='#o2984amiri' x='11000'/>
<!--ن--><use href='#o3132amiri' x='12000'/>
<!--س--><use href='#o3152amiri' x='13000'/>
<!--ی--><use href='#o3200amiri' x='14000'/>
<!--ر--><use href='#o3215amiri' x='15000'/>
<!--ا--><use href='#o389amiri' x='16000'/>
<!--‎--><use href='#o3amiri' x='17000'/>
<!--ی--><use href='#o554amiri' x='18000'/>
</g><!--?content-end?-->
</svg>

</body>
